# AWS re:Invent 2025 - 使用Amazon Bedrock Agent Core进行多智能体安全运营协作

## 会议概述

本次会议由AWS高级解决方案架构师Venkata和机器学习及智能体解决方案专家Eric Hortzen主讲，重点介绍如何利用Amazon Bedrock Agent Core平台构建多智能体系统来自动化安全运营流程。会议针对安全运营团队和开发人员，展示了如何通过多智能体协作解决安全团队面临的重复性任务挑战，包括安全告警调查、修复和报告生成等核心工作流程。

演讲者通过实际案例和代码演示，详细介绍了如何构建包含调查智能体、修复智能体和报告智能体的完整安全运营解决方案。该方案基于Amazon Bedrock Agent Core平台，能够自动处理来自Amazon Inspector和Amazon GuardDuty的安全告警，实现从告警接收到问题修复再到报告生成的全流程自动化。

## 详细时间线与关键要点

### 0:00-5:00 - 会议开场与背景介绍
- 演讲者自我介绍：Venkata（高级解决方案架构师，专注ML和弹性）和Eric Hortzen（解决方案架构师，专注机器学习和智能体解决方案）
- 现场调研：安全运营人员、开发人员和Agent Core使用经验
- 会议议程预览：挑战分析、Agent Core概述、解决方案架构、代码演示

### 5:00-10:00 - 安全运营面临的挑战
- 安全团队的两大关注点：战略性和运营性工作
- 重复性任务问题：大量安全告警需要人工审查、调查和修复
- 典型工作流程：接收告警→手动调查→执行修复→生成报告
- 运营负担：团队更多专注于运营而非战略性工作

### 10:00-15:00 - 安全运营标准流程分析
- 三步标准流程：
  - 调查：分析告警内容和影响范围
  - 修复：战术性修复（立即解决）和长期修复（防止重复发生）
  - 报告：端到端的RCA报告和总结
- 流程特点：每个告警都遵循相同的重复性流程
- 自动化机会：利用多智能体系统替代人工操作

### 15:00-20:00 - Amazon Bedrock Agent Core平台介绍
- 完全托管的平台，支持安全地构建、部署和运行多智能体
- 核心组件：
  - Runtime：支持多种模型和框架（LangChain、LangFuse、CrewAI、AWS Strands SDK）
  - Gateway：连接内部系统和工具（如CMDB数据库）
  - Browser：浏览器交互功能
  - Identity：身份认证和授权机制
  - Observability：操作日志和跟踪功能

### 20:00-25:00 - 解决方案架构设计
- 整体架构：Amazon Inspector和GuardDuty → EventBridge → Lambda → Agent Core Runtime
- 编排智能体：接收告警并分发给专门的智能体
- 三个专门智能体：
  - 调查智能体：连接CMDB获取服务器信息、软件版本、补丁计划等
  - 修复智能体：包含脚本生成器和执行器两个子智能体
  - 报告智能体：生成端到端的事件总结报告

### 25:00-30:00 - 代码演示开始：基础设置
- Eric分享真实案例：制造公司AWS账户被隔离，发现比特币挖矿活动
- Strands Agent循环机制：输入处理→推理→工具选择→工具执行→响应生成
- 基础导入和设置：Strands框架、MCP工具、辅助函数

### 30:00-35:00 - 工具和网关配置
- 工具需求：CMDB访问、日志文件、取证数据存储
- Agent Core Gateway优势：最大化工具重用，多智能体共享
- 网关权限配置：Lambda函数调用权限（CMDB、工件处理、通知）
- 目标配置：Lambda ARN和工具规范（JSON schema）

### 35:00-40:00 - 智能体构建和权限控制
- 安全分析师智能体创建：系统提示、工具配置、报告模板
- 基于属性的访问控制（ABAC）：opt-in模式确保安全
- 标签策略：资源必须包含特定标签才允许智能体操作
- 权限匹配：智能体角色名称必须与资源标签值匹配

### 40:00-42:00 - 生产部署和最佳实践
- Bedrock Agent Core工具包：简化部署流程的CLI工具
- 配置向导：入口点、Python版本、执行角色、S3存储桶等
- 部署命令：agent-core launch实现一键部署
- 确定性行为优化：结构化输出、钩子函数、嵌套多智能体模式