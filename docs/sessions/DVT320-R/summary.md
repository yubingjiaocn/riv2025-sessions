# AWS re:Invent 2025 Kira 会议总结

## 会议概述

本次会议由 AWS 的两位专家解决方案架构师 Ryan Yanchel 和 Ryan Bachmann 主讲,他们来自下一代开发者体验团队,专注于帮助客户在组织内部署生成式 AI 开发工具。这是一场互动式的代码实战会议(Code Talk),演讲者现场演示了如何使用 Kira 从零开始构建应用程序。

Kira 是 AWS 在 2025 年发布的相对较新的产品,在会议前约两周刚刚正式发布(GA)。该工具的核心创新在于引入了"规范驱动开发"(Spec-Driven Development)方法,解决了传统生成式 AI 编码工具在规模化、控制力和代码质量方面的三大挑战。与其他 AI 编码助手不同,Kira 不会立即生成代码,而是先创建需求文档、设计文档和项目计划,让开发者有机会在编码前审查和调整所有技术决策。

在演示环节,演讲者根据观众建议构建了一个健身追踪 Web 应用,展示了 Kira 如何从简单的一句话提示生成完整的需求规范、技术设计方案,以及如何通过 MCP 服务器集成、代理引导(Agent Steering)和代理钩子(Agent Hooks)等功能支持大型团队协作和现有代码库的维护。

## 详细时间线与关键要点

### 开场介绍 (00:00 - 05:00)
- **演讲者介绍**: 两位 Ryan 来自 AWS 下一代开发者体验团队,负责生成式 AI 开发工具的推广
- **会议形式**: 强调这是互动式代码实战会议,鼓励观众提问和参与
- **演示计划**: 将根据观众建议现场构建应用程序

### Kira 产品背景 (05:00 - 12:00)
- **发布时间**: Kira 在会议前约两周正式发布(GA)
- **AI 编码工具演进历程**:
  - 第一代: 智能代码补全(类似 IntelliSense)
  - 第二代: 辅助功能(针对特定任务的帮助)
  - 第三代: 代理式开发(处理复杂的多步骤任务)
- **代理式开发的承诺**: 自主性、协作性、高质量代码

### 三大核心挑战 (12:00 - 18:00)
- **规模化问题**: 
  - 如何处理拥有 120 万行代码的生产应用
  - 如何支持 150 人的开发团队协作
  - 如何确保所有开发者获得一致的结果
- **控制力问题**:
  - 传统方式是"抛出提示,等待结果"
  - LLM 会自行填补提示中缺失的细节
  - 开发者需要事后检查大量生成的代码
- **代码质量问题**:
  - 前两个问题导致代码质量下降
  - 不同开发者可能得到不兼容的实现方案

### 规范驱动开发 (18:00 - 25:00)
- **核心理念**: 回归软件开发的基本原则
- **传统开发流程**:
  1. 详细的需求文档
  2. 设计文档(技术规范)
  3. 项目计划(甘特图)
  4. 然后才开始实施
- **Kira 的实现方式**:
  - 接收用户提示后,先生成需求文档
  - 然后生成设计文档
  - 最后生成项目计划
  - 每个阶段都可以由开发者审查和修改
  - 确保所有细节在编码前得到确认

### 现场演示开始 (25:00 - 30:00)
- **观众互动**: 征集应用创意
- **最终选择**: 健身应用、礼宾服务应用
- **确定需求**: "构建一个 Web 应用来管理我的健身活动,确定我是否真的完成了它们,以及消耗了多少卡路里"
- **提示分析**: 演讲者指出这个简单提示缺少很多细节:
  - 未指定技术栈(React、Python、.NET 等)
  - 未指定是否需要身份验证
  - 未定义具体功能
  - 未说明架构(全栈、单体应用等)

### Spec 模式 vs Vibe 模式 (30:00 - 35:00)
- **Vibe 模式**: 传统 AI 编码方式,立即开始生成代码
  - 可能选择不同的技术栈
  - 结果不确定(非确定性)
- **Spec 模式**: Kira 的创新方式
  - 先生成规范文档
  - 在实际编码前定义所有内容
- **生成速度**: 演讲者强调生成规范文档的速度很快

### 需求文档生成 (35:00 - 42:00)
- **文档结构**:
  - 高层次介绍(将一句话扩展为完整段落)
  - 术语表(定义用户、活动、活动类型、卡路里计算、活动日志等)
  - 用户故事和验收标准
- **生成结果**: 从一句话生成了 7 个需求
- **行业标准**: 遵循 EARS(易于访问的需求规范)格式
- **适用场景**: 适合功能开发,而非构建整个操作系统
- **可编辑性**: 所有内容都是 Markdown 文件,可以随时修改

### 需求文档内容示例 (42:00 - 48:00)
- **用户故事 1**: 作为用户,我想创建和管理健身活动,以便规划和追踪锻炼计划
- **用户故事 2**: 我想将活动标记为已完成并记录实际持续时间
- **验收标准示例**:
  - 创建新活动时应存储类型、计划时长、计划日期
  - 演讲者演示如何添加"地点"属性
- **迭代能力**: 可以根据利益相关者反馈不断演进

### 设计文档生成 (48:00 - 55:00)
- **设计阶段目的**: 确定如何构建应用
- **关键决策点**:
  - 编程语言选择
  - 使用的库
  - 身份验证方案
  - 错误处理策略
  - 测试方法
- **技术栈揭晓**:
  - React + TypeScript
  - React Context API(状态管理)
  - Tailwind CSS(UI)
  - 浏览器本地存储
- **架构层次**: 基础层、业务层、数据访问层

### 正确性属性与测试 (55:00 - 60:00)
- **基于属性的测试**: 
  - 不仅测试正常路径
  - 测试边界情况
  - 例如:在持续时间字段输入字母会发生什么?
- **测试策略包括**:
  - 单元测试
  - 集成测试
  - 测试执行计划
- **错误处理**: 输入验证、业务逻辑错误处理

### MCP 服务器问答 (60:00 - 65:00)
- **MCP 服务器配置**:
  - Kira 默认不预装 MCP 服务器
  - 支持本地和远程 MCP 服务器
  - 可以在用户级别或项目级别安装
  - 用户级别配置适用于所有项目
  - 项目级别配置仅适用于特定项目
- **远程 MCP**: 支持 OAuth 连接

### 代理引导功能 (65:00 - 75:00)
- **Kira 界面**: VS Code 的分支版本
- **代理引导位置**: 左侧面板底部的幽灵图标
- **多规范支持**: 可以创建多个规范,不限于一个
- **引导文档概念**:
  - 类似于其他工具中的"规则"或"上下文"
  - 为 LLM 提供指导方针
- **生成引导文档功能**:
  - 用于处理现有代码库
  - 反向分析现有代码
  - 自动生成三个关键文件

### 三个引导文件详解 (75:00 - 82:00)
- **Product 文件**:
  - 代码的自然语言摘要
  - 人类可读的项目概述
  - 适合快速了解 80 万行代码项目
- **Tech 文件**:
  - 技术栈详情
  - 使用的编程语言和库
  - 错误处理策略
  - 测试策略
  - 启动开发服务器的命令
  - 运行测试套件的命令
- **Roadmap 文件**:
  - 目录结构
  - 各目录中的文件
  - 主要类、模块和元素
  - **爆炸半径分析**: 修改某个模块会影响哪些其他部分
- **存储位置**: 所有文件存储在项目根目录的 .kira 目录中

### 上下文窗口问题 (82:00 - 88:00)
- **当前限制**: 200,000 token 的上下文窗口
- **未来计划**: 随着模型演进,将发布更大的 token 窗口
- **窗口满时**: Kira 会询问是否压缩当前会话
- **规范文件的优势**:
  - 所有重要信息已记录在 Markdown 文件中
  - 可以重置会话而不丢失信息
  - 可以休假后继续工作
  - 可以在团队成员间共享
  - 不需要传输会话详情

### Jira 集成问答 (88:00 - 95:00)
- **问题场景**: 产品经理在 Jira 中编写用户故事,如何避免多个真实来源?
- **解决方案 1 - MCP 集成**:
  - 安装 Jira MCP 服务器
  - 输入 Jira 凭证
  - 在提示中请求:"获取用户故事 ABC"
  - Kira 从 Jira 拉取信息并创建规范
- **解决方案 2 - 代理钩子**:
  - 事件驱动的提示
  - 示例:当 requirements.md 文件更改时
  - 自动总结更改
  - 将更改推送回相应的 Jira 用户故事
  - 保持数据同步,避免漂移

### 实现计划阶段 (95:00 - 结束)
- **下一步**: 从设计文档进入实现计划
- **持续问答**: 演讲者在生成过程中继续回答观众问题
- **文件系统**: 演示了文件浏览器中的 .kira 目录结构
- **协作重点**: 强调确保团队所有成员使用相同上下文和方向

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


关键要点总结:
- Kira 通过规范驱动开发解决了 AI 编码工具的规模化、控制和质量问题
- 先生成文档后编码的方式让开发者掌握主动权
- 支持大型团队协作和现有代码库维护
- 通过 MCP 服务器、代理引导和代理钩子实现强大的集成能力
- 所有规范都是可编辑的 Markdown 文件,便于版本控制和团队共享