# AWS re:Invent 2025 - STG214 会议总结

## 会议概述

本次会议主题为"Netflix 如何使用 Amazon S3 Storage Lens 管理 EB 级规模数据"。会议由 AWS S3 团队的产品经理 Roshan Tekunil 和首席解决方案架构师 Christie Lee 主持，Netflix 的软件工程师 Austin Keane 和数据工程师 Beling Wu 作为嘉宾分享了实际应用案例。

会议重点介绍了 S3 Storage Lens 这一可观测性工具，它为用户提供存储和活动指标的每日洞察。Netflix 作为全球最大的流媒体公司之一，在 S3 上存储了超过 2 EB 的数据，涵盖大数据、媒体和机器学习三大使用场景。通过 Storage Lens 及其他 S3 洞察服务，Netflix 成功识别并避免了超过 500 PB 的非预期存储增长，优化了数据放置策略，并将存储洞察集成到内部平台中。

AWS 在本次 re:Invent 上宣布了 Storage Lens 的三项重大更新：扩展前缀分析（支持无限前缀深度）、72 个新的性能指标（总计达到 198 个指标），以及直接导出到 S3 托管表的功能。这些新功能进一步增强了用户的优化工作流程，使得从 MB 到 EB 级别的存储管理变得更加高效。

## 详细时间线与关键要点

### 开场与议程介绍 (00:00 - 02:30)
- **00:00** - 会议开始，Roshan Tekunil 介绍会议主题 STG214：Netflix 如何使用 S3 Storage Lens 管理 EB 级数据
- **00:30** - 介绍演讲嘉宾：AWS 的 Christie Lee、Netflix 的 Austin Keane 和 Beling Wu
- **01:00** - 说明会议期间不接受提问，会后可在走廊交流
- **01:30** - 介绍会议五部分议程：S3 洞察产品组合概述、Netflix 使用案例、新功能发布、现场演示

### S3 洞察产品组合介绍 (02:30 - 08:00)
- **02:30** - 现场调查：约 25-30% 的观众熟悉 S3 Storage Lens
- **03:00** - 阐述洞察的重要性："如果看不见，就无法改变，也无法优化"
- **04:00** - 介绍 S3 洞察服务组合：
  - **S3 Storage Lens**：提供组织级别的每日存储和活动指标
  - **S3 Inventory 和 S3 Metadata**：提供对象级别的详细报告
  - **S3 Server Access Logs**：提供请求级别的详细记录
  - **Amazon CloudWatch**：提供近实时监控和告警
- **06:00** - Storage Lens 四大主要使用场景：
  1. 成本管理（识别最大的存储桶和前缀）
  2. 访问模式分析（区分热数据和冷数据）
  3. 性能监控（识别 503 和 403 错误）
  4. 安全审计（检查加密和版本控制状态）
- **07:00** - 展示 Storage Lens 控制台界面和前缀级别指标聚合功能

### Netflix 使用案例分享 (08:00 - 20:00)
- **08:00** - Austin Keane 介绍 Netflix 的数据规模：超过 2 EB 数据存储在 S3
- **08:30** - Netflix 的三大使用场景：大数据、媒体、机器学习，每个场景有不同的访问模式
- **09:00** - Netflix 的解决方案：将 Storage Lens 数据导入 Apache Iceberg 表，聚合为高级增长趋势
- **10:00** - 展示 Netflix 的使用仪表板和自动化增长告警系统
- **11:00** - 成功案例：通过自动告警机制捕获了超过 500 PB 的非预期存储增长
- **11:30** - 具体案例：6 PB 的容器日志增长，存储桶所有者甚至不知道其规模
- **12:30** - 数据放置优化：通过分析 Storage Lens 的请求和限流指标，将 ML 训练作业数据迁移到 EBS 或 FSx Lustre，消除了冷启动时间，优化了 GPU 利用率
- **14:00** - 平台洞察：将 Storage Lens 数据通过内部 API 提供给各个平台，直接集成到应用程序 UI 中

### Netflix 成本优化深度分析 (15:00 - 20:00)
- **15:00** - Beling Wu 介绍成本和效率优化的三个关键领域
- **15:30** - 目标 1：为前 250 个存储桶的每个前缀提供成本可见性
- **16:00** - 目标 2：为 Iceberg 表存储和前缀使用提供高级分析
- **16:30** - 目标 3：为数百万个 Iceberg 表提供清晰的成本可见性
- **17:00** - 展示前缀成本构建方法：通过 S3 Inventory 创建无限深度的前缀汇总
- **18:00** - 结合 Server Access Logs 识别未使用的数据：示例显示 2010 年以来未访问的前缀可以删除
- **19:00** - 将前缀汇总扩展到 Iceberg 表成本分析，实现分区级别的成本和访问建议

### AWS 新功能发布 (20:00 - 28:00)
- **20:00** - Roshan 介绍三个重点优化领域：可见性、性能洞察、分析便捷性
- **21:00** - 新功能 1：扩展前缀分析
  - 移除 1% 大小限制
  - 支持最多 50 层前缀深度（原为 10 层）
  - 支持每个存储桶数十亿个前缀（原为约 100 个）
  - 高级层免费提供
- **23:00** - 新功能 2：72 个新性能指标（总计 198 个指标）
  - 请求和对象大小分布（0 KB 到 4 GB 以上）
  - 并发 PUT 503 错误识别
  - 网络来源指标（同区域 vs 跨区域请求）
  - 频繁访问对象识别（用于缓存优化）
- **26:00** - 新功能 3：导出到 S3 托管表
  - 自动创建托管 Iceberg 表
  - 无需额外处理即可直接查询
  - 支持自然语言查询（通过 MCP 服务器）

### 现场演示 (28:00 - 结束)
- **28:00** - Christie Lee 开始演示如何创建 Storage Lens 仪表板
- **29:00** - 展示控制台配置流程：选择免费或高级指标、配置前缀聚合、设置导出选项
- **30:00** - 演示新的 S3 表导出功能配置
- **31:00** - 展示预创建的仪表板，包含多个视图：
  - 跨区域访问识别（用于延迟和成本优化）
  - 前缀访问热度分析（识别热数据和冷数据）
  - 错误识别和性能优化视图
- **32:00** - 强调 Storage Lens 指标每日更新，首次创建需要一些时间生成指标
- **33:00** - 演示结束，总结 Storage Lens 从 MB 到 EB 级别的强大优化能力