# AWS re:Invent 2025 Kubernetes 反应式扩缩容会议总结

## 会议概述

本次会议由 Scaleops 首席架构师 Stephen 主讲，深入探讨了 Kubernetes 环境中反应式扩缩容的挑战和解决方案。会议重点关注了在大规模 Kubernetes 集群中如何平衡可靠性、性能和成本这三个核心支柱，以及如何解决传统扩缩容方法在规模化时遇到的问题。

Stephen 详细分析了"不可能三角"概念，即在 Kubernetes 扩展过程中很难同时实现可靠性、性能和成本优化。随着 Pod 数量从 10 个扩展到数千个，系统会引入更多浪费，出现节点碎片化问题。会议还深入讨论了资源管理的基础概念，包括请求与限制、服务质量等级，以及 Kubernetes 调度器与 Linux 内核之间的交互机制。

## 详细时间线和要点

### 开场介绍 (00:00-02:30)
- **00:00**: Stephen 介绍自己是 Scaleops 首席架构师
- **00:30**: 概述会议议题：不可能三角、资源管理基础、容器元素调整
- **01:30**: 介绍水平 Pod 自动扩缩容和节点层管理
- **02:00**: 提及 Spot 实例采用和大规模自定义资源策略

### 不可能三角问题 (02:30-05:00)
- **02:30**: 定义三大支柱：可靠性、性能、成本
- **03:00**: 解释 10 个 Pod 时容易管理，扩展到 1000 个时开始出现浪费
- **04:00**: 数千个 Pod 时出现节点碎片化问题
- **04:30**: 介绍请求与使用量差异导致的"幽灵浪费"

### 资源管理基础 (05:00-10:00)
- **05:00**: 讲解请求和限制的重要性
- **06:00**: 介绍服务质量等级：尽力而为、可突发、保证型
- **07:00**: 解释 Kubernetes 毫核与 Linux 时间片的差异
- **08:30**: 详述 CPU 时间分配机制和竞争情况
- **09:30**: 介绍 cgroups 在资源边界执行中的作用

### 调度和抢占机制 (10:00-15:00)
- **10:00**: 解释调度器与 kubelet 的不同职责
- **11:00**: 详述优先级类与服务质量的区别
- **12:00**: 通过四核节点示例说明 CPU 时间分配问题
- **13:30**: 展示负载测试与生产环境的性能差异
- **14:30**: 强调寻找饱和阈值的重要性

### 扩缩容挑战 (15:00-25:00)
- **15:00**: 介绍 VPA、HPA、节点扩缩容三个维度
- **16:00**: 分析 VPA 依赖历史数据的局限性
- **17:30**: 讨论自定义控制器的复杂性
- **19:00**: 解释 VPA 和去调度器的冲突问题
- **21:00**: 介绍 HPA 的工作机制和指标类型
- **23:00**: 分析 HPA 抖动循环问题
- **24:30**: 讨论预测性扩缩容的优势

### Spot 实例管理 (25:00-30:00)
- **25:00**: 介绍 Spot 实例采用挑战
- **26:00**: 解释应用级别比例控制的需求
- **27:30**: 讨论拓扑分布约束的复杂性
- **28:30**: 分析 Spot 实例池耗尽和重平衡风险
- **29:30**: 提出理想的 Pod 级别比例定义方案

### 解决方案总结 (30:00-33:00)
- **30:00**: 总结现有工具的协作挑战
- **31:00**: 强调预测性与反应性扩缩容的区别
- **31:30**: 介绍 Scaleops 的上下文感知解决方案
- **32:30**: 展示客户生产环境成功案例
- **33:00**: 总结容器调整、调度优化、AI 基础设施和副本优化能力