# AWS re:Invent 2025 - ECS Express Mode 技术分享会总结

## 会议概述

本次技术分享会由AWS无服务器和容器组织的高级首席工程师Malcolm Fetenby和ECS Express Mode技术负责人Thomas共同主讲。会议重点介绍了Amazon ECS的全新功能——Express Mode，这是一个旨在大幅简化容器编排体验的创新特性。

ECS作为AWS推出11年的成熟服务，目前每周处理约30亿个任务，覆盖38个AWS区域，65%首次使用AWS容器化工作负载的客户选择从ECS开始。Express Mode并非独立服务，而是ECS的一个功能特性，它将传统ECS部署所需的复杂配置大幅简化，让开发者能够专注于业务逻辑而非基础设施管理。通过Express Mode，原本需要配置大量参数的Web服务部署现在只需提供容器镜像、任务执行角色和基础设施角色即可完成，AWS会自动处理负载均衡器、安全组、自动扩展策略等所有底层资源的编排工作。

该功能完全免费，用户只需为实际消耗的资源（如负载均衡器和计算资源）付费。Express Mode已在所有支持ECS的区域正式上线，可通过AWS CLI、SDK、CloudFormation和控制台等多种方式使用，为开发者提供了端到端的应用生命周期管理能力。

## 详细时间线

00:00:00 - 开场介绍
- Malcolm Fetenby介绍自己是AWS无服务器和容器组织的高级首席工程师
- Thomas介绍自己在AWS容器领域工作近6年，曾参与Elastic Beanstalk、App Runner等服务开发

00:01:30 - ECS服务背景介绍
- 强调ECS Express是ECS的一个功能特性，不是独立服务
- ECS已推出11年，每周处理约30亿个任务
- 覆盖38个AWS区域
- 65%首次使用AWS容器化工作负载的客户选择ECS
- 2025年Prime Day期间启动了超过1800万个任务

00:03:00 - 开发者痛点分析
- 开发者希望最大化时间用于编写业务代码
- 传统ECS部署需要配置大量资源：任务定义、负载均衡器、证书、安全组等
- 展示传统Web服务配置的复杂性

00:04:30 - Express Mode简化方案
- 将配置需求简化到最少：容器镜像、任务执行角色、基础设施角色
- AWS自动处理其余所有配置工作

00:05:00 - 实时演示开始
- Thomas使用AWS CLI创建第一个Express Gateway服务
- 演示create-express-gateway-service命令
- 只需提供执行角色、基础设施角色和镜像即可

00:06:00 - 资源监控功能演示
- 展示--monitor-resources参数
- 实时显示Express Mode自动创建的所有资源：集群、服务、目标组、安全组、自动扩展策略、指标告警等
- 自动获得应用访问的URL端点

00:08:00 - 控制台界面展示
- 在ECS控制台中查看创建的服务
- 展示可观测性标签页的指标数据
- 展示资源标签页中Express Mode管理的所有资源

00:09:30 - 负载均衡器共享机制
- 展示同一个负载均衡器可被最多25个Express Mode服务共享
- 演示中显示6个服务规则共享同一个负载均衡器
- 强调成本优化：只需为一个负载均衡器付费

00:11:00 - 应用部署成功
- 第一个Nginx应用成功部署并可访问
- 第二个流量可视化应用部署完成，运行在8080端口
- 展示应用可以调用ECS API获取实时任务数量

00:12:30 - 自定义扩展策略演示
- 配置基于请求数量的自动扩展（而非默认的CPU）
- 设置为每个目标每分钟500个请求的扩展阈值
- 开始发送每秒50个请求进行测试

00:14:00 - 更新体验演示
- 演示如何更新服务：从Nginx镜像切换到流量可视化镜像
- 单个命令即可更新镜像和容器端口
- Express Mode自动编排所有相关资源的更新：负载均衡器安全组、目标组、任务定义、服务安全组等

00:16:00 - 资源更新追踪
- 在资源标签页中实时查看正在创建和删除的资源
- 展示资源重用机制：未变更的资源（如指标告警、扩展策略）立即可用
- 需要重建的资源（如目标组）会自动创建，旧资源会被删除

00:17:30 - ECS灵活性说明
- 强调用户仍可完全访问底层ECS资源
- 可以手动修改任务定义、添加sidecar容器等
- 修改后仍可通过Express Mode API继续管理

00:18:30 - Canary部署策略演示
- 展示部署标签页中的Canary部署策略
- 5%流量先路由到新任务进行测试
- 包含烘焙时间和4xx/5xx错误监控
- 如有问题自动回滚，否则完成100%流量切换

00:20:00 - 自动扩展触发
- 流量可视化应用显示已发送超过12,000个请求
- 需要3个指标数据点才触发扩展（避免短暂流量波动导致不必要扩展）
- 实时展示从1个任务扩展到3个任务的过程

00:21:00 - 公开镜像仓库分享
- 展示QR码，观众可扫描获取公开ECR仓库地址
- 可以使用单个命令在ECS Express Mode上启动演示应用

00:22:00 - 删除体验演示
- 演示如何删除Express Mode服务
- Express Mode智能识别哪些资源仍被其他服务使用（如集群、负载均衡器、日志组）
- 只删除该服务独有的资源（如目标组、扩展策略）
- 在资源面板中实时追踪资源删除过程

00:24:00 - CloudFormation对比
- 展示传统方式需要的超长CloudFormation模板
- 对比Express Mode只需极简配置
- 强调这是实时可用的功能，支持SDK、CLI、CloudFormation和控制台

00:25:00 - 定价说明与总结
- Express Mode完全免费，无额外费用
- 只需为实际消耗的资源付费（负载均衡器和计算资源）
- 会议结束，演讲者邀请观众会后交流