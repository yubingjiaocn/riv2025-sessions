# AWS re:Invent 2025 - DEV336: Kiro in Action 会议总结

## 会议概述

本次会议由FICO公司的红队经理Nick Gilbert和高级云安全工程师Damian主讲，重点介绍了如何使用AI驱动的IDE工具Kiro（Curo）快速构建AWS IAM安全扫描工具。会议聚焦于解决大型组织在进行红队评估或渗透测试时面临的"可见性差距"问题——当组织拥有数百个AWS账户和数十万资源时，如何高效识别其中的安全漏洞。

演讲者展示了如何通过规范驱动开发（Spec-driven Development）方法，而非传统的"氛围编程"（Vibe Coding），来构建可扩展、可维护的生产级安全工具。他们强调了使用Kiro的核心优势：通过编写Markdown格式的规范文件（需求、设计、任务），安全工程师无需深厚的软件开发经验即可创建复杂的自动化工具。实际案例显示，使用Kiro可以将开发时间从200-350小时缩减至25-35小时，实现约70%的效率提升。

演讲最后展示了IAM扫描器的实际运行结果，该工具能够自动识别未使用的角色、危险权限、跨账户访问路径以及权限提升路径，并生成JSON和Markdown格式的详细报告，可直接用于向管理层汇报安全风险。

## 详细时间线

### 开场介绍 (00:00-02:30)
- **00:00** - 会议开始，介绍主题"DEV336: Kiro in Action"
- **00:15** - 提出核心问题：在拥有数百个AWS账户的大型组织中进行红队评估时的可见性差距
- **00:45** - Nick Gilbert自我介绍：FICO红队经理、AWS社区建设者、安全认证专家
- **01:15** - Damian自我介绍：FICO高级云安全工程师、DevSecOps Blueprint创始人、AWS社区建设者

### IAM扫描器需求说明 (02:30-04:00)
- **02:30** - 介绍IAM扫描器的高级需求
- **02:45** - 功能1：识别高价值目标路径
- **03:00** - 功能2：枚举跨账户访问（从开发账户到生产账户的横向移动）
- **03:15** - 功能3：按影响程度优先排序角色
- **03:30** - 功能4：发现常见错误（信任策略中的通配符、缺失的外部ID）
- **03:45** - 功能5：提供具体可执行的权限提升路径、可重复的扫描结果、使用Python多线程扫描数百个账户

### 开发方法论对比 (04:00-06:30)
- **04:00** - 提出问题：如何快速解决安全工程问题
- **04:15** - 介绍"氛围编程"（Vibe Coding）：与AI随意交互、反复复制粘贴代码，适合概念验证但不可扩展
- **04:45** - 缺点分析：无共识、无保证、无长期可维护性
- **05:15** - 介绍"规范驱动开发"（Spec-based Design）：开发前先规划架构、需求和实现方式
- **05:45** - 优势：构建可扩展、可维护的解决方案，通过更新规范文件即可更新代码
- **06:15** - Kiro介绍：AI驱动的IDE，支持规范驱动开发，界面类似VS Code，支持多种编程语言（重点是Python）

### PROMPT框架详解 (06:30-08:30)
- **06:30** - 介绍创建规范文件的PROMPT框架
- **06:45** - P (Purpose): 简要描述构建目标
- **07:00** - R (Requirements): 程序的高级概述，类似职位描述
- **07:15** - O (Output): 列出交付物格式（单文件或模块化多文件）
- **07:30** - M (Method): 最大的部分，枚举具体细节
- **07:45** - P (Pro tip): 在提示末尾让AI提出澄清问题
- **08:00** - T (Testability): Kiro可自动创建单元测试，代码变更后运行测试确认功能正常

### 规范文件结构 (08:30-09:30)
- **08:30** - Kiro需要三个Markdown文件
- **08:45** - Requirements.md: 我们想要什么
- **09:00** - Design.md: 需要什么
- **09:15** - Tasks.md: 如何工作（逐步执行）
- **09:30** - 关键优势：无需丰富的软件开发经验，只需用英文编写规范而非代码

### IAM扫描器工作流程 (09:30-11:30)
- **09:30** - 步骤1：缓存AWS托管策略（超过1000个），避免重复下载
- **09:50** - 步骤2：收集IAM数据（用户、组、角色、客户托管策略）
- **10:10** - 步骤3：使用策略引擎分析托管策略，识别高级权限
- **10:30** - 步骤4：检查所有主体（托管策略和内联策略），确定危险主体
- **10:50** - 步骤5：分析角色信任策略，用于当前账户内和跨账户的横向移动
- **11:10** - 步骤6：查找未使用的角色（红队评估中常利用的高权限旧角色）
- **11:30** - 步骤7：分析权限提升路径，提供从当前位置到管理员访问的具体步骤

### 效率对比分析 (11:30-13:00)
- **11:30** - 展示传统开发与使用Kiro的时间对比表
- **11:45** - 传统方法：规划设计、开发、会议、测试、返工，总计200-350小时
- **12:15** - 使用Kiro：各环节减少约70%时间
- **12:30** - Kiro优势：自动生成代码和单元测试，同时进行测试，降低返工率
- **12:45** - 最终结果：使用Kiro仅需25-35小时（约一周）完成工具开发

### 实际演示结果 (13:00-14:30)
- **13:00** - 展示IAM扫描器第5步的实际运行结果
- **13:15** - 演示账户分析：发现40个未使用角色，其中21个被标记为危险
- **13:30** - 输出格式：生成JSON文件（用于自动化）和Markdown报告（用于人工审查）
- **13:50** - 报告用途：可导出为PDF向管理层展示，争取额外安全预算
- **14:10** - 维护方式：更新Markdown规范文件，Kiro自动更新代码

### 核心要点与总结 (14:30-16:00)
- **14:30** - 关键要点1：使用规范驱动设计/Kiro快速开发和扩展安全解决方案
- **14:50** - 关键要点2：使用规范文件将产品需求转换为可工作的代码，无需手写代码
- **15:10** - 关键要点3：安全工程师（红队/蓝队/紫队）应创建自动化工具，发现云环境中的隐藏入口点和漏洞
- **15:30** - 后续步骤：扫描QR码获取GitHub上的IAM扫描器代码
- **15:45** - 社交媒体连接：通过LinkedIn与演讲者Nick和Damian联系
- **16:00** - 会议结束，感谢听众