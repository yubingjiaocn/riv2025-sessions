# AWS re:Invent 2025 会议总结:使用生成式 AI 提升工作负载弹性

## 会议概述

本次会议由 AWS 首席解决方案架构师 Mike George 主讲,他主要服务于非营利组织领域。会议围绕 Amazon CTO Werner Vogels 的著名格言"万物皆会失败"展开,深入探讨了如何在 AWS 云环境中规划和实现工作负载的弹性。Mike 强调,完整的引用应该是"万物皆会失败,所以要为失败做好规划,这样就不会失败"。

会议的核心亮点是演示了一个创新的**弹性顾问代理(Agentic Resilience Advisor)**,该代理利用生成式 AI 技术自动分析 AWS 工作负载的弹性状况。这个代理通过 Amazon Bedrock、Strands Agent SDK 构建,能够自动检查 AWS 账户中的资源,评估工作负载在五个关键弹性维度上的表现,并提供具体的改进建议。演示展示了代理如何根据不同的 RTO(恢复时间目标)和 RPO(恢复点目标)要求,动态评估工作负载的弹性等级,生成架构图,提供可观测性建议,甚至创建运维手册。

## 详细时间线

### 开场与背景介绍
[00:00 - 01:30] - 引用 Werner Vogels 的名言"万物皆会失败",强调完整引用是"为失败做好规划,这样就不会失败"

[01:30 - 02:15] - 演讲者自我介绍:Mike George,AWS 首席解决方案架构师,专注于非营利组织

[02:15 - 03:30] - 讨论人道主义灾难场景(乌克兰战争、中西部洪水等),强调在最糟糕的情况下工作负载必须正常运行的重要性

### 云弹性的五大原则(SEAMS 模型)
[03:30 - 04:45] - 介绍云弹性的五大核心原则,而不仅仅是 N+1 冗余思维

[04:45 - 05:15] - S - 单点故障(Single Points of Failure):管理和消除单点故障

[05:15 - 05:45] - E - 过载(Excessive Load):确保有足够的资源支持工作负载,包括服务配额管理

[05:45 - 06:00] - E - 过度延迟(Excessive Latency):处理工作负载及其下游依赖的延迟问题

[06:00 - 06:30] - M - 错误配置和缺陷(Misconfiguration and Bugs):通过 CI/CD 流程和自动化避免手动更改

[06:30 - 07:00] - S - 共同命运(Shared Fate):减少爆炸半径,避免单一资源影响多个工作负载

### 弹性评估问题框架
[07:00 - 08:30] - 针对单点故障的思考:工作负载架构是否具备冗余?组件失败会发生什么?

[08:30 - 09:45] - 针对过载的思考:什么会压垮组件?是否存在双峰行为?配额是否会被超出?如何扩展?

[09:45 - 10:30] - 针对过度延迟的思考:组件或下游依赖出现延迟时会发生什么?

[10:30 - 11:15] - 针对错误配置的思考:能否自动回滚失败的部署?是否有防护栏防止操作错误?是否有证书或凭证过期问题?

[11:15 - 12:00] - 针对共同命运的思考:部署变更有多大?组件是否与其他工作负载共享资源?如何处理部分或灰度故障?

### 弹性心智模型
[12:00 - 13:30] - 介绍弹性的三层心智模型:
  - **高可用性(HA)**:针对预期故障的应对措施
  - **灾难恢复(DR)**:针对未预期或未缓解的故障场景
  - **持续改进**:通过 CI/CD 和弹性测试不断优化

### 生成式 AI 应用架构
[13:30 - 14:30] - 展示典型的生成式 AI 应用架构:用户 → 代理 → 基础模型 + 工具集(MCP)

[14:30 - 15:30] - 提出核心问题:能否使用生成式 AI 自动分析工作负载并识别五个弹性维度的问题?

### 弹性顾问代理演示
[15:30 - 17:00] - 介绍弹性顾问代理架构:
  - 使用 Amazon Bedrock 的大语言模型
  - 三个工具集:AWS 工具(检查账户资源)、计算等级工具(生成 A-F 评分)、AWS 文档 MCP 服务器

[17:00 - 18:30] - 开始实时演示:启动代理和客户端,输入工作负载标签、RTO(24小时)和 RPO(12小时)

[18:30 - 19:30] - 代理分析 "food agent" 工作负载,从 AWS 账户提取资源,推理并查询文档

[19:30 - 20:15] - 返回结果:五个维度的评分大多为 B 和 C,表明工作负载在当前 RTO/RPO 下基本合格

[20:15 - 21:45] - 第二个查询:将 RTO 改为 2 小时,RPO 改为 30 分钟,代理无需重新检查账户,直接重新评估

[21:45 - 22:30] - 新结果显示:大多数评分变为 D 和 F,表明工作负载不支持更严格的 RTO/RPO 要求

[22:30 - 23:45] - 第三个查询:要求生成架构图,代理生成 Mermaid 格式的架构图

[23:45 - 24:30] - 展示生成的架构图:包含 Bedrock 代理、Lambda 函数、S3 存储桶、Secrets Manager、CloudWatch Logs、IAM 角色和 KMS 加密

[24:30 - 26:00] - 第四个查询:聚焦可观测性,要求提供前三项改进建议

[26:00 - 27:15] - 代理返回三项建议:
  1. 设置全面的 CloudWatch 告警和仪表板
  2. 启用 X-Ray 进行分布式追踪
  3. 增强日志记录和 Log Insights
  - 每项建议都附带具体的 AWS 文档深层链接

[27:15 - 28:45] - 第五个查询:生成运维手册以应对运营事件

[28:45 - 29:45] - 代理生成完整运维手册,包括:
  - 事件严重性分级
  - Lambda 函数恢复程序
  - S3 存储桶恢复程序
  - Bedrock 代理恢复程序
  - Secrets Manager 恢复程序
  - 服务验证步骤
  - 事后分析步骤

### 总结与资源
[29:45 - 30:45] - 确认生成式 AI 可以有效帮助改善工作负载弹性

[30:45 - 31:30] - 提供三个 QR 码:
  - Strands Agent SDK 学习资源
  - GitHub 非营利组织示例代码库(resilience agent 代码)
  - AIM 336 会议(周四举行,详细讲解如何构建此代码)

[31:30 - 32:15] - 针对非营利组织的额外资源:本周相关会议和账户团队联系方式

[32:15 - 32:30] - 结束语:感谢参与并请求完成会议调查