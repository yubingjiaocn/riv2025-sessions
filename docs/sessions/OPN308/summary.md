# AWS re:Invent 2025 容器编排会议总结

## 会议概述

本次会议由AWS容器市场专家Shani Kaz（马德里）和高级解决方案架构师Petro（纽约）共同主讲。会议通过一个投票应用的实际案例，深入探讨了传统基础设施部署流程的痛点，以及如何通过Kubernetes原生方式来简化云资源管理。演讲者指出，在传统企业环境中，部署一个包含微服务、数据库和缓存的应用可能需要一整个工作日，开发者需要在多个团队的流水线之间等待和协调。

会议重点介绍了两个开源项目：ACK（AWS Controllers for Kubernetes）和Kro。ACK允许用户像管理Kubernetes对象一样管理AWS云资源，而Kro则是2024年11月发布的新项目，提供了一种"万能胶水"机制，能够将不同的Kubernetes资源组合成可复用的抽象层。Kro的特别之处在于它得到了AWS、Google和Microsoft三大云服务商的共同支持，并已进入Kubernetes SIG，有望成为Kubernetes的核心特性。通过这些工具，开发者可以将复杂的基础设施配置简化为几行声明式代码。

## 详细时间线

00:00 - 开场介绍
- Shani Kaz和Petro自我介绍
- 提出"猫vs狗"的趣味辩论作为演示场景

02:30 - 投票应用架构说明
- 应用包含5个组件：3个微服务、1个数据库、1个缓存
- 微服务使用Kubernetes部署，数据库和缓存需要其他工具

03:45 - 传统部署流程的痛点分析
- 需要使用多个流水线：网络团队流水线（VPC、子网、IP）
- 基础设施流水线（数据库部署）
- 平台团队流水线（EKS集群）
- 合规流水线可能删除不合规资源
- 整个流程可能需要一整个工作日

06:20 - 流水线的三大问题
- 不可组合（需要手动连接不同组件）
- 不自愈（资源被删除后不会自动重建）
- 状态不明确（难以确定系统的真实状态）

08:15 - 提出API驱动的解决方案
- 建议使用API而非流水线来部署基础设施
- 不同团队独立创建基础设施代码，统一通过Git仓库管理
- 开发者通过API消费这些能力

09:30 - Kubernetes控制器机制介绍
- Kubernetes通过控制器实现声明式管理
- 控制器确保当前状态与期望状态一致
- 自1.16版本起支持自定义控制器

11:00 - ACK（AWS Controllers for Kubernetes）介绍
- AWS开发和维护的开源项目
- 允许像管理Kubernetes对象一样管理AWS云资源
- 解决了部署时间问题，但引入了大量控制器管理的复杂性

12:45 - 多环境、多区域的规模化挑战
- 实际生产环境包含开发、测试、生产等多个环境
- 可能有数百个集群需要管理
- 传统工具（如Terraform）难以提供统一视图

14:30 - Kro项目介绍
- 2024年11月在KubeCon大会上开源
- 2025年1月Google和Microsoft加入项目指导委员会
- 2025年9月进入Kubernetes SIG，有望成为核心特性

16:00 - Kro的三大核心能力
- 人性化的CRD定义方式（使用简单模式而非复杂的OpenAPI v3）
- 集成CEL（Common Expression Language）进行逻辑操作和依赖定义
- 自动构建有向无环图（DAG）来编排资源创建顺序

18:20 - Kro工作原理
- 安装Kro控制器后注册资源图定义（Resource Graph Definition）
- 平台、安全、数据库团队协作创建可组合的自定义API
- 开发者实例化并复用这些API
- 使用标准Kubernetes调和模式实现自愈

20:15 - 资源图定义（RGD）结构说明
- 包含metadata、spec和status三部分
- spec定义schema（用户可配置字段）和resources（具体资源）
- 支持默认值、验证规则、条件逻辑
- 可组合Kubernetes资源、云资源和第三方资源

22:30 - 简化效果演示
- 开发者只需提供应用名称和简单配置
- 支持条件配置（如ingress启用/禁用、缓存启用/禁用）
- 大幅简化了复杂的基础设施配置

24:00 - 现场投票互动
- 邀请观众使用投票应用进行"猫vs狗"投票
- 展示应用实际运行效果

25:30 - 资源分享
- Kro官方网站和文档
- 鼓励开源贡献
- AWS Skill Builder免费课程（容器相关主题）

27:00 - 投票结果公布
- 猫以21票获胜

27:30 - 结束语
- 强调AWS"从客户出发"的理念
- 请求观众填写会议反馈调查