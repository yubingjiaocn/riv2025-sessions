# AWS re:Invent 2025 会议总结：EC2 实例认证与机密计算

## 会议概述

本次 AWS re:Invent 2025 分组会议由 Arvind 和 William Yap（AWS 首席产品经理）共同主持，主题聚焦于 AWS 的机密计算能力，特别是新推出的 EC2 实例认证（EC2 Instance Attestation）功能。

会议首先阐述了机密计算的核心概念：保护使用中的数据（data in use）。虽然静态数据和传输中数据的保护机制已经相当成熟，但在数据处理过程中保护敏感信息仍然是一个关键挑战。演讲者介绍了 AWS 如何通过 Nitro 系统重新构想虚拟化架构，将虚拟化功能从主机中抽离到专用的 Nitro 卡上，从而在主机和虚拟机之间创建了天然的隔离层。这种设计使得 AWS 运营人员无法访问客户内容，实现了"始终开启"的机密计算保护。

对于需要更高级别隔离的工作负载，会议详细介绍了 Nitro Enclaves 技术，它能够在 EC2 实例内创建一个高度隔离的计算环境，没有外部网络连接、持久化存储或管理员访问权限。随着 AI 工作负载的兴起，客户需求也在演变——他们需要在 GPU 和 AI 加速器上运行机密计算，同时需要网络和存储访问能力。为此，AWS 推出了 EC2 实例认证功能，将 Nitro Enclaves 的核心能力带回到常规 EC2 实例中，使客户能够验证只有受信任的代码在实例上运行，并通过加密认证机制保护敏感数据和模型。

## 详细时间线与关键要点

### 开场与会议结构介绍（00:00 - 02:30）
- **00:00** - Arvind 欢迎参会者并介绍联合演讲者 William Yap
- **01:00** - 概述会议议程：机密计算概念、AWS 的实现方式、Nitro Enclaves、AI 工作负载需求、EC2 实例认证新功能
- **02:00** - 强调会议核心主题："enclave 中发生的事情留在 enclave 中"（What happens in an enclave stays in an enclave）

### 机密计算基础概念（02:30 - 08:00）
- **02:30** - 阐述会议目标：构建能够实现数据保护的解决方案
- **03:15** - 区分敏感数据与普通数据，强调保护敏感数据的重要性
- **04:00** - 介绍数据的三种状态：静态（at rest）、传输中（in transit）、使用中（in use）
- **04:45** - 定义机密计算：保护使用中数据的能力，即在数据处理过程中保护数据
- **05:30** - 展示需要机密计算的工作负载示例：解密、交易签名、令牌化、数据脱敏等
- **06:30** - 总结机密计算工作负载的共同需求：防止未授权访问、仅允许授权代码执行、保持低攻击面、资源灵活性、易用性
- **07:15** - 提出两个核心考量：保护什么（敏感数据）和防范谁（云提供商运营人员和客户自己的运营人员）

### AWS Nitro 系统架构（08:00 - 15:30）
- **08:00** - 介绍传统虚拟化架构：完整的 Xen 虚拟化管理程序协调所有虚拟化功能
- **09:00** - 展示 AWS 如何重新构想虚拟化：将虚拟化功能抽离到定制硅芯片上
- **10:00** - 介绍 Nitro 卡：网络和 IO 功能、存储和设备模型、运营功能（监控、管理、安全）都在独立的 PCIe 卡上运行
- **11:00** - 介绍 Nitro 虚拟化管理程序：轻量级管理程序，仅负责隔离虚拟机和分配资源
- **12:00** - 强调 Nitro 系统的三大优势：更好的资源利用、接近裸机的性能、AWS 与主机之间的天然隔离
- **13:00** - 重要声明：在 AWS 上，机密计算默认始终开启，无需代码更改，无额外成本
- **14:00** - 推荐阅读资源：Nitro 系统安全设计白皮书（27 页）和 NCC Group 第三方审计报告
- **15:00** - 提及 AWS 服务条款更新：明确规定使用基于 Nitro 的 EC2 实例时运营人员无法访问客户内容

### Nitro Enclaves 深入讲解（15:30 - 24:00）
- **15:30** - 引入额外隔离需求：保护数据免受客户自己的运营人员访问
- **16:00** - 展示 EC2 实例内部结构：不同访问级别的用户、应用程序、第三方库、操作系统
- **17:00** - 说明问题：在实例内解密数据会向所有实体暴露明文
- **18:00** - 介绍 Nitro Enclaves：从 EC2 实例分配 CPU 和内存资源创建的强化隔离计算环境
- **18:45** - Nitro Enclaves 的关键特性：无外部网络连接、无持久化存储、无管理员或 root 用户访问、无 SSH 访问
- **19:30** - 唯一通信通道：enclave 与父实例之间的安全本地通道
- **20:00** - 使用场景：将加密数据传输到 enclave，仅在 enclave 内解密和处理
- **21:00** - 最重要特性：Nitro Enclaves 可以提供身份证明（cryptographic attestation）
- **21:45** - 认证流程说明：构建 enclave 镜像时获得参考哈希值，部署后 enclave 获取由 Nitro 虚拟化管理程序签名的认证文档
- **22:30** - 认证文档内容：enclave 镜像、应用程序、父实例 ID、IAM 角色等的加密哈希值
- **23:00** - 信任建立：通过比对认证文档与参考哈希值来验证 enclave 身份后再共享密钥
- **23:30** - 与 AWS KMS 的一流集成：简化密钥管理和认证流程

### Nitro Enclaves 总结与客户案例（24:00 - 28:00）
- **24:00** - 总结 Nitro Enclaves 优势：增强的隔离和安全性、高度灵活性、处理器无关（支持 Intel、AMD、Graviton）
- **24:45** - 资源灵活性：可根据工作负载需求选择不同的 CPU 和内存组合
- **25:15** - 加密认证能力帮助建立信任，且无额外成本
- **25:45** - 展示客户案例：广告技术、金融服务、Web3/区块链、加密货币交易所、特权访问管理等多个垂直领域
- **26:30** - 推荐本周其他相关会议：Visa 和 Mastercard 关于实时支付的演讲、Coinbase 关于安全钱包的会议
- **27:15** - 提及其他客户实现：Fireblocks 的托管解决方案、Stripe 的密钥管理、Brave 的奖励计算

### AI 工作负载的新需求（28:00 - 30:00）
- **28:00** - 指出 AI 带来的新工作负载和演变的需求
- **28:30** - AI 工作负载的特殊要求：在 GPU 和 AI 加速器上运行、保护模型和权重、将模型密封到特定实例
- **29:00** - 新需求：更大带宽（需要外部网络连接）、存储访问、无代码更改
- **29:30** - Arvind 将话题交给 William，介绍 EC2 实例认证功能

### William 接手：AI 与机密计算（30:00 - 35:00）
- **30:00** - William Yap 自我介绍：首席产品经理，负责机密计算六年
- **30:45** - 说明将使用 AI 作为模板来讨论新的机密计算功能
- **31:15** - 强调 2025 年对 Nitro 团队来说是忙碌的一年
- **31:45** - 解释为什么生成式 AI 对机密计算很重要：大量敏感数据和多方参与
- **32:30** - AI 中的敏感数据类型：用户数据（提示词、业务数据、个人信息、RAG 知识库）、模型本身（权重）、输出结果
- **33:30** - 提出三个目标：基础设施提供商无法访问数据、服务提供商（企业）无法访问数据、在解密前证明环境的隔离性

### EC2 实例认证介绍（35:00 - 42:00）
- **35:00** - 目标一已通过 Nitro 系统解决：AWS 运营人员无访问机制
- **36:00** - 聚焦目标二：如何确保企业作为服务提供商也无法访问数据
- **36:45** - 说明需求演变：需要在 GPU 上进行机密计算、需要网络和存储
- **37:30** - 设计决策：与其不断向 Nitro Enclaves 添加功能，不如将 Nitro Enclaves 的能力带回常规 EC2 实例
- **38:00** - 正式发布：EC2 实例认证（EC2 Instance Attestation）
- **38:30** - 定义：使验证只有受信任的软件在 EC2 实例上运行变得更容易的能力
- **39:00** - 强调命名：没有使用 AI 相关名称，因为这是通用能力，适用于所有用例
- **39:45** - EC2 实例认证的组成部分：Nitro 系统（零运营人员访问）、Nitro TPM（可信平台模块，遵循 TPM 2.0 标准）
- **40:30** - 支持的实例：许多 GPU 实例和 Trainium 2 实例都具备此能力
- **41:00** - 三个新功能：可认证的 Amazon 机器镜像（Attestable AMIs）、Nitro TPM 认证文档、与 AWS KMS 的集成
- **41:45** - 总结：这三个能力结合，使您能够将 EC2 实例配置为连自己都无法访问的隔离计算环境

### 可认证 AMI 详解（42:00 - 45:00）
- **42:00** - 介绍可认证 AMI：构建 AMI 的新方式，完成时获得加密哈希值
- **42:45** - 哈希值包含 AMI 中所有内容和启动过程的测量值
- **43:15** - 参考测量值：这是真实的哈希值，因为您知道放入 AMI 的所有成分
- **43:45** - 需要安全保存参考测量值以便后续验证
- **44:00** - 回到推理环境问题：如何配置一个连自己都无法访问的环境

### 最佳实践配置（45:00 - 50:00）
- **45:00** - 分享最佳实践（根据用例可能有所不同）
- **45:30** - 最佳实践 1：移除所有交互式访问形式（SSH、串行控制台、SSM 等）
- **46:00** - 强调：不仅是禁用访问，而是连 SSH 守护进程都不安装
- **46:30** - 最佳实践 2：验证并确保只有受信任的代码在实例内运行
- **47:00** - 只安装必要的软件包和工具来运行工作负载
- **47:30** - 最佳实践 3：在实例边界内设置网络防火墙以保护访问
- **48:00** - 最佳实践 4：确保所有存储和文件系统不可变且只读
- **48:30** - 最佳实践 5：构建受信任的 API，需要身份验证、验证、记录和授权
- **49:00** - 确保 API 不执行任何未记录的操作，不以未批准的方式与用户数据交互
- **49:30** - 将这些成分放入隔离计算配置文件中

### 构建可认证 AMI（50:00 - 会议结束）
- **50:00** - 介绍配方：基础层是最小化的 Amazon Linux 基础镜像、受信任的代码、配置
- **50:30** - 使用开源工具 Kiwi：允许提供配方来构建镜像
- **51:00** - AWS 已与 Kiwi 工具集成，可以生成受信任的 AMI
- **51:30** - [会议继续，字幕在此处截断]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


注：本总结基于提供的字幕文本，涵盖了会议的主要内容和关键时间点。由于字幕在讨论 Kiwi 工具时截断，完整的演示和后续内容（包括 KMS 集成详情、具体用例演示等）未包含在此总结中。