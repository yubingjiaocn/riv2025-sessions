# AWS re:Invent 2025 - 移动端真实用户监控与应用程序映射的综合可观测性

## 会话概述

本次技术会话由AWS高级专家架构师Sivier和首席工程师Alex Nazarov主讲，重点介绍了AWS Application Signals的最新功能，包括应用程序映射(Application Map)和移动端真实用户监控(Mobile Real User Monitoring)。

Application Signals是AWS的应用性能监控(APM)解决方案，基于开放标准OpenTelemetry构建。该服务能够自动发现和监控账户中的服务，无需手动配置服务依赖关系。通过分布式追踪技术，系统可以自动识别服务间的依赖关系，并基于黄金指标(RED指标：请求数、错误数、持续时间)提供全面的监控视图。

新推出的应用程序映射功能提供了动态分组能力，可以根据相关服务、环境或自定义标签对应用进行分组。该功能支持从高层视图到详细服务级别的递归钻取，帮助用户快速识别问题并进行故障排除。移动端真实用户监控扩展了原有的Web监控能力，新增了对iOS和Android应用的支持，能够实时捕获崩溃、性能指标和用户体验数据。

## 详细时间线

### 00:00 - 会话开场与介绍
- Sivier介绍自己作为AWS高级专家架构师
- 介绍合作讲师Alex，AWS首席工程师
- 说明这是一个代码演示会话，将深入技术细节

### 02:30 - Application Signals概述
- 解释Application Signals作为AWS APM解决方案的定位
- 介绍基于黄金指标(RED指标)的监控方法
- 强调基于OpenTelemetry开放标准的架构

### 05:15 - 应用程序映射功能介绍
- 展示从trace map到service map再到application map的演进
- 介绍瓦片式界面设计，每个瓦片代表一个应用
- 说明默认按相关服务分组，支持自定义分组

### 08:45 - 映射导航与健康指标
- 演示缩放、钻取等导航功能
- 介绍右侧抽屉中的健康指标显示
- 展示新增的运营审计(Operational Audit)功能

### 12:20 - 真实用户监控扩展
- 介绍从Web扩展到移动端的监控能力
- 说明Android ANR和iOS崩溃分析的差异化处理
- 展示设备信息、操作系统版本等详细数据收集

### 15:30 - Alex开始代码演示
- 展示复杂分布式系统架构的挑战
- 介绍客户需求：在一个页面查看所有账户资源
- 演示应用程序映射的动态分组功能

### 18:45 - 服务发现与仪表化
- 展示未仪表化服务的自动发现(虚线显示)
- 演示通过上下文菜单启用Application Signals
- 说明OpenTelemetry层的添加过程，不增加Lambda冷启动时间

### 22:10 - 运营审计功能演示
- 展示仪表化后的详细服务视图
- 演示运营审计自动发现的异常和问题
- 展示SQS消息大小限制导致的具体错误

### 25:30 - IDE集成演示
- 展示Kira IDE中的CloudWatch Application Signals MCP服务器
- 演示从IDE直接查询生产环境遥测数据
- 展示根因分析和代码行级别的问题定位

### 29:15 - 自定义分组配置
- 演示通过AWS标签和OpenTelemetry资源属性进行分组
- 展示应用、层级、团队等多维度分组方式
- 演示分组链式操作和递归钻取

### 33:40 - Pet Clinic应用深度分析
- 展示服务级别目标(SLO)违规的可视化
- 演示健康状态圆环图的颜色编码
- 展示异常值检测和资源回收建议

### 37:20 - 合成监控与真实用户监控对比
- 展示合成金丝雀测试的96%成功率
- 说明合成监控与真实用户体验的差异
- 介绍Web和移动端RUM的JavaScript/SDK实现

### 40:50 - 移动端监控详细演示
- 展示Android应用的崩溃分析
- 演示从Application Map到RUM控制台的导航
- 展示特定页面/屏幕的问题识别

### 43:30 - Android Studio集成调试
- 演示移动应用模拟器中的实际崩溃重现
- 展示从崩溃图表到会话详情的钻取
- 演示堆栈跟踪分析和代码定位

### 46:15 - 移动端RUM配置
- 展示Android应用的依赖配置
- 说明OpenTelemetry SDK的Amazon打包版本
- 演示应用监控器配置和区域设置

### 48:00 - 系统架构总结
- 总结Application Map作为交互式仪表板的作用
- 强调历史数据查看和时间范围调整功能
- 说明端到端分布式系统监控的完整性

### 50:30 - 遥测数据关联
- 展示指标、日志、追踪数据的自动关联
- 演示从服务操作到对应日志的直接链接
- 说明EKS等复杂环境的日志关联配置

### 52:45 - 事务搜索功能
- 介绍将追踪数据存储为日志的机制
- 演示订单ID等业务标识符的快速搜索
- 说明支持人员故障排除的实际应用场景

### 55:20 - X-ray迁移问答
- 回答关于X-ray仪表化迁移的问题
- 说明旧版X-ray SDK的弃用路径
- 强调OpenTelemetry作为未来标准的重要性