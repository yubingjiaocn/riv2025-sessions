# AWS re:Invent 2025 会议总结：使用 AI 构建和优化边缘架构的弹性

## 会议概述

本次会议是一场 400 级别的代码实操会议（Code Talk），主题为"使用 AI 构建和优化边缘架构的弹性"。会议由两位 AWS 专家主讲：Robbie Bellson（纽约的开发者倡导者，专注于混合和边缘服务及其在生成式 AI 和代理式 AI 中的应用）和 Jesus Federico（首席解决方案架构师，专注于生成式 AI，曾在电信垂直领域工作）。

会议的核心目标是展示如何利用生成式 AI 和代理式 AI 工具来优化 AWS 混合和边缘服务（如 Outposts、Local Zones 和 Wavelength Zones）的弹性架构设计。与传统的在边缘运行 AI 模型不同，本次会议展示了一种创新方法：使用云端的 AI 工具来指导和优化边缘基础设施的部署和配置。演讲者通过现场编码演示，从静态配置文件开始，逐步构建智能代理系统，该系统能够自动发现资源、查询 AWS 最佳实践文档，并生成针对特定环境的弹性架构建议报告。

整个演示过程采用了渐进式方法：首先使用 Kira CLI（前身为 Q Developer CLI）创建静态 Python 脚本来发现边缘资源，然后集成 MCP（Model Context Protocol）服务器来访问 AWS 文档和 API，最后使用 Strands Agents 框架构建完整的代理系统。这种方法展示了如何将专家知识（通过 MCP 服务器表示）与 LLM 的逻辑推理能力相结合，创建能够提供站点级弹性、计算弹性、网络弹性、数据弹性和运营弹性等多维度建议的智能系统。

## 详细时间线与关键要点

### 开场介绍 (0:00-3:30)
- **0:00** - 欢迎来到拉斯维加斯，会议主题介绍：使用 AI 构建和优化边缘架构的弹性
- **0:30** - 这是一场 400 级别的代码实操会议（Code Talk），这是一种新的会议形式
- **1:00** - Code Talk 的特点：现场编码演示，任何事情都可能发生，鼓励观众提问和互动
- **1:30** - Robbie Bellson 自我介绍：纽约的开发者倡导者，专注于混合和边缘服务以及生成式和代理式 AI
- **2:00** - Jesus Federico 自我介绍：首席解决方案架构师，专注于生成式 AI，曾在电信垂直领域工作
- **2:30** - 两位演讲者曾在电信垂直领域共事超过一年，分享客户反馈和最佳实践

### AWS 混合和边缘服务概述 (3:30-8:00)
- **3:30** - 理论基础的重要性：为什么要做这些以及如何做
- **4:00** - 回顾 2019 年 re:Invent：AWS 首次宣布混合和边缉服务（Outposts、Local Zones、Wavelength Zones）
- **4:30** - 云连续体（Cloud Continuum）的概念：一致的 AWS 服务、API 和运营一致性
- **5:00** - 现场调查：有多少人体验过 Local Zone、Outpost 或 Wavelength Zone？（只有 2-3 人举手）
- **5:30** - 从左到右的服务扩展：从区域到本地区域（Local Zones）到客户场所（Outposts）
- **6:00** - Local Zones：将云服务扩展到没有 AWS 区域的大都市区域
- **6:30** - AWS Outposts：42U 机架式计算设备，部署在客户场所
- **7:00** - 其他服务：EKS Hybrid Nodes（任何物理或虚拟机都可以连接到远程 Kubernetes 控制平面）
- **7:30** - 使用场景：电信、媒体娱乐、游戏、数据驻留要求等

### 弹性架构的核心概念 (8:00-12:00)
- **8:00** - 弹性的定义：工作负载从基础设施或服务中断中恢复的能力
- **8:30** - 弹性的三种思维模型：高可用性、灾难恢复和运营弹性
- **9:00** - 高可用性：通过设计抵抗主站点的常见故障
- **9:30** - 对于 Outposts：需要多个计算机架以实现高可用性
- **10:00** - 对于 Local Zones：使用两个本地区域（同一城市或附近城市）
- **10:30** - 灾难恢复：备份和恢复目标管理
- **11:00** - 认知负荷挑战：一个人很难成为所有领域的专家
- **11:30** - 解决方案：使用代理式 AI 和生成式 AI 来利用专业知识并提供规范性建议

### AI 代理架构设计 (12:00-16:00)
- **12:00** - 弹性的五个关键领域：站点级弹性、网络弹性、计算弹性、数据弹性、运营弹性
- **12:30** - 站点级弹性：物理位置的地理多样性
- **13:00** - 网络弹性：A 点到 B 点的不同连接路径
- **13:30** - 计算弹性：确保有足够的计算单元（实例类型、负载均衡器等）
- **14:00** - 数据弹性：集群、复制等
- **14:30** - 运营弹性：自动扩展、健康检查、监控
- **15:00** - AI 代理架构：MCP 服务器作为专家工具，LLM 提供逻辑推理
- **15:30** - 代理循环：设定目标 → 使用工具 → 收集数据 → 评估是否达成目标 → 继续或完成

### MCP 服务器和工具集成 (16:00-20:00)
- **16:00** - 使用 AWS 最佳实践文档和混合边缘特定知识
- **16:30** - MCP 服务器与各种 AWS API 交互：VPC、EC2、EBS、Auto Scaling 等
- **17:00** - 查看整个环境并与最佳实践进行对比
- **17:30** - 提供量身定制的建议
- **18:00** - 从静态配置到高级动态分析的演进
- **18:30** - 静态方法：收集环境信息，创建初始报告
- **19:00** - 动态方法：使用 MCP 服务器自动请求和获取资源
- **19:30** - 结合 AWS MCP 文档创建综合报告

### 多代理策略 (20:00-23:00)
- **20:00** - 使用 Strands Agents 进行迭代
- **20:30** - 多代理策略：Agent as Tool、Swarm、Workflows
- **21:00** - 演示目标概述：创建静态 Python 发现文件 → 生成报告 → 集成 MCP → 切换到 Strands Agent
- **21:30** - 使用 Kira CLI 集成 MCP 服务器
- **22:00** - 第一个 MCP：自动获取资源信息的工具
- **22:30** - 第二个 MCP：获取 AWS 弹性最佳实践文档

### 环境设置和演示准备 (23:00-26:00)
- **23:00** - 现场调查：有多少人参加过 Strands 或 Kira 的会议？（约 60-70% 的人举手）
- **23:30** - 会议目标：将这些概念应用于混合和边缘架构
- **24:00** - 创新方法：使用云端的生成式 AI 工具来指导边缘基础设施的使用
- **24:30** - 环境介绍：使用特定账户，有 5 个 Outposts（4 个活跃，1 个正在配置）
- **25:00** - 在法兰克福区域运行所有资源
- **25:30** - Kira CLI 介绍：实现代理循环，具有推理能力和资源连接能力

### Kira CLI 实操演示 (26:00-35:00)
- **26:00** - Kira CLI 是 Q Developer CLI 的演进版本
- **26:30** - 现场调查：有多少人使用过 Q Developer CLI 或 Kira CLI？
- **27:00** - 切换到演示环境，展示 Kira CLI 界面
- **27:30** - 查看默认代理和上下文使用情况（3% 的上下文已被工具占用）
- **28:00** - 可用工具：AWS、thinking、report、write、read files 等
- **28:30** - 设置演示环境：告诉 Kira CLI 这是 re:Invent 演示，保存所有生成的脚本到特定文件夹
- **29:00** - 指定使用特定的 AWS 配置文件
- **29:30** - 第一个提示：创建 Python 文件 edge_discovery.py，使用 boto3 发现边缘资源
- **30:00** - 要求发现：可用区、Local Zones、Outposts、实例类型等
- **30:30** - 要求包含错误处理、限流处理，输出为 JSON 格式
- **31:00** - Kira CLI 开始生成代码
- **31:30** - 代码生成完成，查看生成的文件
- **32:00** - 运行脚本，如果有问题 Kira CLI 可以自动修复
- **32:30** - 脚本成功运行，开始分析生成的代码
- **33:00** - 代码分析：使用指定的配置文件和区域
- **33:30** - 获取可用区信息：zone ID、状态、是否为 Local Zone、父可用区、网络边界组
- **34:00** - 获取 Outposts 信息：列出 Outposts、可用区、实例类型
- **34:30** - Slotting 概念：Outposts 是 42U 硬件，需要指定可用的 EC2 实例类型

### 静态报告生成 (35:00-42:00)
- **35:00** - 查看脚本执行结果：区域、可用区和所有相关信息
- **35:30** - 修改脚本：将输出改为 JSON 文件格式
- **36:00** - Kira CLI 进行简单修改，输出将保存到 edge_discovery.json
- **36:30** - 运行修改后的脚本，生成 JSON 文件
- **37:00** - 观众问答时间：关于脚本功能和执行顺序的问题
- **37:30** - 解释静态快照的概念：这只是某个时间点的视图
- **38:00** - 关键洞察：Outposts 和 Local Zones 是连接的边缘产品
- **38:30** - 每个 Local Zone 或 Outpost 都有一个父区域
- **39:00** - 连接性的重要性：允许运行 API 操作
- **39:30** - 每个 Outpost 都有一个锚定可用区
- **40:00** - 高可用性最佳实践：Outposts 应锚定到不同的可用区
- **40:30** - Local Zones 应使用不同的可用区 ID
- **41:00** - 创建静态 HTML 报告：基于 AWS 边缘最佳实践
- **41:30** - 使用已发现的资源创建报告

### MCP 服务器集成 (42:00-50:00)
- **42:00** - Kira CLI 需要自己找出最佳实践（使用模型的知识库）
- **42:30** - 模型使用的是训练截止日期之前的知识
- **43:00** - 为了使用最新文档，需要集成 MCP 工具
- **43:30** - 将使用 AWS MCP 文档服务器来访问最佳实践
- **44:00** - 观众问答：到目前为止有任何问题吗？
- **44:30** - LLM 只知道 edge_discovery.json 中的环境信息
- **45:00** - 创建新代理（agent3）并配置
- **45:30** - 代理配置概念：可以有多个 Kira CLI 实例，类似于配置文件
- **46:00** - 添加知识库 MCP 服务器
- **46:30** - 这是一个公共文档 MCP，提供最佳实践和最新文档
- **47:00** - 切换到新代理上下文
- **47:30** - 查看新工具：现在有 AWS Knowledge MCP Server
- **48:00** - 新提示：创建边缘弹性最佳实践的 HTML 报告
- **48:30** - 要求查找最新文档并使用 AWS 工具自动查找资源
- **49:00** - 不再依赖静态 JSON 文件
- **49:30** - 代理需要通过代理循环自行找出需要查找的资源

### 观众问答环节 (50:00-54:00)
- **50:00** - 问题：Knowledge MCP Server 与已有的 knowledge 工具有什么区别？
- **50:30** - 回答：Kira 最近从 Q CLI 重新品牌化，引入了新功能如 web search 和 web fetch
- **51:00** - 一般知识 vs 特定指导：通用编码知识 vs AWS 特定知识
- **51:30** - 可能存在一些重叠
- **52:00** - 问题：这些都是通过 MCP 调用的吗？
- **52:30** - 回答：不一定，工具可以是本地函数，不必通过 MCP 调用
- **53:00** - MCP 只是代理与工具通信的一种协议
- **53:30** - 后台执行分析：搜索文档（弹性最佳实践、多可用区、Outposts、Local Zones 等）

### 动态报告生成过程 (54:00-58:00)
- **54:00** - 代理正在获取所有文档信息并放入上下文
- **54:30** - 需要查找账户中的所有资源
- **55:00** - 使用配置文件运行 CLI 获取所有信息
- **55:30** - 创建 HTML 文件（这需要一些时间）
- **56:00** - 回到演示文稿讨论其他 MCP 服务器
- **56:30** - 其他可用的 MCP 服务器：Cloud Control API MCP Server
- **57:00** - Cloud Control API MCP 提供对 AWS 基础设施所有资源的访问
- **57:30** - 在本演示中未使用，因为 Kira CLI 已内置 AWS 工具

### Strands Agents 介绍 (58:00-62:00)
- **58:00** - 从交互式提示转向自动化代理
- **58:30** - 目标：构建可以在后端系统运行的 Python 代理
- **59:00** - 无需手动提示即可执行
- **59:30** - Strands Agents：用于构建代理的开源 SDK
- **60:00** - 可以与多个 LLM 提供商一起使用（本演示使用 Bedrock）
- **60:30** - 具有一套可集成和使用的工具
- **61:00** - 代理的三个核心组件：模型（逻辑推理的大脑）、提示（告诉它做什么）、工具（可以采取的行动）
- **61:30** - Strands 的优势：用几行代码就能编写代理

### Strands 的 AWS 原生集成 (62:00-65:00)
- **62:00** - 原生集成示例：RAG 工作流
- **62:30** - 可以手动编写大量代码，或使用原生 retrieve 库
- **63:00** - 已与 Bedrock Knowledge Bases 集成
- **63:30** - AWS 集成是 Strands 的亮点
- **64:00** - 切换到 Kira IDE：代理开发平台
- **64:30** - 从 Kira CLI 切换到 IDE 来创建第一个代理

### 动态报告结果展示 (65:00-70:00)
- **65:00** - 检查报告是否准备好
- **65:30** - 报告已生成，查看内容
- **66:00** - 报告包含类似信息：3 个可用区、2 个 Local Zones、5 个 Outposts（1 个正在配置）
- **66:30** - 新增信息：Auto Scaling 组、负载均衡器、放置组
- **67:00** - 包含跨多个部署的 EC2 实例基础设施信息
- **67:30** - 之前没有的负载均衡器信息
- **68:00** - 关键点：没有要求特定资源，代理自动发现了这些
- **68:30** - 基于找到的文档自动发现放置组、Local Zones 等
- **69:00** - 根据文档创建报告
- **69:30** - 切换到 Kira 开发环境

### 多账户支持讨论 (70:00-73:00)
- **70:00** - 观众问题：如何处理多个账户？
- **70:30** - 回答：可以使用 AWS Organizations 和跨角色访问
- **71:00** - 如果使用 Control Tower，可以让 Kira 发现账户并承担角色
- **71:30** - 可以跨多个账户的环境执行此操作
- **72:00** - 需要在 AWS CLI 配置中设置配置文件
- **72:30** - 配置文件包含账户 ID 和角色信息
- **73:00** - 访问 Kira 的账户与拉取资源的账户是解耦的

### 会议总结 (73:00-结束)
- **73:00** - 身份验证保持不变，但可以有多个 AWS 配置文件
- **73:30** - 在提示 Kira CLI 时可以指定遍历所有 AWS 配置文件
- **74:00** - 使用不同凭证与不同账户通信
- **74:30** - 从那里拉取资源，获得更完整的资源集
- **75:00** - 如何按账户分段取决于具体需求
- **75:30** - 演示继续进行，准备展示 Kira IDE 中的实际代码实现