# AWS re:Invent 2025 会议总结：DraftKings 如何使用 AWS Local Zones

## 会议概述

本次闪电演讲由 AWS 体育博彩和游戏专家 Jake 与 DraftKings 首席技术官 Zach Mayberry 共同主讲，重点介绍了 DraftKings 如何利用 AWS Local Zones 边缘计算技术来满足受监管博彩行业的特殊需求。DraftKings 是一家在纽约证券交易所上市的公司，拥有近 500 万月活跃用户，业务覆盖美国和加拿大的 46 个司法管辖区，支持 18 种以上的体育项目，每年处理超过 1 万亿次公共 API 请求。

演讲通过一个生动的实际案例展示了低延迟的重要性：当用户在丹佛观看现场体育赛事并试图在赔率更新前下注时，往往会发现赔率已经改变。这凸显了体育博彩行业对超低延迟的严格要求。DraftKings 面临着独特的挑战，包括联邦《电汇法》(Wire Act) 要求投注交易必须在用户所在州内完成，各州监管机构有不同的合规要求，以及严格的数据驻留、访问隔离和保留义务。传统的托管数据中心解决方案虽然可行，但存在前期资本投入大、上市时间长、供应链风险高、运营复杂度大等问题。

AWS Local Zones 为 DraftKings 提供了理想的混合解决方案。通过在有 Local Zones 覆盖的州部署受监管组件（如投注下单、在线赌场），在 AWS 区域部署非监管组件（如数据湖、营销、负责任博彩计算），DraftKings 实现了云原生架构的优势，同时满足了监管要求。部署 Local Zones 后，P95 延迟降低了约 25%，自 2025 年 9 月以来已处理超过 5 亿笔交易。

## 详细时间线

00:00 - 01:30 - 开场介绍
- Jake（AWS 体育博彩和游戏专家）和 Zach Mayberry（DraftKings CTO）介绍演讲主题
- 分享在丹佛现场体育赛事中试图抢在赔率更新前下注的个人经历，引出低延迟需求

01:30 - 03:45 - DraftKings 公司介绍
- 纽约证券交易所上市公司
- 近 500 万月活跃用户
- 覆盖美国和加拿大 46 个司法管辖区
- 支持 18 种以上体育项目
- 每年处理超过 1 万亿次公共 API 请求
- 行业领先的可靠性、正常运行时间和可用性

03:45 - 05:20 - DraftKings 产品线介绍
- 梦幻体育 (2012 年推出)：44 个州上线
- 体育博彩 (2018 年推出)：28 个司法管辖区，本周刚在密苏里州上线
- iGaming 在线赌场 (2019 年推出)：5 个司法管辖区，包括真人荷官、在线扑克、老虎机、桌面游戏
- 彩票服务 (2012 年通过 Jackpocket 推出)：数字化彩票体验

05:20 - 07:30 - 博彩行业的监管要求
- 联邦层面：《电汇法》(Wire Act) 限制跨州体育博彩
- 投注交易必须在用户所在州内完成
- 各州有独立的监管机构和特定法规
- 无法像传统云原生解决方案那样一次构建、到处部署
- 需要高度细化和可配置的产品以适应不同州的要求
- 数据驻留、访问隔离和控制、保留义务因州而异

07:30 - 10:15 - 传统解决方案的局限性
- 物理约束：前期资本投资大、上市时间长、受供应链影响
- 2022 年供应链放缓期间，超级碗前的容量管理成为真正的挑战
- 数字约束：可扩展性、可用性、可靠性管理复杂
- 每个合作伙伴有不同的 SLA 和要求
- 每个站点有不同的性能和配置
- 跨多个司法管辖区的运营复杂度和风险高

10:15 - 13:00 - AWS 全球基础设施和 Local Zones 介绍
- AWS 拥有 38 个区域、120 个可用区
- 计划新增 10 个可用区和 3 个区域
- 客户可能无法仅通过区域满足低延迟和数据驻留要求
- AWS Local Zones 将工作负载部署到更接近终端用户的位置
- 位于大都市中心和行业枢纽
- 提供与 AWS 区域相同的核心服务和体验
- 完全托管服务，具有相同的可扩展性和弹性
- 全球 35 个 Local Zones，另有 17 个已宣布

13:00 - 14:30 - Local Zones 如何降低延迟
- 通过 AWS 拥有的安全高速私有链路连接到父区域
- 示例：德克萨斯州用户可使用休斯顿 Local Zone，大幅缩短网络路径
- 相比连接到四个主要 AWS 区域之一，延迟显著降低

14:30 - 16:45 - DraftKings 的 Local Zones 部署策略
- 展示美国体育博彩业务覆盖的州地图
- 优先使用州内的 AWS 区域（如果监管允许）
- 在有 Local Zones 覆盖的州部署受监管组件
- 目前已部署 4 个 Local Zones，计划扩展更多
- 无覆盖的州继续使用传统托管解决方案
- 混合策略：尽可能云原生化

16:45 - 17:30 - 州级部署策略
- 受监管组件保留在州内以满足数据驻留和司法管辖要求
- 优先使用 Local Zones 或区域的云原生解决方案
- 非监管服务（数据湖、离线报告、负责任博彩计算、营销推广）部署在区域中
- 在区域中获得最佳成本效率和性能

17:30 - 19:00 - 架构设计详解
- 非监管组件部署在 AWS 区域和可用区
- 受监管组件（投注下单、iGaming）部署在 Local Zones
- 有可用区的州直接部署到可用区
- 通过创建新子网并分配给 Local Zone 来扩展 VPC
- 子网与其他可用区中的子网处理方式相同
- 网关、路由和调度表自动更新
- 通过高速私有冗余链路连接到父区域
- 使用 CloudWatch 和 CloudTrail 在父区域查看日志和元数据

19:00 - 21:00 - 业务影响和成果
- P95 延迟降低约 25%
- 虽然是毫秒级改进，但显著提升用户体验
- 自 2025 年 9 月以来处理超过 5 亿笔交易
- 数据来自几周前，实际数字更高（NBA 和橄榄球赛季高峰期）
- 大量流量受益于硬件提升和 AWS 原生堆栈
- 在 AWS 骨干网上运行可加快与父区域和其他工作负载的通信
- 虽然投注必须在州内完成，但可能需要从其他地方获取信息
- 端到端用户交易速度显著提升

21:00 - 22:30 - 未来规划
- 继续扩展到更多与司法管辖区匹配的 Local Zones
- 推动 AWS 创建更多 Local Zones
- 探索其他可从边缘处理受益的工作负载
- 历史上因担心托管机架容量限制而未考虑边缘处理
- Local Zones 的可扩展性消除了这一顾虑
- 探索 AI 解决方案，将客户数据更靠近客户以加快交易速度
- 考虑扩展州内足印以提升客户体验，即使没有监管要求

22:30 - 23:00 - 总结和致谢
- 感谢 AWS 和合作机会
- 开放问答环节