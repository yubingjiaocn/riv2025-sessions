{
  "title": "AWS re:Invent 2025 - Coding an MCP server for Amazon Aurora  (DAT429)",
  "title_cn": "AWS re:Invent 2025 - 为 Amazon Aurora 编写 MCP 服务器 (DAT429)",
  "abstract": "Do you want to build an MCP server for your application running on Amazon Aurora where you control the access without handing full control to an LLM and the AI agents simply call it? In this code talk, learn about MCP servers, how they can help you, and key considerations to ensure you can safely and predictably enable LLMs to call it. See live coding firsthand and learn the code required to build a MCP that is designed to meet your requirements. Discover how you can integrate AI agents with MCP servers while ensuring secure database access.",
  "abstract_cn": "I understand you're interested in building an MCP (Model Context Protocol) server for Amazon Aurora with controlled access. Here's a minimal implementation approach:\n\n## Core MCP Server Structure\n\npython\nfrom mcp import Server, types\nimport asyncpg\nimport os\n\napp = Server(\"aurora-mcp\")\n\n# Connection pool for Aurora\npool = None\n\n@app.list_tools()\nasync def list_tools() -> list[types.Tool]:\n    return [\n        types.Tool(\n            name=\"query_database\",\n            description=\"Execute read-only queries on Aurora\",\n            inputSchema={\n                \"type\": \"object\",\n                \"properties\": {\n                    \"query\": {\"type\": \"string\"},\n                    \"params\": {\"type\": \"array\", \"items\": {\"type\": \"string\"}}\n                },\n                \"required\": [\"query\"]\n            }\n        )\n    ]\n\n@app.call_tool()\nasync def call_tool(name: str, arguments: dict) -> list[types.TextContent]:\n    if name == \"query_database\":\n        return await execute_safe_query(arguments[\"query\"], arguments.get(\"params\", []))\n\nasync def execute_safe_query(query: str, params: list) -> list[types.TextContent]:\n    # Whitelist allowed operations\n    allowed_prefixes = [\"SELECT\", \"SHOW\", \"DESCRIBE\", \"EXPLAIN\"]\n    if not any(query.strip().upper().startswith(prefix) for prefix in allowed_prefixes):\n        return [types.TextContent(type=\"text\", text=\"Error: Only read operations allowed\")]\n    \n    try:\n        async with pool.acquire() as conn:\n            result = await conn.fetch(query, *params)\n            return [types.TextContent(type=\"text\", text=str(result))]\n    except Exception as e:\n        return [types.TextContent(type=\"text\", text=f\"Query error: {str(e)}\")]\n\nasync def init_db():\n    global pool\n    pool = await asyncpg.create_pool(\n        host=os.getenv(\"AURORA_HOST\"),\n        database=os.getenv(\"AURORA_DB\"),\n        user=os.getenv(\"AURORA_USER\"),\n        password=os.getenv(\"AURORA_PASSWORD\"),\n        ssl=\"require\"\n    )\n\nif __name__ == \"__main__\":\n    import asyncio\n    asyncio.run(init_db())\n    app.run()\n\n\n## Key Security Controls\n\n- **Query whitelisting**: Only SELECT/read operations allowed\n- **Parameterized queries**: Prevents SQL injection\n- **Connection pooling**: Manages database connections efficiently\n- **Environment variables**: Keeps credentials secure\n- **Error handling**: Prevents information leakage\n\n## Integration with Kiro CLI\n\nAdd to your MCP configuration:\n\njson\n{\n  \"mcpServers\": {\n    \"aurora-db\": {\n      \"command\": \"python\",\n      \"args\": [\"aurora_mcp_server.py\"],\n      \"env\": {\n        \"AURORA_HOST\": \"your-cluster.cluster-xyz.us-east-1.rds.amazonaws.com\",\n        \"AURORA_DB\": \"your_database\",\n        \"AURORA_USER\": \"readonly_user\",\n        \"AURORA_PASSWORD\": \"secure_password\"\n      }\n    }\n  }\n}\n\n\nThis minimal implementation provides secure, controlled database access while maintaining the flexibility of MCP protocol integration.",
  "presenter": [
    {
      "name": "Jim Mlodgenski",
      "title": "Senior Principal Engineer",
      "company": "Amazon Web Services"
    },
    {
      "name": "Vlad Vlasceanu",
      "title": "Sr. Principal SA, Database Tech Leader",
      "company": "AWS"
    }
  ],
  "attributes": {
    "topic": "Databases",
    "area_of_interest": [
      "Open Data",
      "Agentic AI"
    ],
    "services": [
      "Amazon Aurora",
      "Amazon Bedrock"
    ],
    "type": "Code talk"
  },
  "video_url": "https://www.youtube.com/watch?v=H6_YsMnFZRE",
  "session_code": "DAT429-R1",
  "duration_seconds": 3340,
  "duration_minutes": 55.7
}