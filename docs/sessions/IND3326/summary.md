# AWS re:Invent 2025 - Formula 1 多视角直播技术解决方案

## 会议概述

本次技术分享会由AWS解决方案架构师Nick Morgan、边缘服务专家Jamie Mullen以及Formula 1数字技术负责人Dave King共同呈现，深入探讨了F1如何利用AWS云服务打造世界级的赛事运营和创新的多屏幕观赛体验。

Formula 1作为全球最具数据密集度的体育赛事之一，每赛季举办24场比赛，覆盖21个国家，累计观众达16亿人次，全球拥有超过8.25亿车迷。每辆F1赛车每秒产生超过100万个数据点，单个比赛周末处理的数据量超过500万个数据点，相当于同时流式传输1500部高清电影。AWS与F1的合作始于2018年，并在2022年续约，目前处于F1最高级别的合作伙伴关系。

本次分享重点介绍了两个创新项目：一是基于Amazon Bedrock的根因分析(RCA)系统，通过多智能体编排实现故障诊断自动化，将故障工单解决时间减少95%，初始分类时间从45分钟缩短至4分钟；二是F1 TV Premium多视角直播平台，在2025年推出，支持UHD HDR 4K画质，允许观众同时观看最多6个设备上的多个视频流，所有视频源实现帧级精确同步。

## 详细时间轴与关键要点

### **00:00 - 开场与F1介绍**
- 演讲者介绍：Nick Morgan(AWS解决方案架构师)、Jamie Mullen(边缘服务专家SA)、Dave King(F1数字技术负责人)
- F1庆祝75周年，24场比赛覆盖21个国家，16亿累计观众，8.25亿全球车迷

### **02:30 - AWS与F1合作历程**
- 2018年开始合作，2019年成为全球赞助商
- 2022年11月续约，目前为顶级合作伙伴关系
- 合作三大支柱：数据转化为赛事智能、车迷体验增强、技术转型基金

### **04:15 - 合作里程碑**
- 2019年：完成CFD项目设计2021赛车，重新引入地面效应时代
- 2021年：推出F1 Insights powered by AWS，提供实时数据图形和预测分析
- 2022年：启动Fan 360项目
- 2024年：使用生成式AI制作加拿大大奖赛奖杯
- 2025年：推出F1 TV Premium多屏OTT平台和根因分析系统

### **06:00 - F1数据生态系统**
- 每辆赛车每秒产生超过100万个数据点
- 典型比赛周末处理超过500万个数据点
- 相当于同时流式传输1500部高清电影

### **07:30 - 数据采集架构(以意大利Imola赛道为例)**
- 赛道每200米设置感应线圈，构成计时段
- 无线电塔接收赛车实时遥测数据和车载视频
- 赛事技术中心(ETC)通过高速光纤连接赛道，作为便携式迷你数据中心
- 媒体技术中心(MTC)位于英国Biggin Hill，包含完整广播套件和三个演播室

### **10:00 - AWS云端处理架构**
- MTC通过Direct Connect连接AWS
- 使用Amazon SageMaker作为F1 Insights的推理引擎
- 所有ML模型存储在S3，比赛周末间重新训练以提高准确性
- S3存储Customer 360数据湖和超过7PB的历史视频档案

### **12:45 - 推理管道**
- 数据通过Amazon API Gateway发送
- AWS Lambda执行代码
- 结果存储在DynamoDB
- Amazon CloudWatch存储日志文件用于运营需求
- 端到端处理时间不到1秒(从赛车到AWS再回到MTC)

### **15:30 - 根因分析(RCA)系统介绍**
- 项目由F1云和DevOps负责人Ryan Kirk领导
- 利用生成式AI实现智能根因分析的阶跃变化
- 基于Amazon Bedrock构建

### **17:00 - RCA系统架构**
- 采用多智能体编排，包含监督者和专家智能体
- 成功接入超过500个应用程序到基于聊天机器人的系统
- 为每个应用程序维护知识库
- 将所有日志集中到Amazon CloudWatch

### **19:15 - RCA工作流程演示**
- 应用程序在Kubernetes中运行，可自动注册
- Bedrock负责智能体编排，调用监督者和专家处理数万行日志数据
- 示例：查询Formula 1管理API的数据库问题
- 系统识别出Kinesis配置错误、数据库连接中断、网络设备过载

### **22:30 - RCA系统成效**
- 故障工单解决时间减少95%
- 初始分类时间从45分钟缩短至4分钟
- AI能够以机器级速度快速高效地检索日志文件
- 自动创建工单，快速向整个组织的支持团队发出警报

### **24:00 - F1 TV Premium宣传视频**
- 展示多视角观赛体验
- 支持4K画质
- 可在最多6个设备上流式传输
- 自定义比赛视图

### **26:30 - F1数字产品组合(Dave King介绍)**
- F1网站和应用：2025年完全重新推出，包含垂直视频、实时博客、短视频
- F1实时计时：第二屏体验，显示遥测、定位、圈速等数据
- F1 Fantasy：传统梦幻游戏和预测游戏
- F1 TV：2018年推出的OTT平台，覆盖132个国家

### **29:00 - F1 TV历史与功能**
- 自2018年起提供所有20辆赛车的车载摄像头访问
- 两个国际信号源和两个数据频道
- 两个订阅层级：重播层和F1 TV Pro(直播体验)
- 传统问题：只能在多个信号源之间切换，无法同时观看

### **31:15 - F1 TV Premium目标**
- 开发18-24个月
- 打造引人入胜的多角度体验
- 关键挑战：确保所有内容同步
- 从HD SDR 50fps升级到UHD HDR
- 车载摄像头也升级到HD HDR
- 支持在多个设备上同时播放

### **33:45 - 多视角体验演示**
- 展示比赛起步场景
- 主画面显示国际信号源，右侧显示22-23个可选视频块
- 五盏红灯熄灭时，所有视频源(国际信号、车载摄像头、车手追踪器)完全同步
- 支持所有评论音轨、车载音频和字幕
- 布局受限但灵活，视频切换流畅

### **37:00 - 视频工作流程**
- 车载摄像头：通过射频从200英里/小时行驶的赛车传输，经赛道光纤网络到ETC
- 赛道摄像头：25-30个摄像头连接到光纤网络
- 所有内容传输到Biggin Hill的MTC进行最终剪辑和制作
- 不同类别的视频遵循不同路径

### **39:30 - 架构原则**
- 单一Media Live ABR编码阶梯
- 继续支持现有F1 TV Pro单视图体验
- 多视角在客户端尽可能灵活
- 不依赖操作系统的视频堆栈
- 从头构建自定义播放器
- 在整个媒体服务管道中保持同步

### **42:00 - 媒体服务架构(Jamie Mullen讲解)**
- 三大挑战：信号源对齐、流编码和打包、多视角编码变化
- 典型AWS Elemental Media Services工作流程：
  - AWS Elemental MediaConnect(安全可靠的传输服务)
  - AWS Elemental MediaLive(云端广播级视频处理)
  - AWS Elemental MediaPackage(即时打包和源服务)
  - Amazon CloudFront(内容分发网络)

### **45:15 - 多区域架构与故障转移**
- 跨两个区域的架构以实现弹性
- AWS Elemental Live作为本地编码设备
- 手动故障转移的挑战：延迟检测、延迟执行、信号源不对齐

### **48:00 - 时间码(Timecode)解决方案**
- 时间码是嵌入每个视频帧的时间参考
- 用于同步的关键技术
- 无缝跨区域故障转移功能：在所有源之间实现帧精确对齐

### **50:30 - 无缝故障转移架构**
- Elemental Live应用通用时间码
- MediaLive配置Epoch Locking，使用嵌入时间码
- 通过CMAF ingest输出到MediaPackage
- MediaPackage使用无状态同步进行可预测打包
- MediaPackage可在出现问题时返回404端点

### **53:00 - CloudFront Origin Groups**
- 指定主源和辅助源(区域一和区域二)
- 配置基于HTTP状态码的故障转移标准
- 自动将请求发送到辅助区域

### **55:15 - 媒体质量感知弹性(Media Quality Aware Resiliency)**
- MediaLive为每个片段生成MQCS(媒体质量置信度分数)
- 分数基于输入源丢失、黑帧检测、冻结帧检测等参数
- 分数范围0-100，100表示最佳质量
- MediaPackage提供区域内基于质量的故障转移
- 通过CMSD信号传输
- CloudFront使用基于质量的源选择

### **58:00 - F1应用Epoch Locking**
- F1为直播会话提供24个视频主题信号源
- 所有信号源应用通用时间码
- MediaLive配置：输出时序源设为输入时钟，输出锁定模式设为Epoch Locking
- 应用一致的编码参数：帧率、GOP大小，禁用场景变化检测
- 结果：不仅单个频道实现时间码对齐，多个频道之间也实现对齐

### **01:01:00 - 服务器端频道同步总结**
- 通过时间码、MediaLive和MediaPackage实现服务器端频道同步
- 传统内容交付可能只有一个编码阶梯

### **01:02:00 - 会议结束**
- 提供原型博客和Wired文章的QR码
- 感谢观众参与

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


关键技术栈总结：
- Amazon SageMaker、S3、API Gateway、Lambda、DynamoDB、CloudWatch
- Amazon Bedrock(多智能体编排)
- AWS Elemental MediaConnect、MediaLive、MediaPackage
- Amazon CloudFront
- Direct Connect
- Kubernetes