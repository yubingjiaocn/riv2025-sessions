# AWS re:Invent 2025 会议总结：使用 ElastiCache 和 Aurora PostgreSQL 构建无服务器聊天机器人

## 会议概述

本次技术分享由 AWS 首席数据库专家 Shayan Sanyal 主讲，深入探讨了如何使用 Amazon ElastiCache 和 Aurora PostgreSQL 构建高性能的无服务器聊天机器人系统。会议以虚构的旅行平台 Flightly 为案例，展示了从基础聊天机器人到智能代理系统的完整架构演进过程。

演讲重点关注了大规模聊天机器人系统面临的性能瓶颈问题，特别是当系统需要处理每日百万级请求时的响应时间挑战。通过引入缓存层和语义搜索技术，展示了如何将响应时间从 30 秒优化到亚秒级别，避免因性能问题导致的客户流失和业务损失。

## 详细时间线与关键要点

### 0:00-5:00 问题背景与业务影响
- **案例介绍**：Flightly 旅行平台面临的性能挑战
- **业务损失量化**：30秒平均响应时间导致每日损失$1500，年损失$5000万
- **核心问题**：每秒延迟导致7%转化率下降，用户在等待过程中转向竞争对手

### 5:00-10:00 架构问题分析
- **当前架构局限**：每个查询都直接访问数据库，语义搜索重复计算向量距离
- **扩展性挑战**：从单用户到百万用户的架构演进困境
- **访问模式问题**：数据库本身性能良好，问题在于访问模式设计

### 10:00-15:00 缓存解决方案
- **ElastiCache 服务介绍**：Redis OSS 兼容的完全托管缓存服务
- **性能优势**：从内存直接提供数据，保证微秒级 P99 延迟
- **架构特性**：跨可用区异步复制、亚毫秒级故障转移、自动扩展

### 15:00-20:00 语义搜索实现
- **向量嵌入技术**：将文本转换为多维向量进行语义理解
- **PG Vector 扩展**：PostgreSQL 中存储和查询向量嵌入的解决方案
- **Aurora PostgreSQL 优势**：数据本地性、无需额外 ETL 管道、全球数据库复制

### 20:00-25:00 集成架构演进
- **四步架构演进**：
  - 简单问答系统
  - 添加对话历史记忆
  - 个性化用户体验
  - 检索增强生成（RAG）
- **ElastiCache 角色扩展**：从简单缓存到会话状态和用户偏好存储

### 25:00-30:00 代理AI系统构建
- **Strands Agents 框架**：开源 AI 代理构建 SDK
- **模型上下文协议（MCP）**：LLM 与各种服务通信的标准化接口
- **工具集成**：Aurora PostgreSQL MCP 服务器、天气 API 等外部服务集成

### 30:00-35:00 生产级架构模式
- **五大可重用模式**：
  - 上下文缓存模式
  - 嵌入缓存模式  
  - 持久语义缓存
  - 分层内存管理
  - 多代理共享内存架构

### 35:00-41:00 生产部署与总结
- **Bedrock Agent Core**：完全托管的代理运行平台
- **最终效果**：90%用户留存率，60%成本节省，亚秒级响应时间
- **资源分享**：相关深度技术会议推荐和后续学习资源