1
00:00:00,810 --> 00:00:02,790
- [James] All right, let's
go ahead and get started.

2
00:00:02,790 --> 00:00:03,660
Welcome everyone.

3
00:00:03,660 --> 00:00:07,080
Thanks so much for coming
over here for this code talk.

4
00:00:07,080 --> 00:00:08,340
My name is James Hood.

5
00:00:08,340 --> 00:00:11,580
I'm a principal software
engineer at Amazon.

6
00:00:11,580 --> 00:00:14,403
I know it's kind of late
in the day on day one.

7
00:00:14,403 --> 00:00:17,580
We are, we're gonna make sure

8
00:00:17,580 --> 00:00:19,230
to keep it interesting for you.

9
00:00:19,230 --> 00:00:20,670
You'll definitely wanna stay for my part,

10
00:00:20,670 --> 00:00:24,056
I have a very ambitious code exercise

11
00:00:24,056 --> 00:00:25,650
that I'm gonna do for you all.

12
00:00:25,650 --> 00:00:27,510
So we'll see how it goes.

13
00:00:27,510 --> 00:00:29,640
But first I wanna hand off to Maish.

14
00:00:29,640 --> 00:00:32,040
- [Maish] Thank you very much James.

15
00:00:32,040 --> 00:00:36,360
Firstly, thank you all for
choosing us over the expo hall.

16
00:00:36,360 --> 00:00:37,650
There's more swag tomorrow.

17
00:00:37,650 --> 00:00:39,540
Don't worry, there's more than
enough for everybody else.

18
00:00:39,540 --> 00:00:41,070
My name is Maish Saidel-Keesing

19
00:00:41,070 --> 00:00:43,830
and I'm a senior developer
advocate with AWS.

20
00:00:43,830 --> 00:00:46,110
I work in the marketing organization.

21
00:00:46,110 --> 00:00:50,010
And before we start, there's
a couple of things I'd like

22
00:00:50,010 --> 00:00:51,660
to get off, or clear.

23
00:00:51,660 --> 00:00:55,590
Firstly, I have two hearing
aids, so if you have a question,

24
00:00:55,590 --> 00:00:56,640
please put up your hand.

25
00:00:56,640 --> 00:00:58,740
I can see not very well, but we can see,

26
00:00:58,740 --> 00:01:00,660
put up your question
and please speak loudly

27
00:01:00,660 --> 00:01:02,160
so I can hear properly
because we don't have

28
00:01:02,160 --> 00:01:03,210
a mic running around the room.

29
00:01:03,210 --> 00:01:04,560
That's number one.

30
00:01:04,560 --> 00:01:09,560
Number two, we are working
with code assistance,

31
00:01:09,660 --> 00:01:12,705
which means the code is whatever,

32
00:01:12,705 --> 00:01:13,710
when you work with the code assistance,

33
00:01:13,710 --> 00:01:14,940
it's non-deterministic

34
00:01:14,940 --> 00:01:18,120
and James will give you the
actual good way we use that,

35
00:01:18,120 --> 00:01:21,720
works perfectly, how we try
to use it at least internally.

36
00:01:21,720 --> 00:01:25,320
And number three, because
I'm gonna be typing

37
00:01:25,320 --> 00:01:27,570
and James is gonna be typing,
a part of this, James,

38
00:01:27,570 --> 00:01:30,300
this talk is gonna be done
sitting down over here in front

39
00:01:30,300 --> 00:01:32,730
of the laptop 'cause it's
pretty difficult to do that

40
00:01:32,730 --> 00:01:35,190
while we're standing up.

41
00:01:35,190 --> 00:01:39,120
So how did this come about,

42
00:01:39,120 --> 00:01:40,170
which is actually quite interesting,

43
00:01:40,170 --> 00:01:44,970
because I was watching a recording

44
00:01:44,970 --> 00:01:49,000
of a video that James did
for an internal, what we call

45
00:01:50,160 --> 00:01:53,160
principle engineers that
give, on a regular basis,

46
00:01:53,160 --> 00:01:54,267
they give talks internally in Amazon.

47
00:01:54,267 --> 00:01:56,910
And I was looking at one
of the videos and I said,

48
00:01:56,910 --> 00:01:58,800
This is something that
we have to talk about

49
00:01:58,800 --> 00:02:00,240
at re:Invent.

50
00:02:00,240 --> 00:02:03,494
And I said, James, you
wanna come into a session?

51
00:02:03,494 --> 00:02:04,730
He said, yeah, why not?

52
00:02:04,730 --> 00:02:07,332
So the reason we did
this is because I think

53
00:02:07,332 --> 00:02:09,513
the story that we have to tell is,

54
00:02:10,937 --> 00:02:14,730
in Amazon itself or in AWS
specifically, we have kind

55
00:02:14,730 --> 00:02:18,930
of adopted generative AI
tooling with open arms.

56
00:02:18,930 --> 00:02:23,070
We use it all day every day,
anywhere and everywhere.

57
00:02:23,070 --> 00:02:25,920
And we are here to share a
bit about how our story goes,

58
00:02:25,920 --> 00:02:28,950
how we do this internally inside Amazon.

59
00:02:28,950 --> 00:02:30,570
We're not gonna be
giving any trade secrets.

60
00:02:30,570 --> 00:02:32,910
A lot of it is common sense,

61
00:02:32,910 --> 00:02:37,710
but it's good to see it's like
written out in a proper way

62
00:02:37,710 --> 00:02:39,660
so you can understand how that works.

63
00:02:39,660 --> 00:02:41,970
And what we did internally in Amazon,

64
00:02:41,970 --> 00:02:44,130
we use a something called a mechanism.

65
00:02:44,130 --> 00:02:47,292
Has anybody heard of an
AWS and Amazon mechanism?

66
00:02:47,292 --> 00:02:52,292
Mechanism is a tool which we
do where when something works,

67
00:02:53,070 --> 00:02:56,040
we like to share that with
the rest of the company

68
00:02:56,040 --> 00:02:58,590
and we take it and we codify
it or put it into a tool

69
00:02:58,590 --> 00:03:00,540
and put into we call it a mechanism.

70
00:03:00,540 --> 00:03:02,550
And this mechanism works
very, very well with one

71
00:03:02,550 --> 00:03:05,500
of our leadership principles,
which is invent and simplify,

72
00:03:06,660 --> 00:03:08,820
where we take a virtuous cycle

73
00:03:08,820 --> 00:03:10,092
and it reinforces the behavior

74
00:03:10,092 --> 00:03:11,640
for other teams that can use it.

75
00:03:11,640 --> 00:03:14,490
So instead of everybody
having to reinvent the wheel,

76
00:03:14,490 --> 00:03:17,010
one team does it, gives
it to everybody else

77
00:03:17,010 --> 00:03:19,050
and everybody starts contributing, sorry,

78
00:03:19,050 --> 00:03:21,120
starts contributing
directly back into the tool

79
00:03:21,120 --> 00:03:22,623
to make everything better.

80
00:03:23,580 --> 00:03:27,422
So should we start jumping in?

81
00:03:27,422 --> 00:03:30,292
First things first, can we move over?

82
00:03:30,292 --> 00:03:31,350
Yeah. Yep.

83
00:03:31,350 --> 00:03:32,350
Thank you very much.

84
00:03:33,300 --> 00:03:38,300
The code that is being used
here today is on a GitHub repo.

85
00:03:39,930 --> 00:03:41,490
If you want to take a screenshot of that

86
00:03:41,490 --> 00:03:43,050
and follow along, you're
more than welcome.

87
00:03:43,050 --> 00:03:47,533
Some of it, for example, the
examples that I'm gonna give

88
00:03:47,533 --> 00:03:49,860
are available here as an open source repo

89
00:03:49,860 --> 00:03:51,270
that you can use and catch them later,

90
00:03:51,270 --> 00:03:53,370
and also some of the work that
James is gonna do afterwards

91
00:03:53,370 --> 00:03:56,160
of how we use this also in Strand.

92
00:03:56,160 --> 00:03:59,700
So let's first go to how
we use this internally.

93
00:03:59,700 --> 00:04:01,643
And forgive me, I'm gonna go and sit down.

94
00:04:03,240 --> 00:04:08,240
So when we are talking to
an LLM, we have something

95
00:04:09,093 --> 00:04:11,490
that we call zero shot, one shot,

96
00:04:11,490 --> 00:04:13,293
and a few shot prompts.

97
00:04:14,370 --> 00:04:17,190
When you talk to an LLM,
there's a number of ways you

98
00:04:17,190 --> 00:04:20,580
can do that in different means
and different interactions.

99
00:04:20,580 --> 00:04:24,767
The first one is a what
we call a simple shot.

100
00:04:24,767 --> 00:04:25,707
In other words, you
ask the LLM a question.

101
00:04:25,707 --> 00:04:29,280
And this of course is I'm working
over here in the Kiro CLI,

102
00:04:29,280 --> 00:04:31,860
can be done in any coding system,

103
00:04:31,860 --> 00:04:34,170
but we are gonna be doing
everything over here in Kiro.

104
00:04:34,170 --> 00:04:36,173
So asking a coding assistant a question

105
00:04:36,173 --> 00:04:41,173
will give you an answer
and not necessarily always

106
00:04:41,610 --> 00:04:42,443
the answer you want.

107
00:04:42,443 --> 00:04:45,120
So in this case, for me it
is creating code because,

108
00:04:45,120 --> 00:04:47,070
and it does it all in Python,

109
00:04:47,070 --> 00:04:50,193
which is based on whatever
the LLM has been trained.

110
00:04:51,090 --> 00:04:52,770
And slowly but surely will gimme the code

111
00:04:52,770 --> 00:04:54,776
that I want and will give me,

112
00:04:54,776 --> 00:04:56,100
shat I asked in this
case was a script which

113
00:04:56,100 --> 00:04:57,810
will validate an IAM policy,

114
00:04:57,810 --> 00:04:59,190
and this is working very, very slowly,

115
00:04:59,190 --> 00:05:00,660
but we'll have to deal with it.

116
00:05:00,660 --> 00:05:04,320
Okay, so it gives me the
code that I want to create

117
00:05:04,320 --> 00:05:08,160
and that is one way of
interacting with an LLM.

118
00:05:08,160 --> 00:05:11,460
But we have found that there's
better ways to do this.

119
00:05:11,460 --> 00:05:14,220
Here, it gives me the word,
exactly what I asked you to do,

120
00:05:14,220 --> 00:05:18,930
what the function does,
and what it will return.

121
00:05:18,930 --> 00:05:20,733
But that is a zero shot.

122
00:05:20,733 --> 00:05:24,060
In other words, to just ask an
LLM to do something for you.

123
00:05:24,060 --> 00:05:28,200
But if you provide more context
to the LLM, for example,

124
00:05:28,200 --> 00:05:31,200
I know how to write a function
which does in this case

125
00:05:31,200 --> 00:05:33,085
a validation of an email.

126
00:05:33,085 --> 00:05:35,910
This is what I know and
I ask it to continue

127
00:05:35,910 --> 00:05:37,290
to do the same question.

128
00:05:37,290 --> 00:05:39,270
In this case things are gonna change,

129
00:05:39,270 --> 00:05:42,690
because firstly, it
understands I didn't want to,

130
00:05:42,690 --> 00:05:44,730
the code that I wanted to
be generated would not be

131
00:05:44,730 --> 00:05:45,563
in Python because I gave an example

132
00:05:45,563 --> 00:05:48,390
in this case of JavaScript,

133
00:05:48,390 --> 00:05:49,773
and it gave me the answer.

134
00:05:50,880 --> 00:05:53,940
So we said the first is zero
shot, you just ask a question.

135
00:05:53,940 --> 00:05:56,820
The second one is a one
shot. You give it an example.

136
00:05:56,820 --> 00:05:58,530
And when we have a few shot prompting,

137
00:05:58,530 --> 00:06:00,420
you can give multiple examples

138
00:06:00,420 --> 00:06:01,740
which gives even more context.

139
00:06:01,740 --> 00:06:05,820
In this case, this is what I
know, create the same function

140
00:06:05,820 --> 00:06:08,580
and we'll see that the LLM,
when it answers a question,

141
00:06:08,580 --> 00:06:11,850
because you've provided
more information to it,

142
00:06:11,850 --> 00:06:14,040
it'll give you a slightly
different answer.

143
00:06:14,040 --> 00:06:17,760
In this case, there is a
very, very slight difference.

144
00:06:17,760 --> 00:06:20,520
In other words, it did remove
the example policy usage

145
00:06:20,520 --> 00:06:22,380
or the usage for the
example, which I wanted it

146
00:06:22,380 --> 00:06:24,540
to explain to me because it understood

147
00:06:24,540 --> 00:06:26,820
that I'm pretty much,
I know what I'm doing

148
00:06:26,820 --> 00:06:28,770
so I don't have to generate extra code.

149
00:06:30,630 --> 00:06:31,863
When do we use this?

150
00:06:32,970 --> 00:06:35,700
This is what, our best
practice for this kind

151
00:06:35,700 --> 00:06:38,804
of work is when you
have a very simple task,

152
00:06:38,804 --> 00:06:40,770
use zero shot, just ask a question.

153
00:06:40,770 --> 00:06:43,470
But when you have more complex task

154
00:06:43,470 --> 00:06:45,660
and that needs to follow
more of a specific pattern,

155
00:06:45,660 --> 00:06:46,860
like we'll see further on,

156
00:06:46,860 --> 00:06:49,179
use few shot prompting in order

157
00:06:49,179 --> 00:06:51,300
to provide more context

158
00:06:51,300 --> 00:06:54,150
to give you more something
which is more relevant to you.

159
00:06:57,090 --> 00:07:00,390
Another way we use this as
well is something which we call

160
00:07:00,390 --> 00:07:01,670
providing more information to the LLM,

161
00:07:01,670 --> 00:07:03,867
is what we call when you
start prompting to an LLM,

162
00:07:03,867 --> 00:07:07,320
you use the system prompt,
a contextual prompt,

163
00:07:07,320 --> 00:07:10,020
or a role prompting, and
how does that actually look?

164
00:07:10,020 --> 00:07:11,720
So let's have a look at that here.

165
00:07:17,282 --> 00:07:19,980
A system prompt again is a question.

166
00:07:19,980 --> 00:07:22,890
In this case I ask the LLM to
create an EC2 script for me

167
00:07:22,890 --> 00:07:25,950
with a specific tag and give
it to me as a batch function.

168
00:07:25,950 --> 00:07:27,960
So LLM will go and start thinking,

169
00:07:27,960 --> 00:07:29,910
create pretty much what
I asked for it to do,

170
00:07:29,910 --> 00:07:32,531
a batch function with everything inside.

171
00:07:32,531 --> 00:07:34,650
And this is fine, this will work.

172
00:07:34,650 --> 00:07:37,530
You can run the batch, this batch function

173
00:07:37,530 --> 00:07:39,818
or this batch script and it will,

174
00:07:39,818 --> 00:07:41,550
and we'll start querying
all your EC2 instances

175
00:07:41,550 --> 00:07:43,500
with the specific tag.

176
00:07:43,500 --> 00:07:48,500
But I can provide also in
this case some context.

177
00:07:51,390 --> 00:07:54,180
And in this case I'm
giving the LLM as part

178
00:07:54,180 --> 00:07:56,370
of the same question, more
context of how I would

179
00:07:56,370 --> 00:07:58,170
like to think.

180
00:07:58,170 --> 00:08:01,560
In this case I'm saying IRT
managers multiple instances

181
00:08:01,560 --> 00:08:04,417
across multiple accounts and we give

182
00:08:04,417 --> 00:08:06,285
and the way we organize our project.

183
00:08:06,285 --> 00:08:07,830
So I would like you to create a script

184
00:08:07,830 --> 00:08:09,870
that will also be suitable for this.

185
00:08:09,870 --> 00:08:11,010
I could have given that same prompt,

186
00:08:11,010 --> 00:08:13,530
but when we use this
actual context prompt,

187
00:08:13,530 --> 00:08:15,780
we start giving the LLM more information

188
00:08:15,780 --> 00:08:17,490
about how we would like to work

189
00:08:17,490 --> 00:08:19,140
and it'll create the best script for me

190
00:08:19,140 --> 00:08:21,240
with the examples and whatever else it is.

191
00:08:22,620 --> 00:08:25,680
And so this will currently go through

192
00:08:25,680 --> 00:08:28,080
and print them out screen by screen.

193
00:08:28,080 --> 00:08:30,090
The last one we have is role prompting.

194
00:08:30,090 --> 00:08:32,340
Role prompting is okay,
it's pretty much the same

195
00:08:33,607 --> 00:08:36,438
as what we call context prompt.

196
00:08:36,438 --> 00:08:39,493
But in this case we say, okay, you are A.

197
00:08:39,493 --> 00:08:41,253
A lot of people use this.

198
00:08:41,253 --> 00:08:43,500
And when you start prompting
for, you are a specialist

199
00:08:43,500 --> 00:08:48,000
in nuclear technology, please
create something for me,

200
00:08:48,000 --> 00:08:49,980
or you are a radiologist that knows how

201
00:08:49,980 --> 00:08:53,490
to diagnose different MRI things.

202
00:08:53,490 --> 00:08:55,050
So you give the LLM

203
00:08:55,050 --> 00:08:56,850
which you're working
with different context.

204
00:08:56,850 --> 00:08:58,883
And in this case I'm asking you are an AWS

205
00:08:58,883 --> 00:09:01,680
senior solutions architect
or solutions architect

206
00:09:01,680 --> 00:09:03,360
and you manage infrastructure

207
00:09:03,360 --> 00:09:04,800
and start creating a script for me.

208
00:09:04,800 --> 00:09:07,320
So in this case, probably
the script will be very,

209
00:09:07,320 --> 00:09:08,790
very similar to the first one,

210
00:09:08,790 --> 00:09:10,230
but there might be extra nuances

211
00:09:10,230 --> 00:09:12,780
because it has already some
kind of idea of what kind

212
00:09:12,780 --> 00:09:14,400
of information you're looking for

213
00:09:14,400 --> 00:09:16,860
and perhaps how to cater
that information directly

214
00:09:16,860 --> 00:09:18,693
for the person for you.

215
00:09:21,390 --> 00:09:22,503
Any questions so far?

216
00:09:24,450 --> 00:09:25,680
No question? No question?

217
00:09:25,680 --> 00:09:26,513
Perfect.

218
00:09:26,513 --> 00:09:27,346
Okay.

219
00:09:29,550 --> 00:09:30,383
The best practice that we have

220
00:09:30,383 --> 00:09:32,430
for this is of course is to use this,

221
00:09:32,430 --> 00:09:34,035
is to combine these techniques

222
00:09:34,035 --> 00:09:36,940
when you're talking about complex tasks,

223
00:09:36,940 --> 00:09:39,900
start with the context,
then define the role

224
00:09:39,900 --> 00:09:42,720
and then specify the task and
the desired output format.

225
00:09:42,720 --> 00:09:44,610
In other words, be as specific

226
00:09:44,610 --> 00:09:46,830
as you can when interacting with some kind

227
00:09:46,830 --> 00:09:48,930
of coding assistance so you
can get the most benefit out

228
00:09:48,930 --> 00:09:50,180
from these tools as well.

229
00:09:52,260 --> 00:09:54,814
The next thing I would like
to show you is something which

230
00:09:54,814 --> 00:09:57,939
we call self-consistency prompting.

231
00:09:57,939 --> 00:10:01,680
This is a powerful technique
that improves Kiro CLI,

232
00:10:01,680 --> 00:10:03,930
or in this case, in our
case, some kind of reasoning

233
00:10:03,930 --> 00:10:07,470
by generating multiple
different independent scenarios

234
00:10:07,470 --> 00:10:09,930
or solutions to the same
question and same problem

235
00:10:09,930 --> 00:10:12,273
and asking you to select
that same behavior.

236
00:10:13,110 --> 00:10:14,710
Let's have a look at an example.

237
00:10:17,812 --> 00:10:18,963
Self consistency.

238
00:10:20,820 --> 00:10:22,680
I ask you a question, I need to design

239
00:10:22,680 --> 00:10:25,260
a complex architecture for multi-region,

240
00:10:25,260 --> 00:10:26,850
highly available applications.

241
00:10:26,850 --> 00:10:29,430
I would like it to explore
three different approaches

242
00:10:29,430 --> 00:10:31,650
to this problem, and these are the factors

243
00:10:31,650 --> 00:10:32,790
it has to take into account,

244
00:10:32,790 --> 00:10:35,550
in this case cost, operational
complexity, latency,

245
00:10:35,550 --> 00:10:38,850
and after it's considered
these three different options

246
00:10:38,850 --> 00:10:41,970
to select one of those and
give me a recommendation.

247
00:10:41,970 --> 00:10:45,600
So assuming this works and
we'll see if it does it or not

248
00:10:45,600 --> 00:10:48,090
because it had some problems
before, it'll start going

249
00:10:48,090 --> 00:10:50,730
through the scenario, okay,
you want to build something,

250
00:10:50,730 --> 00:10:52,143
an active, there's three
different ways of doing it.

251
00:10:52,143 --> 00:10:54,660
Active-active, active-passive,

252
00:10:54,660 --> 00:10:57,660
and active with read replicas.

253
00:10:57,660 --> 00:10:59,730
And it's asking me to give more details.

254
00:10:59,730 --> 00:11:00,630
I could of course get,

255
00:11:00,630 --> 00:11:04,560
I want this as a frontend
application, whatever else it is.

256
00:11:04,560 --> 00:11:06,060
In this case I'm just gonna say there

257
00:11:06,060 --> 00:11:07,623
are no more details, go.

258
00:11:10,920 --> 00:11:13,230
It'll start building whatever
application it decides.

259
00:11:13,230 --> 00:11:15,273
But now it'll start going through the 3D.

260
00:11:15,273 --> 00:11:18,060
There's three different
multi-region deployments,

261
00:11:18,060 --> 00:11:19,050
three ways of doing it.

262
00:11:19,050 --> 00:11:21,690
Active-active, active
with a global database,

263
00:11:21,690 --> 00:11:23,910
active-active with the
primary rights balanced,

264
00:11:23,910 --> 00:11:26,580
and it'll give me, these
are your recommendations.

265
00:11:26,580 --> 00:11:30,600
The way we use this enables
us, the way that works

266
00:11:30,600 --> 00:11:32,790
is because the technique
encourages the LLM,

267
00:11:32,790 --> 00:11:34,080
in this case, Kiro,

268
00:11:34,080 --> 00:11:37,840
to generate diverse reasoning
paths for the same problem

269
00:11:38,980 --> 00:11:42,325
by exploring multiple perspectives.

270
00:11:42,325 --> 00:11:45,273
Kiro, in this case, can
identify more of our solutions.

271
00:11:46,140 --> 00:11:47,880
And the final answer that we get from it,

272
00:11:47,880 --> 00:11:49,200
because I asked you to choose one

273
00:11:49,200 --> 00:11:51,270
of the three out whatever it is

274
00:11:51,270 --> 00:11:53,640
will probably more consistent based on

275
00:11:53,640 --> 00:11:56,340
if I do this more than multiple times>

276
00:11:56,340 --> 00:11:58,500
When do we use the self-consistency model,

277
00:11:58,500 --> 00:12:00,540
when we have complex
architecture decisions

278
00:12:00,540 --> 00:12:03,419
or problems we're trying
to solve troubleshooting

279
00:12:03,419 --> 00:12:07,200
with difficult root causes,
some kind of security analysis,

280
00:12:07,200 --> 00:12:10,380
and of course where we have
like performance optimizations,

281
00:12:10,380 --> 00:12:12,480
we'll see that example
in a second that need

282
00:12:12,480 --> 00:12:16,440
to be considered when we think
very, very specifically how,

283
00:12:16,440 --> 00:12:21,330
what the options are and how
we have to address the problem.

284
00:12:21,330 --> 00:12:25,350
And the best practice here is
of course always ask the LLM

285
00:12:25,350 --> 00:12:27,660
to generate more than one answer

286
00:12:27,660 --> 00:12:28,980
so it can give you more options.

287
00:12:28,980 --> 00:12:30,810
Firstly, because you don't
have to always trust,

288
00:12:30,810 --> 00:12:33,060
you will start thinking for itself

289
00:12:33,060 --> 00:12:34,440
and provide you multiple solutions

290
00:12:34,440 --> 00:12:36,120
and ask it to choose out of the three.

291
00:12:36,120 --> 00:12:37,230
Giving things more options,

292
00:12:37,230 --> 00:12:40,180
more than one option will be
very, very beneficial for you.

293
00:12:46,200 --> 00:12:48,330
Another way we use this as
part of self consistency

294
00:12:48,330 --> 00:12:49,770
is what we call a tree of thought,

295
00:12:49,770 --> 00:12:51,951
also for solving problems.

296
00:12:51,951 --> 00:12:56,951
So a tree of thought is essentially

297
00:12:57,210 --> 00:12:59,490
asking the LLM to solve a problem for me

298
00:12:59,490 --> 00:13:02,310
by giving it explicit directions
how I wanted it solved.

299
00:13:02,310 --> 00:13:05,670
In this case, I wanted
to consider in this case

300
00:13:05,670 --> 00:13:07,500
three possible bottlenecks for my problem,

301
00:13:07,500 --> 00:13:09,540
which are cold starts, memory constraints,

302
00:13:09,540 --> 00:13:11,160
and external API calls.

303
00:13:11,160 --> 00:13:12,666
For each of those bottlenecks,

304
00:13:12,666 --> 00:13:15,510
give me three different possible solutions

305
00:13:15,510 --> 00:13:18,450
and for each of those solutions,
evaluate the pros and cons.

306
00:13:18,450 --> 00:13:21,030
I'm going from, I have a lambda problem,

307
00:13:21,030 --> 00:13:23,910
these could be my different
issues which I'm trying to,

308
00:13:23,910 --> 00:13:25,620
these what I think could be the problem.

309
00:13:25,620 --> 00:13:28,410
For each of them, start
looking at different options,

310
00:13:28,410 --> 00:13:29,340
how I would solve them.

311
00:13:29,340 --> 00:13:31,920
And in the end, bring this all together

312
00:13:31,920 --> 00:13:33,970
to give me some kind of a recommendation.

313
00:13:35,010 --> 00:13:39,520
So when doing this, of course
it allows Kiro to start

314
00:13:40,412 --> 00:13:42,810
working and trying to
actually solve a very,

315
00:13:42,810 --> 00:13:43,683
very big problem.

316
00:13:44,730 --> 00:13:47,850
You define a structured
exploration with multiple branches.

317
00:13:47,850 --> 00:13:50,130
Each of the branch who
represents a different aspect

318
00:13:50,130 --> 00:13:52,050
or approach to the problem.

319
00:13:52,050 --> 00:13:54,660
And Kiro explores each of these branches

320
00:13:54,660 --> 00:13:58,051
and eventually it comes out
with some kind of recommendation

321
00:13:58,051 --> 00:14:00,774
to identify an optimal solution.

322
00:14:00,774 --> 00:14:03,630
When do we use this again
with complex problems,

323
00:14:03,630 --> 00:14:05,820
with multiple variables, and of course,

324
00:14:05,820 --> 00:14:08,700
decision making with numerous
interactions and factors

325
00:14:08,700 --> 00:14:11,400
which we have to take into account.

326
00:14:11,400 --> 00:14:14,430
And the best practice
here for tree of thought

327
00:14:14,430 --> 00:14:16,770
is of course you have
to structure your prompt

328
00:14:16,770 --> 00:14:19,980
with very clear branches
and evaluation criteria.

329
00:14:19,980 --> 00:14:21,660
You say, okay, just do a tree of thought

330
00:14:21,660 --> 00:14:23,430
and figure it out for
me, it won't really help.

331
00:14:23,430 --> 00:14:25,680
You have to give it
very direct instructions

332
00:14:25,680 --> 00:14:27,090
how you want this to work,

333
00:14:27,090 --> 00:14:30,450
and it will give you a much
more comprehensive analysis.

334
00:14:30,450 --> 00:14:32,469
And you can actually combine the two.

335
00:14:32,469 --> 00:14:37,383
So you can combine tree of
thought and self consistency.

336
00:14:39,480 --> 00:14:41,280
In this case it's even more complex.

337
00:14:41,280 --> 00:14:43,620
I want to design a
disaster recovery solution,

338
00:14:43,620 --> 00:14:46,166
a tree of thought to explore
three different ways for each

339
00:14:46,166 --> 00:14:47,371
of those to start analysis.

340
00:14:47,371 --> 00:14:49,620
So in other words, we are
combining in even more

341
00:14:49,620 --> 00:14:51,422
of a complex way, but we
are doing, letting all,

342
00:14:51,422 --> 00:14:54,780
what we love to call the
undifferentiated heavy lifting

343
00:14:54,780 --> 00:14:57,750
is over to the LLM and it
provides me with an option

344
00:14:57,750 --> 00:14:59,160
or a solution.

345
00:14:59,160 --> 00:15:03,750
So here it goes to the different
options as you can see.

346
00:15:03,750 --> 00:15:05,414
And the way we use this, of course,

347
00:15:05,414 --> 00:15:07,384
is designing multiple when we use

348
00:15:07,384 --> 00:15:09,840
for mission critical system design

349
00:15:09,840 --> 00:15:13,470
or we have architectural
decisions that we have to take

350
00:15:13,470 --> 00:15:16,708
and we know that they have high risks

351
00:15:16,708 --> 00:15:18,540
on one way or the other.

352
00:15:18,540 --> 00:15:20,370
So at least we can get the information.

353
00:15:20,370 --> 00:15:22,890
And from here it starts
giving me an implementation

354
00:15:22,890 --> 00:15:25,470
and gives me the different
kind of approach.

355
00:15:25,470 --> 00:15:26,580
Before the last time I did this,

356
00:15:26,580 --> 00:15:29,970
it actually gave me a matrix,
but now I see it doesn't.

357
00:15:29,970 --> 00:15:31,803
So that's the wonderful thing about LLMs.

358
00:15:31,803 --> 00:15:33,240
It's not consistent.

359
00:15:33,240 --> 00:15:35,734
But still when combining these techniques,

360
00:15:35,734 --> 00:15:38,771
be very explicit against how you want Kiro

361
00:15:38,771 --> 00:15:42,030
to follow this kind of trail of thought,

362
00:15:42,030 --> 00:15:44,070
providing clear guidance
in how you want to organize

363
00:15:44,070 --> 00:15:44,903
the explorations.

364
00:15:44,903 --> 00:15:48,540
And although this will give you
a full, a full clear picture

365
00:15:48,540 --> 00:15:49,943
of what you would like to get.

366
00:15:52,590 --> 00:15:54,720
Expanding these tools with context.

367
00:15:54,720 --> 00:15:55,770
So we've been talking about,

368
00:15:55,770 --> 00:15:57,300
I've been talking about
context a lot over here.

369
00:15:57,300 --> 00:15:59,512
The more information you provide,

370
00:15:59,512 --> 00:16:02,010
the more, the better answers you'll get.

371
00:16:02,010 --> 00:16:03,750
And of course with Kiro for example,

372
00:16:03,750 --> 00:16:06,360
almost in every other
tool you can add context.

373
00:16:06,360 --> 00:16:09,570
So in my case I'm going to,
in Amazon we have a kind

374
00:16:09,570 --> 00:16:14,570
of peculiar way of writing stuff.

375
00:16:15,630 --> 00:16:17,310
Okay, we have a writing style internally,

376
00:16:17,310 --> 00:16:20,700
and in my case of course,
and it'll be the same thing.

377
00:16:20,700 --> 00:16:22,800
Usually these things have
been documented up the wazoo

378
00:16:22,800 --> 00:16:24,540
and everything is working correctly

379
00:16:24,540 --> 00:16:26,610
and you have a knowledge
base of how that works.

380
00:16:26,610 --> 00:16:31,530
So if you add that into your
LLM, you can use that as part

381
00:16:31,530 --> 00:16:34,230
of the way you can use it to help you.

382
00:16:34,230 --> 00:16:37,260
So in this case, I've added
the way we write narratives,

383
00:16:37,260 --> 00:16:41,190
one pagers, six pagers,
PR, FAQs into the context.

384
00:16:41,190 --> 00:16:46,140
And I'm going to ask Kiro
to write me a narrative.

385
00:16:46,140 --> 00:16:48,609
And of course this is not a real product,

386
00:16:48,609 --> 00:16:51,000
so please don't shoot the
messenger, whatever it is.

387
00:16:51,000 --> 00:16:53,430
But I would like to start
how it helps tadpoles

388
00:16:53,430 --> 00:16:54,930
to grow into frogs.

389
00:16:54,930 --> 00:16:57,240
But because I've already
loaded all the context

390
00:16:57,240 --> 00:16:58,740
and the way we write documents,

391
00:16:58,740 --> 00:17:00,660
it knows exactly how to structure it.

392
00:17:00,660 --> 00:17:03,030
It knows exactly what
questions to ask me in order

393
00:17:03,030 --> 00:17:07,298
to help me fill in the
way to make more clear

394
00:17:07,298 --> 00:17:09,946
and concise and comprehensive document

395
00:17:09,946 --> 00:17:11,820
which I need in order to help me.

396
00:17:11,820 --> 00:17:15,030
So in this case, the success
metrics I need to add in

397
00:17:15,030 --> 00:17:16,980
and there is recommendations

398
00:17:16,980 --> 00:17:18,840
and the market opportunity,
everything we know

399
00:17:18,840 --> 00:17:20,760
how we usually write a document.

400
00:17:20,760 --> 00:17:22,532
But using these kind of tools in order

401
00:17:22,532 --> 00:17:24,270
to help you do these kind of,

402
00:17:24,270 --> 00:17:25,710
to write these documents makes things

403
00:17:25,710 --> 00:17:26,943
a lot, lot easier.

404
00:17:28,740 --> 00:17:30,150
The last thing I would like to share just

405
00:17:30,150 --> 00:17:33,000
before I hand it over to
James is one more technique

406
00:17:33,000 --> 00:17:35,950
which we use, which we call
explore, plan, code and commit.

407
00:17:38,190 --> 00:17:39,063
So.

408
00:17:44,250 --> 00:17:45,840
One thing which LLMs are very, very good

409
00:17:45,840 --> 00:17:47,160
is their understanding
what you've written.

410
00:17:47,160 --> 00:17:48,990
So you can provide it the code

411
00:17:48,990 --> 00:17:50,700
and in this case tell it to,

412
00:17:50,700 --> 00:17:52,470
I've got a code base
over here, in this case,

413
00:17:52,470 --> 00:17:56,370
three different JavaScript
files where I've written codes,

414
00:17:56,370 --> 00:17:57,203
what my code is.

415
00:17:57,203 --> 00:17:59,760
And you can do this on large
code bases if you would like.

416
00:17:59,760 --> 00:18:01,140
And it'll start reading all the documents

417
00:18:01,140 --> 00:18:03,390
and understand all the
different dependencies.

418
00:18:03,390 --> 00:18:05,730
And I remember James
showed me a an example

419
00:18:05,730 --> 00:18:08,670
of how you can do this to
create all the documentation

420
00:18:08,670 --> 00:18:10,437
and the diagrams and
the flows and the APIs

421
00:18:10,437 --> 00:18:12,690
and you might even show that later on.

422
00:18:12,690 --> 00:18:14,130
So in this case,

423
00:18:14,130 --> 00:18:16,170
I've got three different
files over here which does

424
00:18:16,170 --> 00:18:20,520
a authentication mechanism
for some application.

425
00:18:20,520 --> 00:18:24,753
So the LLM now understands
what I have in my code base.

426
00:18:25,620 --> 00:18:28,410
I can ask, as we said, the
first one was to explore,

427
00:18:28,410 --> 00:18:32,100
then I would like it to
plan based on what you've

428
00:18:32,100 --> 00:18:33,990
already understood from my code base,

429
00:18:33,990 --> 00:18:37,233
please implement a password reset feature.

430
00:18:38,220 --> 00:18:41,040
So again, the style is already there.

431
00:18:41,040 --> 00:18:44,970
The way I write my code
in the same kind of style

432
00:18:44,970 --> 00:18:46,050
as well is also over there.

433
00:18:46,050 --> 00:18:51,050
So I can go in to see, and I
gave you some more instructions

434
00:18:51,450 --> 00:18:52,920
to take in security considerations,

435
00:18:52,920 --> 00:18:55,290
that has to be robust,
et cetera, et cetera.

436
00:18:55,290 --> 00:18:56,910
And it gives me a plan of how I'm going

437
00:18:56,910 --> 00:18:58,210
to implement this feature.

438
00:18:59,130 --> 00:19:03,570
And then of course, we plan,
plan, sorry, explore, plan.

439
00:19:03,570 --> 00:19:05,670
I'm going to ask it to
now create the code for me

440
00:19:05,670 --> 00:19:07,200
because it already has,

441
00:19:07,200 --> 00:19:08,880
and of course I can iterate on this plan

442
00:19:08,880 --> 00:19:10,320
and make it more robust

443
00:19:10,320 --> 00:19:13,110
to add in more information
according to what I would like.

444
00:19:13,110 --> 00:19:15,720
But based on what it already
knows in this specific example,

445
00:19:15,720 --> 00:19:17,820
I'm going to ask it to
try write the code for me

446
00:19:17,820 --> 00:19:19,320
and make the changes.

447
00:19:19,320 --> 00:19:23,100
So this is a way which
we use this mechanism

448
00:19:23,100 --> 00:19:26,250
of what we say, explain, explore, plan,

449
00:19:26,250 --> 00:19:29,700
explore, plan, code, which
is generating the code

450
00:19:29,700 --> 00:19:31,980
in this case and it'll
be already over here

451
00:19:31,980 --> 00:19:32,813
at computer function.

452
00:19:32,813 --> 00:19:34,260
And of course commit, we can also use.

453
00:19:34,260 --> 00:19:37,322
In this case, I can ask
it to commit the code

454
00:19:37,322 --> 00:19:38,790
for me if I would like,

455
00:19:38,790 --> 00:19:43,110
but in this case I'm not
connected to a production system.

456
00:19:43,110 --> 00:19:47,446
So I'm just gonna ask it
to use my internal style

457
00:19:47,446 --> 00:19:49,249
that I have of the way we write code,

458
00:19:49,249 --> 00:19:51,342
commit messages with the best practices,

459
00:19:51,342 --> 00:19:54,150
links to whatever documentation to it is.

460
00:19:54,150 --> 00:19:56,490
And I could also say, also
commit and submit the PR

461
00:19:56,490 --> 00:19:59,190
if I would like to, but it's
not connected to a repository.

462
00:19:59,190 --> 00:20:01,110
But here in this case there's no changes.

463
00:20:01,110 --> 00:20:04,950
But in other words, this
would be the implementation,

464
00:20:04,950 --> 00:20:08,370
this would be how you would do
it, and et cetera, et cetera.

465
00:20:08,370 --> 00:20:10,230
These are some of the
techniques which we actually use

466
00:20:10,230 --> 00:20:12,180
internally every day, all day.

467
00:20:12,180 --> 00:20:14,730
And the good thing is we've
codified a lot of it as well.

468
00:20:14,730 --> 00:20:18,180
And in the repository, which
we have shared in the beginning

469
00:20:18,180 --> 00:20:20,010
of the session, and if you
want at the end of the session,

470
00:20:20,010 --> 00:20:22,740
and didn't take this QR
code, we'll put it up again.

471
00:20:22,740 --> 00:20:24,510
Or actually, you know what,
I'll actually put it up now.

472
00:20:24,510 --> 00:20:25,380
Easier.

473
00:20:25,380 --> 00:20:28,789
Whoever hasn't taken a picture
of the QR code can use it.

474
00:20:28,789 --> 00:20:31,110
Now the actual code that
I just with all explaining

475
00:20:31,110 --> 00:20:34,020
all of these examples
today is up there as part

476
00:20:34,020 --> 00:20:35,790
of the the open source that
you can actually use it

477
00:20:35,790 --> 00:20:37,950
and see how you can of course
implement it internally

478
00:20:37,950 --> 00:20:41,430
in your organization or
expand on it and add whatever

479
00:20:41,430 --> 00:20:42,810
kind of best practice that you have

480
00:20:42,810 --> 00:20:44,790
that you have learned from your things.

481
00:20:44,790 --> 00:20:47,130
And with that, I'm gonna
hand it over to James

482
00:20:47,130 --> 00:20:52,130
to talk to us a little
about Strands, Agent SOPs.

483
00:20:54,150 --> 00:20:55,600
- [James] Alright, thank you.

484
00:20:57,510 --> 00:20:58,960
Do you mind me grabbing this?

485
00:21:00,030 --> 00:21:02,070
All right, for those of
you who came in late,

486
00:21:02,070 --> 00:21:05,610
my name's James Hood, I'm a
principal engineer at Amazon.

487
00:21:05,610 --> 00:21:07,110
I've been with the company 16 years,

488
00:21:07,110 --> 00:21:09,000
most of that time in AWS.

489
00:21:09,000 --> 00:21:12,269
I spent about five years in
retail fulfillment software

490
00:21:12,269 --> 00:21:14,010
in the middle there.

491
00:21:14,010 --> 00:21:18,417
And I am also a former AI skeptic.

492
00:21:18,417 --> 00:21:21,054
My previous experience with AI

493
00:21:21,054 --> 00:21:23,700
before this year was trying out a bunch

494
00:21:23,700 --> 00:21:28,410
of flashy demos on real world
code and watching it crash

495
00:21:28,410 --> 00:21:33,410
and burn and feeling very
skeptical and not very satisfied.

496
00:21:33,990 --> 00:21:38,460
That changed for me this
year early in February

497
00:21:38,460 --> 00:21:40,650
where I realized that
some of these techniques

498
00:21:40,650 --> 00:21:44,100
that Maish was talking about,
it's really the combination

499
00:21:44,100 --> 00:21:48,240
of the tools, you know,
reasoning models got better,

500
00:21:48,240 --> 00:21:50,790
MCP became much more popular.

501
00:21:50,790 --> 00:21:53,760
And then, but my big AHA moment

502
00:21:53,760 --> 00:21:56,040
was around the techniques that we use.

503
00:21:56,040 --> 00:21:57,527
So today I'm gonna spend,

504
00:21:57,527 --> 00:22:01,886
I have a very ambitious code talk for you.

505
00:22:01,886 --> 00:22:04,262
I'm gonna talk to you about Agent SOP,

506
00:22:04,262 --> 00:22:07,560
which stands for Agent
Standard Operating Procedures.

507
00:22:07,560 --> 00:22:09,750
And this is something we just open sourced

508
00:22:09,750 --> 00:22:11,220
less than two weeks ago.

509
00:22:11,220 --> 00:22:13,830
It's something that was actually
an innovation internally

510
00:22:13,830 --> 00:22:15,540
by our builder community.

511
00:22:15,540 --> 00:22:18,870
And I'm gonna show you
why they're so cool.

512
00:22:18,870 --> 00:22:21,030
They're a deceptively simple concept

513
00:22:21,030 --> 00:22:24,690
that is incredibly
powerful when you use them.

514
00:22:24,690 --> 00:22:26,190
Maish was just showing you a lot

515
00:22:26,190 --> 00:22:29,700
of great prompt engineering
techniques and to use these LLMs

516
00:22:29,700 --> 00:22:30,870
and be successful with them,

517
00:22:30,870 --> 00:22:33,600
prompt engineering is an
important skill to have.

518
00:22:33,600 --> 00:22:36,000
However, did you notice he was copying

519
00:22:36,000 --> 00:22:37,920
and pasting a lot of prompts, right?

520
00:22:37,920 --> 00:22:40,170
Earlier this year that was
happening around Amazon,

521
00:22:40,170 --> 00:22:41,700
people copying and pasting these kind

522
00:22:41,700 --> 00:22:43,890
of magic incantations,

523
00:22:43,890 --> 00:22:47,430
and we decided there had
to be something better.

524
00:22:47,430 --> 00:22:50,700
And that's what Agent SOPs,
that's where they came from.

525
00:22:50,700 --> 00:22:53,460
So SOP stands for Standard
Operating Procedure.

526
00:22:53,460 --> 00:22:55,530
A standard operating
procedure is a document

527
00:22:55,530 --> 00:22:58,710
that gives a detailed step,
step-by-step list of how

528
00:22:58,710 --> 00:23:01,056
to accomplish some routine task.

529
00:23:01,056 --> 00:23:04,230
So I'm going to start out with,

530
00:23:04,230 --> 00:23:06,969
I actually have the Agent SOP,

531
00:23:06,969 --> 00:23:08,670
lemme see if this is the right window.

532
00:23:08,670 --> 00:23:09,503
Nope.

533
00:23:10,590 --> 00:23:15,122
All right, so I'm in the
Agent SOP directory right now

534
00:23:15,122 --> 00:23:19,890
and I have the, as part of
this open source offering,

535
00:23:19,890 --> 00:23:23,700
we released the
strands-agent's SOP MCP server.

536
00:23:23,700 --> 00:23:27,270
And this MCP server includes
some prompts by default.

537
00:23:27,270 --> 00:23:30,393
And one of these prompts is
called code-based summary.

538
00:23:31,560 --> 00:23:33,260
And I'm gonna go ahead and run it.

539
00:23:34,470 --> 00:23:38,010
What this does, this is an
MCP prompt, and Agent SOPs

540
00:23:38,010 --> 00:23:42,333
you can think of as kind of
a super prompt for an agent.

541
00:23:44,280 --> 00:23:45,330
I'll get this one started

542
00:23:45,330 --> 00:23:46,650
and then I'll break it down for you.

543
00:23:46,650 --> 00:23:51,650
So this one is going to help
me summarize my code base.

544
00:23:52,770 --> 00:23:54,810
Code base path is a required parameter

545
00:23:54,810 --> 00:23:56,700
and it set all default
to my current directory,

546
00:23:56,700 --> 00:23:57,870
which is what I want.

547
00:23:57,870 --> 00:24:00,300
I also want to consolidate it

548
00:24:00,300 --> 00:24:04,260
or I want to generate a consolidated file.

549
00:24:04,260 --> 00:24:06,870
And the default is agents.md.

550
00:24:06,870 --> 00:24:08,943
So I'm just gonna say consolidated true.

551
00:24:10,290 --> 00:24:13,200
Okay, and then it's gonna get going.

552
00:24:13,200 --> 00:24:15,630
Alright, so now let's take a closer look

553
00:24:15,630 --> 00:24:19,080
at this code base summary.

554
00:24:19,080 --> 00:24:21,483
This is the Agent SOP repository.

555
00:24:22,560 --> 00:24:27,112
And if I pull up the actual
code base summary, SOP,

556
00:24:27,112 --> 00:24:30,180
what you'll see is it's
actually just marked down

557
00:24:30,180 --> 00:24:34,140
and it has a title, it has an
overview of what the SOP does.

558
00:24:34,140 --> 00:24:35,610
It says it analyzes a code base,

559
00:24:35,610 --> 00:24:38,010
generates comprehensive documentation.

560
00:24:38,010 --> 00:24:40,770
It does support this
parameter section with some

561
00:24:40,770 --> 00:24:42,900
of them optional and
some of them required,

562
00:24:42,900 --> 00:24:45,240
the optional ones having defaults.

563
00:24:45,240 --> 00:24:47,250
And then it's a list of steps.

564
00:24:47,250 --> 00:24:49,800
It just says step one, set
up and directory structure.

565
00:24:49,800 --> 00:24:51,630
So initialize the analysis environment

566
00:24:51,630 --> 00:24:54,210
and create necessary directory structure.

567
00:24:54,210 --> 00:24:55,590
But this is where the magic happens.

568
00:24:55,590 --> 00:24:57,840
So step one is set up
and directory structure.

569
00:24:57,840 --> 00:24:59,940
Step two is analyze code-based structure.

570
00:24:59,940 --> 00:25:02,580
Step three is generate documentation file.

571
00:25:02,580 --> 00:25:05,400
But what you'll notice is
that on each of these steps,

572
00:25:05,400 --> 00:25:08,640
not only does it give a
one-liner of what that step is,

573
00:25:08,640 --> 00:25:11,070
it has this list of constraints.

574
00:25:11,070 --> 00:25:15,090
And these constraints use
this RFC 2119 style keywords

575
00:25:15,090 --> 00:25:19,440
like must all in caps or
should or must not or may.

576
00:25:19,440 --> 00:25:22,380
And it constrains the
behavior of this step.

577
00:25:22,380 --> 00:25:25,680
It adds these constraints
saying you must validate

578
00:25:25,680 --> 00:25:28,320
that the code base path
exists and is accessible.

579
00:25:28,320 --> 00:25:31,260
You must create the output
directory if it doesn't exist.

580
00:25:31,260 --> 00:25:32,490
If we look further down,

581
00:25:32,490 --> 00:25:35,160
you can see here you
must use mermaid diagrams

582
00:25:35,160 --> 00:25:37,440
for all visual representations.

583
00:25:37,440 --> 00:25:41,018
So what these, what we've found, so again,

584
00:25:41,018 --> 00:25:46,018
Agent SOP, title, overview,
parameters, optionally,

585
00:25:46,110 --> 00:25:48,870
and then steps with constraints.

586
00:25:48,870 --> 00:25:52,410
Finally examples, because
LLMs work very well

587
00:25:52,410 --> 00:25:54,600
when you give them examples.

588
00:25:54,600 --> 00:25:57,660
And then troubleshooting steps as well.

589
00:25:57,660 --> 00:25:59,337
Let me, these are still examples.

590
00:25:59,337 --> 00:26:00,170
Yeah.

591
00:26:00,170 --> 00:26:01,879
And then troubleshooting steps.

592
00:26:01,879 --> 00:26:04,800
What we have found is that agents

593
00:26:04,800 --> 00:26:06,692
and models are extremely good

594
00:26:06,692 --> 00:26:09,090
at following these instructions.

595
00:26:09,090 --> 00:26:12,750
This took us from kind of models going off

596
00:26:12,750 --> 00:26:14,190
the rails all over the place.

597
00:26:14,190 --> 00:26:17,820
Like I could just prompt it
and say explore this code base

598
00:26:17,820 --> 00:26:19,467
and write up some documentation for me,

599
00:26:19,467 --> 00:26:21,240
and I could run that 20 times

600
00:26:21,240 --> 00:26:23,610
and get very differing results.

601
00:26:23,610 --> 00:26:27,660
But with this SOP
format, I've been talking

602
00:26:27,660 --> 00:26:29,130
and showing you this, in the meantime,

603
00:26:29,130 --> 00:26:30,660
it's been generating these files.

604
00:26:30,660 --> 00:26:35,550
So code base info, this gives
an overview of the code base,

605
00:26:35,550 --> 00:26:37,860
it gives a description,
gives the technology stack,

606
00:26:37,860 --> 00:26:40,590
it gives the project structure.

607
00:26:40,590 --> 00:26:43,860
And it will do this every
time, every time you run it,

608
00:26:43,860 --> 00:26:47,928
this document will contain these sections.

609
00:26:47,928 --> 00:26:51,600
There'll be some variance
in what it describes,

610
00:26:51,600 --> 00:26:54,270
but it'll have your code
base info, your architecture,

611
00:26:54,270 --> 00:26:56,730
which if you remember I said
to use mermaid diagrams.

612
00:26:56,730 --> 00:26:59,940
So it draws up these
mermaid diagrams of kind

613
00:26:59,940 --> 00:27:02,390
of the architectural
structure of this code base.

614
00:27:04,655 --> 00:27:05,850
And you can see that.

615
00:27:05,850 --> 00:27:07,234
It does components.

616
00:27:07,234 --> 00:27:09,990
Oh, it just added interfaces.

617
00:27:09,990 --> 00:27:12,390
So it's running and then it's gonna

618
00:27:12,390 --> 00:27:14,760
generate all of these summary files.

619
00:27:14,760 --> 00:27:17,910
And then from that, because
I said consolidate, true,

620
00:27:17,910 --> 00:27:21,180
it's going to generate a
consolidated agents.md file

621
00:27:21,180 --> 00:27:23,430
for my coding assistant
that is made up of all

622
00:27:23,430 --> 00:27:24,930
of this information that it found.

623
00:27:24,930 --> 00:27:27,750
So now my agent is gonna be ready to go.

624
00:27:27,750 --> 00:27:29,040
I'm a principal engineer.

625
00:27:29,040 --> 00:27:30,300
We have these principal tenets

626
00:27:30,300 --> 00:27:32,903
at Amazon like have resounding impact.

627
00:27:32,903 --> 00:27:35,190
One of them is called
technically fearless.

628
00:27:35,190 --> 00:27:37,830
And I can tell you that thanks to AI

629
00:27:37,830 --> 00:27:41,151
and these Agent SOPs, my level
of technical fearlessness

630
00:27:41,151 --> 00:27:44,370
has grown orders of magnitude this year

631
00:27:44,370 --> 00:27:45,930
because I can go into any code base

632
00:27:45,930 --> 00:27:49,080
and I can run this and
then my agent has it,

633
00:27:49,080 --> 00:27:50,280
I can read it, obviously,

634
00:27:50,280 --> 00:27:52,798
I can read what the code base is like,

635
00:27:52,798 --> 00:27:55,410
and then my agent is also
geared up at that point

636
00:27:55,410 --> 00:27:57,600
to then help me navigate that code base

637
00:27:57,600 --> 00:28:00,472
and even implement
features and changes in it.

638
00:28:00,472 --> 00:28:03,633
Maish showed you that context feature.

639
00:28:06,900 --> 00:28:08,820
Yeah, Maish had showed
you that context feature.

640
00:28:08,820 --> 00:28:09,810
I actually wrote that.

641
00:28:09,810 --> 00:28:12,720
I went from concept to PR in two days.

642
00:28:12,720 --> 00:28:15,810
It was in a code base that
I, I wasn't on that team,

643
00:28:15,810 --> 00:28:17,790
it was a code base that
I wasn't familiar with

644
00:28:17,790 --> 00:28:19,560
in a language that I didn't know.

645
00:28:19,560 --> 00:28:22,260
And it went from concept,

646
00:28:22,260 --> 00:28:23,880
I thought I was building
a proof of concept.

647
00:28:23,880 --> 00:28:26,370
It went concept to PR in two days

648
00:28:26,370 --> 00:28:29,640
and then concept to
production in seven days,

649
00:28:29,640 --> 00:28:30,810
which was wild.

650
00:28:30,810 --> 00:28:34,380
And that was kind of my
mind blowing Aha moment

651
00:28:34,380 --> 00:28:36,510
from earlier this year.

652
00:28:36,510 --> 00:28:40,590
Okay, so you may be
looking at this Agent SOP,

653
00:28:40,590 --> 00:28:45,180
and first off, like these,
we've made these four Agent SOPs

654
00:28:45,180 --> 00:28:48,240
available to use because they're really

655
00:28:48,240 --> 00:28:49,260
from internal Amazon.

656
00:28:49,260 --> 00:28:51,300
Like we actually use these internally.

657
00:28:51,300 --> 00:28:53,917
These are by far the most popular ones.

658
00:28:53,917 --> 00:28:56,853
Now looking at this
code-based summary, SOP,

659
00:28:57,870 --> 00:29:01,143
you may be thinking, boy, that
looks like a pain to write.

660
00:29:02,280 --> 00:29:04,650
It's very long and arduous

661
00:29:04,650 --> 00:29:07,620
and I don't recommend
you write 'em by hand.

662
00:29:07,620 --> 00:29:09,870
I write them with my AI agent.

663
00:29:09,870 --> 00:29:13,803
So what we've done is we've
created a steering file.

664
00:29:15,450 --> 00:29:17,160
And so we've created a rule,

665
00:29:17,160 --> 00:29:20,805
a steering file that defines
this SOP format for the agent.

666
00:29:20,805 --> 00:29:23,160
You don't need to worry
too much about this,

667
00:29:23,160 --> 00:29:26,913
but when you install the Agent SOPs,

668
00:29:28,560 --> 00:29:31,590
so we have this Strands Agent SOPs CLI,

669
00:29:31,590 --> 00:29:34,650
that you can use it to run the MCP server.

670
00:29:34,650 --> 00:29:38,250
You can use it to convert SOPs over

671
00:29:38,250 --> 00:29:41,670
to agent skills from Anthropic,

672
00:29:41,670 --> 00:29:42,630
if you've heard of those.

673
00:29:42,630 --> 00:29:44,370
And then there's this rule command as well

674
00:29:44,370 --> 00:29:47,100
where you can say rule and
then it outputs that rule.

675
00:29:47,100 --> 00:29:49,560
And there are instructions
in the README on how to put

676
00:29:49,560 --> 00:29:52,020
that into a cursor rule
if you like using cursor

677
00:29:52,020 --> 00:29:56,130
or put it into a Kiro steering file, or,

678
00:29:56,130 --> 00:29:58,260
the nice thing with Agent SOP is that

679
00:29:58,260 --> 00:29:59,880
it's even tool-agnostic.

680
00:29:59,880 --> 00:30:03,373
Any LLM, right, any AI
agent that can take an SOP

681
00:30:03,373 --> 00:30:05,190
can work with this.

682
00:30:05,190 --> 00:30:07,620
So I wanna show you
really quickly authoring

683
00:30:07,620 --> 00:30:09,993
what it looks like to author Agent SOP.

684
00:30:12,090 --> 00:30:16,260
So I'm going to add, I already copied

685
00:30:16,260 --> 00:30:19,440
that rule into my Kiro steering files.

686
00:30:19,440 --> 00:30:21,840
And so now you can see

687
00:30:21,840 --> 00:30:24,840
that this just pins this format file

688
00:30:24,840 --> 00:30:26,730
into the conversation context.

689
00:30:26,730 --> 00:30:30,210
So even if I run clear at this point,

690
00:30:30,210 --> 00:30:32,520
so I've cleared my conversation history,

691
00:30:32,520 --> 00:30:35,670
the context command makes
sure that this stays pinned.

692
00:30:35,670 --> 00:30:40,567
So I can say create an Agent SOP that,

693
00:30:40,567 --> 00:30:43,353
given a person's name,

694
00:30:44,425 --> 00:30:49,425
outputs a short, fun poem
incorporating their name.

695
00:30:54,900 --> 00:30:58,190
And then over here I'm gonna open up...

696
00:31:01,500 --> 00:31:05,400
So I've pre-configured
now that that MCP server

697
00:31:05,400 --> 00:31:07,830
can take an additional parameter

698
00:31:07,830 --> 00:31:10,920
where you can specify different
folders for it to look

699
00:31:10,920 --> 00:31:12,660
for SOPs in.

700
00:31:12,660 --> 00:31:15,882
And so I'm authoring this
into one of these SOPs.

701
00:31:15,882 --> 00:31:18,750
So now I have this like name poem, SOP.

702
00:31:18,750 --> 00:31:23,280
And so if I start up
another session of Kiro CLI

703
00:31:23,280 --> 00:31:26,493
with that MCP server loaded,
and then I check the prompts.

704
00:31:33,648 --> 00:31:36,450
All right, you'll see that now
my name poem prompt is here.

705
00:31:36,450 --> 00:31:39,033
So I can run my name poem prompt,

706
00:31:40,950 --> 00:31:42,840
and it'll say, okay, I
need the person's name,

707
00:31:42,840 --> 00:31:44,313
so I'll put my name.

708
00:31:50,280 --> 00:31:53,364
Oh wow, it's confirming the
spelling. You gotta love LLMs.

709
00:31:53,364 --> 00:31:54,197
(audience laughing)

710
00:31:54,197 --> 00:31:55,382
That's awesome.

711
00:31:55,382 --> 00:31:57,753
All right, so here's my poem.

712
00:31:58,710 --> 00:32:00,900
Okay, so create a poem.

713
00:32:00,900 --> 00:32:04,443
Now let's say, so we
can take a look at the,

714
00:32:06,000 --> 00:32:09,393
we can take a look at
what it generated, right?

715
00:32:11,190 --> 00:32:13,950
So it generated, it's
following the same format.

716
00:32:13,950 --> 00:32:16,338
This title overview parameter,

717
00:32:16,338 --> 00:32:19,167
person's name is required, right,

718
00:32:19,167 --> 00:32:21,981
and then it just has
these steps in an example.

719
00:32:21,981 --> 00:32:25,560
But let's say I wanna change
it, let's say I wanna say,

720
00:32:25,560 --> 00:32:30,093
update to include an
optional hometown param.

721
00:32:32,010 --> 00:32:36,213
And yeah, I'll just say
that. Let's see what happens.

722
00:32:39,180 --> 00:32:42,660
And then I'm gonna have
to reload this after.

723
00:32:42,660 --> 00:32:45,030
Okay, so it has the hometown,

724
00:32:45,030 --> 00:32:48,180
and then hopefully it'll know
I mean to incorporate it.

725
00:32:48,180 --> 00:32:50,680
Okay, should incorporate
the hometown if provided.

726
00:32:54,000 --> 00:32:55,590
So it's making those updates,

727
00:32:55,590 --> 00:32:58,980
because it knows the format,
it's making those updates

728
00:32:58,980 --> 00:33:00,420
to the constraints.

729
00:33:00,420 --> 00:33:01,890
So you can just chat back and forth.

730
00:33:01,890 --> 00:33:04,140
You can try out your SOP

731
00:33:04,140 --> 00:33:06,930
and then if you see it
behaving in kind of an odd way

732
00:33:06,930 --> 00:33:09,640
or a way that you don't
expect, you can go back

733
00:33:09,640 --> 00:33:10,980
to your authoring chat and
say, Hey, I want this to behave

734
00:33:10,980 --> 00:33:11,813
this different way.

735
00:33:11,813 --> 00:33:12,646
It's doing this right now.

736
00:33:12,646 --> 00:33:14,122
And it'll add constraints,

737
00:33:14,122 --> 00:33:18,090
which the model then mostly respects.

738
00:33:18,090 --> 00:33:20,970
Yeah, these are still agents

739
00:33:20,970 --> 00:33:24,570
and so I'm gonna say name, poem.

740
00:33:24,570 --> 00:33:26,910
Now you can pass in user input.

741
00:33:26,910 --> 00:33:30,030
I don't know, if you're
kind of eagle-eyed,

742
00:33:30,030 --> 00:33:33,510
you saw that this parameter is
actually called person_name.

743
00:33:33,510 --> 00:33:36,690
When I pass in the parameters,
I'm passing it to the LLM.

744
00:33:36,690 --> 00:33:38,523
So I don't have to be exact,

745
00:33:41,430 --> 00:33:44,853
I could put, I'm from
Tucson, Arizona originally,

746
00:33:46,590 --> 00:33:48,420
but I could have put, my name is James

747
00:33:48,420 --> 00:33:49,770
and I'm from Tucson, Arizona,

748
00:33:49,770 --> 00:33:52,710
and that could have been my
input and it will figure it out.

749
00:33:52,710 --> 00:33:54,021
Okay.

750
00:33:54,021 --> 00:33:55,710
So now I get a little poem
that talks about the desert

751
00:33:55,710 --> 00:33:58,200
and saguaros and stuff like that.

752
00:33:58,200 --> 00:33:59,730
Okay, alright.

753
00:33:59,730 --> 00:34:04,730
So I, as a former AI skeptic,

754
00:34:05,086 --> 00:34:07,440
cute stuff like this is fun,

755
00:34:07,440 --> 00:34:10,440
but I like real world stuff, right?

756
00:34:10,440 --> 00:34:12,360
That's what's most convincing to me.

757
00:34:12,360 --> 00:34:14,040
I just wanted to give you a simple example

758
00:34:14,040 --> 00:34:16,200
so you could understand the SOP format,

759
00:34:16,200 --> 00:34:18,130
but why don't we create another SOP

760
00:34:19,110 --> 00:34:23,790
that you might find slightly
more useful for your job?

761
00:34:23,790 --> 00:34:27,210
How about create an Agent SOP

762
00:34:27,210 --> 00:34:30,300
that triages GitHub issues

763
00:34:30,300 --> 00:34:32,523
for given repo URL?

764
00:34:34,080 --> 00:34:35,040
Let's try that.

765
00:34:35,040 --> 00:34:38,671
Now, keep in mind I have the
GitHub MCP server loaded up

766
00:34:38,671 --> 00:34:40,290
in my agent's context.

767
00:34:40,290 --> 00:34:42,750
So as it's authoring that SOP,

768
00:34:42,750 --> 00:34:44,820
it knows what tools are available to it,

769
00:34:44,820 --> 00:34:48,273
and it can, so that's, you
need to have the MCP servers

770
00:34:48,273 --> 00:34:52,383
that are relevant to what
you're trying to do in here.

771
00:34:55,290 --> 00:34:57,923
Anyone else wanna poem about
them while we're waiting?

772
00:34:59,730 --> 00:35:01,173
Any questions at this point?

773
00:35:04,680 --> 00:35:05,880
- [Attendee] I have one.

774
00:35:06,930 --> 00:35:08,330
- [James] Hand before yours.

775
00:35:09,636 --> 00:35:13,290
(attendee speaking faintly off mic)

776
00:35:13,290 --> 00:35:15,990
- [Attendee] You're
providing code to an LLM,

777
00:35:15,990 --> 00:35:18,390
how do you, what are your
recommendations for making sure

778
00:35:18,390 --> 00:35:21,270
that sensitive information
isn't included in them

779
00:35:21,270 --> 00:35:22,300
in the source code?

780
00:35:22,300 --> 00:35:23,730
- [James] Yeah, so the question was,

781
00:35:23,730 --> 00:35:24,563
when you're providing code

782
00:35:24,563 --> 00:35:26,310
to the LLM, how do you make sure

783
00:35:26,310 --> 00:35:29,700
that there isn't sensitive
information in the code

784
00:35:29,700 --> 00:35:31,830
that you provide in your prompt or-

785
00:35:31,830 --> 00:35:34,857
- [Attendee] Yeah, like what
would you consider information

786
00:35:34,857 --> 00:35:37,563
that you want to not
have provided to the LLM?

787
00:35:38,520 --> 00:35:40,157
Like obviously, you know,
usernames, passwords,

788
00:35:40,157 --> 00:35:43,980
things like that, but anything
else that you recommend?

789
00:35:43,980 --> 00:35:44,813
- [James] Yeah, yeah.

790
00:35:44,813 --> 00:35:46,500
So the question was, is there anything

791
00:35:46,500 --> 00:35:49,649
that you would be careful about
having provided to the LLM?

792
00:35:49,649 --> 00:35:54,360
I do have to say that internally
we use Amazon Bedrock,

793
00:35:54,360 --> 00:35:56,850
which essentially provides you this

794
00:35:56,850 --> 00:36:00,690
like account level privacy
and is not sending your,

795
00:36:00,690 --> 00:36:02,010
it's not sending your request

796
00:36:02,010 --> 00:36:05,031
to like third party model providers.

797
00:36:05,031 --> 00:36:08,670
So I would say internally
we're a little less,

798
00:36:08,670 --> 00:36:11,264
we worry a little bit less about that,

799
00:36:11,264 --> 00:36:14,820
about like sending that
kind of information.

800
00:36:14,820 --> 00:36:16,950
I still, just as an engineer,

801
00:36:16,950 --> 00:36:20,610
I don't have passwords or
credentials in source code.

802
00:36:20,610 --> 00:36:23,430
Like that's just a general security don't,

803
00:36:23,430 --> 00:36:27,000
so I don't generally,
like that's not gonna go

804
00:36:27,000 --> 00:36:29,924
to the large language
model because of that.

805
00:36:29,924 --> 00:36:32,430
- [Attendee] So would you
say it's heavily dependent

806
00:36:32,430 --> 00:36:34,383
on the LLM that you're using, right?

807
00:36:35,970 --> 00:36:40,970
- [James] Yeah, yeah, so
I'd say that, I guess,

808
00:36:41,490 --> 00:36:44,520
the main thing I would
say is with Amazon Bedrock

809
00:36:44,520 --> 00:36:47,460
it's much less of a worry because AWS

810
00:36:47,460 --> 00:36:49,800
is very concerned about
that privacy and about

811
00:36:49,800 --> 00:36:52,102
just like all of our AWS
services where you have

812
00:36:52,102 --> 00:36:56,610
to explicitly give permissions,
and IAM permissions

813
00:36:56,610 --> 00:37:00,750
for any of your, you know,
resources or data to be touched.

814
00:37:00,750 --> 00:37:04,533
So similarly, Bedrock
follows the same paradigm.

815
00:37:05,610 --> 00:37:06,780
- [Attendee] I think that's
important to point out,

816
00:37:06,780 --> 00:37:08,269
Bedrock guarantees that.

817
00:37:08,269 --> 00:37:09,210
- [James] Yes.

818
00:37:09,210 --> 00:37:10,578
- [Attendee] With like a separate entity

819
00:37:10,578 --> 00:37:15,030
from the model provider so
they don't share (indistinct).

820
00:37:15,030 --> 00:37:16,110
Same as running local.

821
00:37:16,110 --> 00:37:21,110
If you're running local, assuming
the model, not, you know,

822
00:37:21,118 --> 00:37:24,701
running code (indistinct).

823
00:37:26,801 --> 00:37:27,870
You've got a level of guarantee there.

824
00:37:27,870 --> 00:37:29,122
- [James] That's right.

825
00:37:29,122 --> 00:37:31,213
(attendee speaking faintly off mic)

826
00:37:31,213 --> 00:37:36,213
All right, so I have my
GitHub issue triage SOP here.

827
00:37:36,261 --> 00:37:38,610
It takes a repo URL like I said,

828
00:37:38,610 --> 00:37:42,000
and then it retrieves open
issues, analyzes each issue,

829
00:37:42,000 --> 00:37:45,480
recommends labels and then
generates a triage report

830
00:37:45,480 --> 00:37:48,720
that it's looking like it's
gonna write it to a file.

831
00:37:48,720 --> 00:37:50,340
That's not exactly what I want here.

832
00:37:50,340 --> 00:37:53,823
I'm gonna say for triage,

833
00:37:55,950 --> 00:38:00,060
search for issues with no labels,

834
00:38:00,060 --> 00:38:03,000
those are the ones to triage.

835
00:38:03,000 --> 00:38:06,910
I also want you to comment

836
00:38:07,800 --> 00:38:11,813
a triage comment in each issue

837
00:38:11,813 --> 00:38:15,363
and apply relevant labels.

838
00:38:17,280 --> 00:38:22,020
Don't rate the report to a file,

839
00:38:22,020 --> 00:38:27,020
just output it and also add a dry run flag

840
00:38:28,470 --> 00:38:33,030
that won't actually make the comments

841
00:38:33,030 --> 00:38:36,300
and just print them out.

842
00:38:36,300 --> 00:38:39,483
All right. That dry run's
just for demo purposes.

843
00:38:42,900 --> 00:38:45,900
Okay. So you can see it's
adding the dry run option.

844
00:38:45,900 --> 00:38:47,283
Defaults to false.

845
00:38:50,940 --> 00:38:51,933
Close this out.

846
00:38:53,730 --> 00:38:57,240
And, sorry to rush along
here, I am, like I said,

847
00:38:57,240 --> 00:39:01,650
I have a very ambitious, I'm going to see

848
00:39:01,650 --> 00:39:03,912
how far I can get coding an actual feature

849
00:39:03,912 --> 00:39:05,373
in front of you all.

850
00:39:16,230 --> 00:39:18,540
All right, so it just
updated my issue triage.

851
00:39:18,540 --> 00:39:20,940
I'm gonna start this up again

852
00:39:20,940 --> 00:39:23,253
and I'm going to use it.

853
00:39:26,850 --> 00:39:27,990
Poetry's fun and all.

854
00:39:27,990 --> 00:39:30,510
But how many of you would benefit

855
00:39:30,510 --> 00:39:32,703
from automated GitHub issue triaging?

856
00:39:34,410 --> 00:39:35,284
Yeah, maybe?

857
00:39:35,284 --> 00:39:38,163
No, nobody triages tickets here?

858
00:39:39,390 --> 00:39:41,670
Wow. (laughing)

859
00:39:41,670 --> 00:39:42,503
Okay.

860
00:39:42,503 --> 00:39:44,614
So we can see this prompt has appeared,

861
00:39:44,614 --> 00:39:48,813
GitHub issue triage,
and I'm going to run it.

862
00:39:49,710 --> 00:39:52,200
It's going to ask me for my parameters

863
00:39:52,200 --> 00:39:55,590
and I will say my repo URL

864
00:39:55,590 --> 00:39:59,463
is this and dry run, true.

865
00:40:02,040 --> 00:40:06,030
And now again, since the
GitHub MCP server is loaded,

866
00:40:06,030 --> 00:40:08,940
it's searching through issues, you can see

867
00:40:08,940 --> 00:40:12,540
that it's searching for
no label, specifically.

868
00:40:12,540 --> 00:40:15,570
It's looking for, it's listing the labels

869
00:40:15,570 --> 00:40:19,410
associated with my repo
and then it's found,

870
00:40:19,410 --> 00:40:21,690
admittedly this is a relatively new repo,

871
00:40:21,690 --> 00:40:25,140
so there's not that many
issues, but you can see

872
00:40:25,140 --> 00:40:28,470
that it gives me this
summary where it says, okay,

873
00:40:28,470 --> 00:40:31,200
recommended labels, bug, documentation,

874
00:40:31,200 --> 00:40:33,780
and then for this issue,
this is a feature request

875
00:40:33,780 --> 00:40:38,780
or enhancement and then this
one, documentation or bug.

876
00:40:39,150 --> 00:40:42,960
Alright, okay, so this one
stands out to me a bit,

877
00:40:42,960 --> 00:40:46,530
this issue number 22,
'cause I read it earlier.

878
00:40:46,530 --> 00:40:47,993
This is, I didn't open this.

879
00:40:47,993 --> 00:40:52,770
This is a real issue where
they're saying these MCP prompts

880
00:40:52,770 --> 00:40:54,690
are really nice, but it'd
be really cool if we could

881
00:40:54,690 --> 00:40:58,785
have a list SOPs tool and
a use SOP tool, right?

882
00:40:58,785 --> 00:41:03,785
That then the model can
automatically try to use it.

883
00:41:03,930 --> 00:41:05,403
So let's implement it.

884
00:41:06,840 --> 00:41:09,462
Let's see, am I in the right directory?

885
00:41:09,462 --> 00:41:11,580
Okay, so at this point, if you remember,

886
00:41:11,580 --> 00:41:13,230
we'd run that code based summary.

887
00:41:14,400 --> 00:41:16,470
And so if I look at my context here,

888
00:41:16,470 --> 00:41:18,930
I now have this agents.md
that was generated

889
00:41:18,930 --> 00:41:20,253
by that code base summary.

890
00:41:21,090 --> 00:41:23,354
I'm gonna go ahead and
clear my context here

891
00:41:23,354 --> 00:41:27,827
and I'm going to run this
Agent SOP called PDD,

892
00:41:27,827 --> 00:41:31,170
which stands for prop driven development,

893
00:41:31,170 --> 00:41:33,090
which was an internal predecessor

894
00:41:33,090 --> 00:41:37,050
to Kiro's spec driven
development that we came up with.

895
00:41:37,050 --> 00:41:39,960
So it takes a rough idea

896
00:41:39,960 --> 00:41:42,180
and then it takes you through
requirements, clarification,

897
00:41:42,180 --> 00:41:45,570
and research and everything in order to,

898
00:41:45,570 --> 00:41:48,870
and then comes up with a
design and implementation plan.

899
00:41:48,870 --> 00:41:50,910
So it says, what's your rough idea?

900
00:41:50,910 --> 00:41:53,763
I'm just putting a link
directly to this issue.

901
00:41:57,062 --> 00:41:57,895
Okay?

902
00:42:00,810 --> 00:42:01,643
And then we're gonna see,

903
00:42:01,643 --> 00:42:04,440
we've got 20 minutes, we're
gonna see how far we can get.

904
00:42:05,760 --> 00:42:06,693
All right.

905
00:42:11,490 --> 00:42:14,130
So it's gonna do some bookkeeping first,

906
00:42:14,130 --> 00:42:17,310
it creates this directory
structure of these folders

907
00:42:17,310 --> 00:42:19,920
that are under this planning folder,

908
00:42:19,920 --> 00:42:21,780
and one's called research,
one's called design,

909
00:42:21,780 --> 00:42:23,610
one's called implementation.

910
00:42:23,610 --> 00:42:28,020
Then it creates this rough-idea.md
file where it writes,

911
00:42:28,020 --> 00:42:32,460
it just wrote what it read from
the GitHub issue into here.

912
00:42:32,460 --> 00:42:36,240
And then it creates this idea-honing file,

913
00:42:36,240 --> 00:42:38,850
which, and then gives me this instruction

914
00:42:38,850 --> 00:42:41,640
to add this expression to my context.

915
00:42:41,640 --> 00:42:43,230
So basically anything that gets written

916
00:42:43,230 --> 00:42:46,800
into that directory structure
will auto-add to my context.

917
00:42:46,800 --> 00:42:49,170
So it says, okay, do you want to start out

918
00:42:49,170 --> 00:42:51,750
with requirements clarification,
which is the default,

919
00:42:51,750 --> 00:42:54,090
or do you wanna start with
some preliminary research

920
00:42:54,090 --> 00:42:56,805
or do you wanna provide
additional context?

921
00:42:56,805 --> 00:43:00,840
I'll just say requirements clarification.

922
00:43:00,840 --> 00:43:03,851
Okay, at this point it
turns into a requirements

923
00:43:03,851 --> 00:43:07,217
coding partner where it
starts asking me questions

924
00:43:07,217 --> 00:43:09,660
one at a time, saying,

925
00:43:09,660 --> 00:43:11,430
it starts asking me clarifying questions.

926
00:43:11,430 --> 00:43:13,170
So it says, what specific functionality

927
00:43:13,170 --> 00:43:14,700
should each tool provide.

928
00:43:14,700 --> 00:43:18,180
For list SOPs, should
it return just SOP names

929
00:43:18,180 --> 00:43:20,520
or descriptions or parameters.

930
00:43:20,520 --> 00:43:24,132
For a use SOP should it
return the full SOP content?

931
00:43:24,132 --> 00:43:25,983
So I'll say list SOPs,

932
00:43:27,960 --> 00:43:30,813
return name and description,

933
00:43:31,890 --> 00:43:35,403
and entire parameters content.

934
00:43:36,930 --> 00:43:37,980
So I'll say that.

935
00:43:37,980 --> 00:43:39,123
And then use SOP,

936
00:43:42,330 --> 00:43:46,170
I'll say take, this is because
I wrote this so I know.

937
00:43:46,170 --> 00:43:49,890
So take a look at the
MCP prompt implementation

938
00:43:49,890 --> 00:43:53,970
and use the same XML output format,

939
00:43:53,970 --> 00:43:57,003
but without the run-this part.

940
00:44:01,800 --> 00:44:02,820
So I told it to take a look

941
00:44:02,820 --> 00:44:04,440
at the MCP prompt implementation.

942
00:44:04,440 --> 00:44:06,393
So hopefully it should, let's see.

943
00:44:08,070 --> 00:44:08,903
Oh, maybe not.

944
00:44:08,903 --> 00:44:11,043
The agents.md probably
has that information.

945
00:44:12,180 --> 00:44:15,780
Okay, so next question, agent
autonomy and invocation.

946
00:44:15,780 --> 00:44:18,060
How should agents decide when to use SOPs?

947
00:44:18,060 --> 00:44:20,790
Should the tool be available at all times?

948
00:44:20,790 --> 00:44:22,980
These are MCP tools.

949
00:44:22,980 --> 00:44:26,703
They'll be in context at all times.

950
00:44:34,140 --> 00:44:36,210
All right, external SOP support.

951
00:44:36,210 --> 00:44:38,490
So should the new tool
support external SOPs,

952
00:44:38,490 --> 00:44:40,530
which is this flag that we support?

953
00:44:40,530 --> 00:44:41,493
Yes.

954
00:44:47,010 --> 00:44:47,843
Yeah.

955
00:44:47,843 --> 00:44:52,790
So this may not make for, I'm like the,

956
00:44:55,380 --> 00:44:57,360
I'm like the anti-flashy demo person

957
00:44:57,360 --> 00:45:00,000
and so I love doing like
real software development

958
00:45:00,000 --> 00:45:02,820
in front of here, and you may
see some like thinking time

959
00:45:02,820 --> 00:45:04,170
being spent and stuff like that.

960
00:45:04,170 --> 00:45:05,850
But this is real software development.

961
00:45:05,850 --> 00:45:07,770
Like this is how it actually works, right,

962
00:45:07,770 --> 00:45:09,840
where you do requirements clarification.

963
00:45:09,840 --> 00:45:12,300
It says tool parameter and return format,

964
00:45:12,300 --> 00:45:15,573
return structured format or plain text.

965
00:45:16,440 --> 00:45:20,517
List SOPs can return JSON output.

966
00:45:26,883 --> 00:45:27,716
Use SOP...

967
00:45:32,820 --> 00:45:33,653
Yeah.

968
00:45:34,958 --> 00:45:36,900
(attendee speaking faintly off mic)

969
00:45:36,900 --> 00:45:39,090
I am on the auto model right now

970
00:45:39,090 --> 00:45:41,550
and I think by default it tends

971
00:45:41,550 --> 00:45:45,401
to use the like Claude 200K versions,

972
00:45:45,401 --> 00:45:48,930
Claude Sonnet 200K tokens.

973
00:45:48,930 --> 00:45:52,860
But we do have the 1 million
token on here as well,

974
00:45:52,860 --> 00:45:57,660
Claude Opus, I just am
not explicitly using it.

975
00:45:57,660 --> 00:46:02,343
Let's see, use SOP
should take the SOP name.

976
00:46:04,710 --> 00:46:07,623
And I think that's it. Good enough.

977
00:46:09,750 --> 00:46:11,040
This is one of those features that's kind

978
00:46:11,040 --> 00:46:13,560
of in the middle ground
where I do wanna clarify

979
00:46:13,560 --> 00:46:15,840
some requirements, but I'm not like,

980
00:46:15,840 --> 00:46:18,114
it's kind of a smallish feature.

981
00:46:18,114 --> 00:46:21,390
So yeah, occasionally I'll
come in and just say like,

982
00:46:21,390 --> 00:46:23,430
Hey, why don't you just ask and answer

983
00:46:23,430 --> 00:46:25,500
like all the questions you have first

984
00:46:25,500 --> 00:46:27,720
and then I'll tell you what I think of it.

985
00:46:27,720 --> 00:46:29,280
I'll do that on occasion.

986
00:46:29,280 --> 00:46:34,280
Error handling, list SOPs
should just return empty list.

987
00:46:37,380 --> 00:46:42,380
Use SOP can return a
helpful error message.

988
00:46:53,490 --> 00:46:55,170
Alright, so it's saying,

989
00:46:55,170 --> 00:46:56,820
I think I've captured core requirements.

990
00:46:56,820 --> 00:46:58,980
Again, I'm not usually under like

991
00:46:58,980 --> 00:47:01,170
the 20 minute time deadline.

992
00:47:01,170 --> 00:47:02,340
I am here.

993
00:47:02,340 --> 00:47:05,423
So sometimes I'll say, actually,

994
00:47:05,423 --> 00:47:06,810
it does have another question.

995
00:47:06,810 --> 00:47:09,270
Let's see. Integration with existing...

996
00:47:09,270 --> 00:47:10,770
How should these new tools integrate

997
00:47:10,770 --> 00:47:13,323
with existing MCP Prompt system?

998
00:47:18,000 --> 00:47:22,443
Yes, both prompts and
tools should be available.

999
00:47:25,350 --> 00:47:27,750
Sometimes when it says
it'll kind of decide

1000
00:47:27,750 --> 00:47:29,760
like I think we have requirements

1001
00:47:29,760 --> 00:47:32,130
and sometimes I'll say, well gimme a list

1002
00:47:32,130 --> 00:47:34,320
of questions you might have asked,

1003
00:47:34,320 --> 00:47:37,380
and then he'll give me maybe
like eight or 10 questions.

1004
00:47:37,380 --> 00:47:39,090
And, okay, so that said,

1005
00:47:39,090 --> 00:47:41,140
we've covered the essential requirements.

1006
00:47:43,860 --> 00:47:46,890
Okay, I think we're good.

1007
00:47:46,890 --> 00:47:51,403
So now I'm gonna say, research fast MCP

1008
00:47:52,980 --> 00:47:57,980
and how tools are implemented.

1009
00:47:59,190 --> 00:48:00,480
Or, I'll just say,

1010
00:48:00,480 --> 00:48:03,420
research how tools are
implemented in FastMCP,

1011
00:48:03,420 --> 00:48:05,493
the library we're using,

1012
00:48:06,810 --> 00:48:10,533
and write a doc to the research folder.

1013
00:48:16,470 --> 00:48:18,663
Okay, so it's gonna do a web search.

1014
00:48:38,040 --> 00:48:40,040
Yeah, so I can have it do this research.

1015
00:48:41,430 --> 00:48:42,990
There are things where, you know,

1016
00:48:42,990 --> 00:48:45,540
large language models are
very good at pattern matching.

1017
00:48:45,540 --> 00:48:47,130
I happen to know in this code base

1018
00:48:47,130 --> 00:48:49,170
that we just have MCP prompts in here.

1019
00:48:49,170 --> 00:48:50,640
We don't have any tools.

1020
00:48:50,640 --> 00:48:52,410
If we did, if we had tools already,

1021
00:48:52,410 --> 00:48:54,210
I probably wouldn't tell
it to research this.

1022
00:48:54,210 --> 00:48:55,920
I just, 'cause it's really good at kind

1023
00:48:55,920 --> 00:48:57,120
of like exploring the code base,

1024
00:48:57,120 --> 00:49:00,300
and then just copying what it's sees.

1025
00:49:00,300 --> 00:49:04,140
But I want to hopefully
ensure some success here.

1026
00:49:04,140 --> 00:49:08,518
And so I had to do some research
on the web to understand,

1027
00:49:08,518 --> 00:49:10,170
like read the documentation

1028
00:49:10,170 --> 00:49:12,123
and understand how adding tools works.

1029
00:49:14,280 --> 00:49:15,580
But we'll see if it works.

1030
00:49:16,830 --> 00:49:20,220
So this PDD script will write findings

1031
00:49:20,220 --> 00:49:21,753
to this research folder.

1032
00:49:23,190 --> 00:49:26,850
So you can see this whole
time, we have this kind

1033
00:49:26,850 --> 00:49:28,470
of planning folder that was created.

1034
00:49:28,470 --> 00:49:30,780
My rough idea ended up in there.

1035
00:49:30,780 --> 00:49:33,150
The idea honing, this is the documentation

1036
00:49:33,150 --> 00:49:35,910
of all these questions and answers

1037
00:49:35,910 --> 00:49:38,989
and then research, well,
there will be something

1038
00:49:38,989 --> 00:49:41,013
in research soon, in design.

1039
00:49:42,120 --> 00:49:43,320
Okay, so now research,

1040
00:49:43,320 --> 00:49:47,220
it just wrote this research
document on FastMCP,

1041
00:49:47,220 --> 00:49:50,340
and again, part of that
Agent SOP I've written

1042
00:49:50,340 --> 00:49:53,850
that it needs to, let me, yeah,

1043
00:49:53,850 --> 00:49:55,320
it needs to include references,

1044
00:49:55,320 --> 00:49:56,970
and the links of where it found all

1045
00:49:56,970 --> 00:49:58,380
of its information in here.

1046
00:49:58,380 --> 00:49:59,880
So all of those details, like,

1047
00:49:59,880 --> 00:50:00,960
that's not something you would want

1048
00:50:00,960 --> 00:50:03,150
to repeat over and over again,

1049
00:50:03,150 --> 00:50:04,740
and manually writing prompts.

1050
00:50:04,740 --> 00:50:07,530
That's something that you can
encode right into that SOP,

1051
00:50:07,530 --> 00:50:09,543
and then it works.

1052
00:50:10,380 --> 00:50:11,463
Let's see.

1053
00:50:13,260 --> 00:50:14,520
So in the interest of time,

1054
00:50:14,520 --> 00:50:16,260
I'm gonna have it move on to design.

1055
00:50:16,260 --> 00:50:20,400
In the real world, like
real world scenarios,

1056
00:50:20,400 --> 00:50:22,770
I would spend much more time reading,

1057
00:50:22,770 --> 00:50:25,050
like reading the research information,

1058
00:50:25,050 --> 00:50:26,910
especially when it comes to design.

1059
00:50:26,910 --> 00:50:29,130
For this one, I'm gonna do
like a really quick skim,

1060
00:50:29,130 --> 00:50:31,170
which is very common when
you look at AI demos.

1061
00:50:31,170 --> 00:50:34,020
It's like, yeah, this looks
good, and then move on.

1062
00:50:34,020 --> 00:50:38,082
I spend, like when, I used a form of this,

1063
00:50:38,082 --> 00:50:41,070
this was before we invented Agent SOP,

1064
00:50:41,070 --> 00:50:44,040
but I used a form of this with
manual prompting to implement

1065
00:50:44,040 --> 00:50:46,260
that context feature way back in March.

1066
00:50:46,260 --> 00:50:50,701
And if it were really as
simple as just, I don't care

1067
00:50:50,701 --> 00:50:53,550
what you wrote, I'm just
gonna keep saying yes

1068
00:50:53,550 --> 00:50:57,330
and move on, I wouldn't have
gone concept to PR in two days.

1069
00:50:57,330 --> 00:51:00,330
It would've been concept
to PR in two hours, right?

1070
00:51:00,330 --> 00:51:03,840
But I was, and this is
where I really distinguish

1071
00:51:03,840 --> 00:51:06,150
what's going on here from vibe coating,

1072
00:51:06,150 --> 00:51:09,750
which is a very popular
term from back in February.

1073
00:51:09,750 --> 00:51:13,020
For me, vibe coding is, I'm
not even looking at the code.

1074
00:51:13,020 --> 00:51:15,360
I don't, you know, I'm just kind of

1075
00:51:15,360 --> 00:51:17,400
letting the agent do its thing

1076
00:51:17,400 --> 00:51:18,870
and I'm kind of manually testing,

1077
00:51:18,870 --> 00:51:21,900
and my experience with vibe
coating is it's amazing

1078
00:51:21,900 --> 00:51:24,589
for prototypes, amazing for
little games I wanna make

1079
00:51:24,589 --> 00:51:28,050
for myself, not very
good for production code.

1080
00:51:28,050 --> 00:51:29,700
'Cause in production
code we wanna make sure

1081
00:51:29,700 --> 00:51:32,550
that there's high quality,
we wanna make sure that

1082
00:51:32,550 --> 00:51:35,280
the design makes sense,
and it's, vibe coding,

1083
00:51:35,280 --> 00:51:38,460
it's very easy to code yourself
into a corner like really,

1084
00:51:38,460 --> 00:51:41,610
really quickly and get to a
point where you're telling it

1085
00:51:41,610 --> 00:51:44,040
to fix something and it fixes
it and breaks something else

1086
00:51:44,040 --> 00:51:45,600
and then you like tell it to fix that

1087
00:51:45,600 --> 00:51:48,480
and you just code yourself into a corner.

1088
00:51:48,480 --> 00:51:52,000
All right, so I have this
detailed design at this point

1089
00:51:54,330 --> 00:51:59,330
and I'm gonna have it keep going.

1090
00:51:59,490 --> 00:52:00,990
But its next step is it's gonna create

1091
00:52:00,990 --> 00:52:02,003
a implementation plan,

1092
00:52:02,003 --> 00:52:05,490
but you can see it creates
this detailed requirements

1093
00:52:05,490 --> 00:52:07,830
and then it creates kind of
this architecture overview

1094
00:52:07,830 --> 00:52:09,090
of what it's going to do.

1095
00:52:09,090 --> 00:52:11,020
And again, normally I would spend

1096
00:52:11,020 --> 00:52:12,540
a lot of time reading this.

1097
00:52:12,540 --> 00:52:15,877
This is a big part of
teaching AI fluency internally

1098
00:52:15,877 --> 00:52:18,210
in Amazon is teaching these practices,

1099
00:52:18,210 --> 00:52:19,710
especially to people who are newer

1100
00:52:19,710 --> 00:52:22,920
to this technology or newer
to software development

1101
00:52:22,920 --> 00:52:24,180
in general.

1102
00:52:24,180 --> 00:52:26,590
Like I said, when I built
that context feature,

1103
00:52:26,590 --> 00:52:29,340
yes, I didn't know the code base,

1104
00:52:29,340 --> 00:52:31,200
and yes, I didn't know the language,

1105
00:52:31,200 --> 00:52:34,050
but I've also been
programming for over 20 years,

1106
00:52:34,050 --> 00:52:37,650
which means that while I couldn't
write the language easily,

1107
00:52:37,650 --> 00:52:40,260
I could still read it, I
could still read roughly

1108
00:52:40,260 --> 00:52:42,497
what it was doing and what was going on.

1109
00:52:42,497 --> 00:52:47,497
And so I was there with it as it was,

1110
00:52:47,550 --> 00:52:50,223
as it was, you know, implementing this.

1111
00:52:51,750 --> 00:52:53,150
Okay, so I'm gonna just cancel it.

1112
00:52:53,150 --> 00:52:55,170
It was just gonna create
a little project summary

1113
00:52:55,170 --> 00:52:56,481
to wrap up.

1114
00:52:56,481 --> 00:52:59,714
But this SOP, this is a very involved

1115
00:52:59,714 --> 00:53:03,450
and interactive SOP, so
you can see how powerful

1116
00:53:03,450 --> 00:53:05,010
these can be.

1117
00:53:05,010 --> 00:53:05,843
But it went ahead and created this

1118
00:53:05,843 --> 00:53:07,950
like implementation checklist,

1119
00:53:07,950 --> 00:53:12,950
which 10 steps is way
overkill for this. (laughing)

1120
00:53:13,620 --> 00:53:16,270
So I think what I'm gonna do instead

1121
00:53:17,160 --> 00:53:20,433
is I'm actually just gonna remove that,

1122
00:53:28,800 --> 00:53:33,093
and I am going to run this other Agent SOP

1123
00:53:34,560 --> 00:53:36,393
called Code Task Generator.

1124
00:53:37,260 --> 00:53:40,260
And this is another one that
we use internally all the time.

1125
00:53:42,150 --> 00:53:47,150
Alright, so input is, create
code tasks for implementing

1126
00:53:52,505 --> 00:53:56,730
the design in your context

1127
00:53:56,730 --> 00:54:00,963
and output directory.

1128
00:54:03,332 --> 00:54:06,120
Yeah, I guess I'll just say,

1129
00:54:06,120 --> 00:54:08,103
implementation folder since I had it.

1130
00:54:11,460 --> 00:54:13,710
Okay, so what this one
does, this one's really good

1131
00:54:13,710 --> 00:54:15,690
for like kind of smaller tasks

1132
00:54:15,690 --> 00:54:19,290
where you don't need this
like really huge involved one.

1133
00:54:19,290 --> 00:54:20,940
This one kind of prompts you first

1134
00:54:20,940 --> 00:54:22,980
and says, okay, here's my
proposed task breakdown.

1135
00:54:22,980 --> 00:54:25,680
So I read everything
that you have in context

1136
00:54:25,680 --> 00:54:27,990
and here's create this SOP registry

1137
00:54:27,990 --> 00:54:30,750
and metadata extraction,
implement list SOPs,

1138
00:54:30,750 --> 00:54:34,938
and use SOP tools, integrate
tools with existing MCP server.

1139
00:54:34,938 --> 00:54:39,938
Let's do it in one step. I'm
giving a demo. (laughing)

1140
00:54:46,044 --> 00:54:49,500
(attendee speaking faintly off mic)

1141
00:54:49,500 --> 00:54:54,082
So this one, there's kind of mixed,

1142
00:54:54,082 --> 00:54:56,670
that's an area we're still exploring.

1143
00:54:56,670 --> 00:55:00,240
In general, we're seeing things
head toward that direction

1144
00:55:00,240 --> 00:55:01,950
where you end up committing,

1145
00:55:01,950 --> 00:55:04,290
there's kind of two levels of context,

1146
00:55:04,290 --> 00:55:07,320
and you'll see it's really
useful for agents to kind

1147
00:55:07,320 --> 00:55:08,760
of like write a bunch of stuff down,

1148
00:55:08,760 --> 00:55:10,200
and if you need to
clear the context window

1149
00:55:10,200 --> 00:55:11,310
and then it's still there,

1150
00:55:11,310 --> 00:55:14,910
and kind of like when there are documents

1151
00:55:14,910 --> 00:55:16,380
that are more durable over time,

1152
00:55:16,380 --> 00:55:18,780
like design documents that
stick around for a long time,

1153
00:55:18,780 --> 00:55:21,450
those absolutely should
go in the source code.

1154
00:55:21,450 --> 00:55:23,550
But then there's more
ephemeral kind of like notes

1155
00:55:23,550 --> 00:55:24,540
as you implement.

1156
00:55:24,540 --> 00:55:26,970
And you'll see when I get
to this implementation.

1157
00:55:26,970 --> 00:55:29,700
All right, this one created this code task

1158
00:55:29,700 --> 00:55:34,230
and the file it created looks like this

1159
00:55:34,230 --> 00:55:38,190
and Code Task Generator SOP,

1160
00:55:38,190 --> 00:55:40,770
it basically creates
like, like if any of you

1161
00:55:40,770 --> 00:55:41,730
have an issue tracker,

1162
00:55:41,730 --> 00:55:44,580
it's like the issue you
wish everybody wrote.

1163
00:55:44,580 --> 00:55:47,790
It's like this very detailed
issue with description,

1164
00:55:47,790 --> 00:55:50,760
background reference documentation,
technical requirements,

1165
00:55:50,760 --> 00:55:53,430
dependencies, implementation
approach, you know,

1166
00:55:53,430 --> 00:55:54,990
acceptance criteria.

1167
00:55:54,990 --> 00:55:57,180
It's like if only, right?

1168
00:55:57,180 --> 00:55:59,523
Well guess what, with AI we can do that.

1169
00:56:00,960 --> 00:56:05,560
All right, so now that I have
that, now I'm going to run

1170
00:56:06,450 --> 00:56:11,157
this Agent SOP called Code
Assist, which is fantastic.

1171
00:56:13,080 --> 00:56:18,080
Code Assist, again, these
are like super prompts.

1172
00:56:18,930 --> 00:56:21,210
Okay, so it said proposed parameters.

1173
00:56:21,210 --> 00:56:25,260
Oh wow, I actually already
found my test description. Nice.

1174
00:56:25,260 --> 00:56:29,370
I'm going to say yeah,
yeah, this all looks good.

1175
00:56:29,370 --> 00:56:32,910
So Code Assist takes the task description,

1176
00:56:32,910 --> 00:56:34,620
which can be a file path or it can be,

1177
00:56:34,620 --> 00:56:36,870
you can manually type what you want,

1178
00:56:36,870 --> 00:56:39,960
and then a task name and then a mode.

1179
00:56:39,960 --> 00:56:41,820
So it can either be interactive or auto.

1180
00:56:41,820 --> 00:56:43,680
I'm going to go auto for this one.

1181
00:56:43,680 --> 00:56:45,450
And then a documentation directory.

1182
00:56:45,450 --> 00:56:49,863
Oh actually I'm gonna adjust
documentation directory.

1183
00:56:53,640 --> 00:56:56,220
Oops. All right.

1184
00:56:56,220 --> 00:56:58,110
I'm gonna adjust it to be that.

1185
00:56:58,110 --> 00:57:00,930
And then, yeah, and then the repo route

1186
00:57:00,930 --> 00:57:02,970
and your current director
is the root default.

1187
00:57:02,970 --> 00:57:06,944
So the code assist SOP leads the agent

1188
00:57:06,944 --> 00:57:10,830
through a much more opinionated
way to implement code well.

1189
00:57:10,830 --> 00:57:13,320
It uses test driven
development best practices.

1190
00:57:13,320 --> 00:57:16,110
So it breaks it up into a
red phase, a green phase,

1191
00:57:16,110 --> 00:57:17,490
and refactor phase.

1192
00:57:17,490 --> 00:57:20,460
Red phase, meaning it
writes the test first

1193
00:57:20,460 --> 00:57:22,410
and then verifies that they fail.

1194
00:57:22,410 --> 00:57:24,210
And then the green phase is it implements

1195
00:57:24,210 --> 00:57:27,000
the functional logic
until those tests pass.

1196
00:57:27,000 --> 00:57:29,493
And then the refactor
phase is where it runs

1197
00:57:29,493 --> 00:57:32,160
the other tests, make sure
it didn't break anything

1198
00:57:32,160 --> 00:57:36,489
and then refactors the code to
kind of more concisely match

1199
00:57:36,489 --> 00:57:40,320
the style of the existing
code and do any cleanups.

1200
00:57:40,320 --> 00:57:45,320
And then it commits it using
conventional commit messages.

1201
00:57:45,660 --> 00:57:49,120
And yeah, so all of
that rolled into an SOP

1202
00:57:49,120 --> 00:57:52,230
for anything other than
like a trivial one-liner,

1203
00:57:52,230 --> 00:57:54,150
this is the only way I code now.

1204
00:57:54,150 --> 00:57:57,153
I use this Agent SOP, it's fantastic.

1205
00:57:59,310 --> 00:58:00,731
Yeah.

1206
00:58:00,731 --> 00:58:05,231
(attendee speaking faintly off mic)

1207
00:58:23,130 --> 00:58:24,508
Yeah.

1208
00:58:24,508 --> 00:58:26,730
So the question is kind of
how do you differentiate

1209
00:58:26,730 --> 00:58:29,010
between like greenfield
versus brownfield, right,

1210
00:58:29,010 --> 00:58:30,487
like existing code base.

1211
00:58:30,487 --> 00:58:32,310
This is an existing code base,

1212
00:58:32,310 --> 00:58:33,870
although admittedly it's a fairly

1213
00:58:33,870 --> 00:58:35,280
simple code base right now.

1214
00:58:35,280 --> 00:58:38,502
It's not, like I spent my last five years

1215
00:58:38,502 --> 00:58:40,950
working on AWS Cloudformation,

1216
00:58:40,950 --> 00:58:43,380
that's an over 10-year-old,
you know, code base.

1217
00:58:43,380 --> 00:58:45,780
It's highly complex,
highly asynchronous, right?

1218
00:58:46,620 --> 00:58:48,570
Running code based summary on that,

1219
00:58:48,570 --> 00:58:49,710
definitely more challenging.

1220
00:58:49,710 --> 00:58:51,810
That's generally
internally when we're doing

1221
00:58:51,810 --> 00:58:56,810
any AI tools that that code base tends

1222
00:58:57,120 --> 00:58:59,948
to be my stress test for any of them.

1223
00:58:59,948 --> 00:59:04,890
So the code base summary does
help with existing code bases.

1224
00:59:04,890 --> 00:59:09,760
And I will say that there
is a limit to like how well

1225
00:59:10,860 --> 00:59:14,730
these AI systems can do,
depending on how complex

1226
00:59:14,730 --> 00:59:16,590
and how large the code base is.

1227
00:59:16,590 --> 00:59:20,070
If there is a massive amount
of cognitive load that

1228
00:59:20,070 --> 00:59:23,910
you need to have in head to
make like a one line change,

1229
00:59:23,910 --> 00:59:26,250
not gonna help you as much.

1230
00:59:26,250 --> 00:59:29,340
So an analogy that I like
to give is that like,

1231
00:59:29,340 --> 00:59:31,170
you can think of a commercial plumber

1232
00:59:31,170 --> 00:59:32,670
who spends three days walking

1233
00:59:32,670 --> 00:59:35,190
around a big industrial building
and then tightens one bolt

1234
00:59:35,190 --> 00:59:36,720
and is like, Fixed your problem,

1235
00:59:36,720 --> 00:59:39,420
and that'll be a thousand dollars.

1236
00:59:39,420 --> 00:59:40,500
And they're like, a thousand dollars?

1237
00:59:40,500 --> 00:59:41,610
You tightened one bolt.

1238
00:59:41,610 --> 00:59:44,167
And they say, well, okay, $1 for the bolt,

1239
00:59:44,167 --> 00:59:47,213
$999 for knowing which bolt to tighten.

1240
00:59:47,213 --> 00:59:51,180
So there is code that we have
that's very much like that

1241
00:59:51,180 --> 00:59:53,700
where the actual change itself is not big,

1242
00:59:53,700 --> 00:59:56,460
but all the knowledge and cognitive load

1243
00:59:56,460 --> 00:59:58,680
that you need to make that change,

1244
00:59:58,680 --> 01:00:00,515
that's where kind of the scale comes in.

1245
01:00:00,515 --> 01:00:05,490
I've found that I tend to
use AI for that walking

1246
01:00:05,490 --> 01:00:06,990
around the building for three days part.

1247
01:00:06,990 --> 01:00:09,480
I can cut that down, that time down

1248
01:00:09,480 --> 01:00:12,960
and then still make kind of
the manual code change myself.

1249
01:00:12,960 --> 01:00:16,110
Yeah. So when you start using Agent SOP,

1250
01:00:16,110 --> 01:00:18,532
like I know this is a code
talk and I'm doing coding.

1251
01:00:18,532 --> 01:00:22,020
Hey look, all my tests
failed. That's good, right?

1252
01:00:22,020 --> 01:00:24,600
We know we're good on that.

1253
01:00:24,600 --> 01:00:27,003
So when we do these,

1254
01:00:28,766 --> 01:00:31,170
so once you realize

1255
01:00:31,170 --> 01:00:33,720
that these SOPs basically
just automate an agent

1256
01:00:33,720 --> 01:00:37,710
to do things with MCP tools
that it has, you start realizing

1257
01:00:37,710 --> 01:00:39,840
how many different applications there are.

1258
01:00:39,840 --> 01:00:42,300
One of the reasons I was so
excited to open source this

1259
01:00:42,300 --> 01:00:44,790
is because we, there
are literally thousands

1260
01:00:44,790 --> 01:00:47,250
of these SOPs internally in Amazon

1261
01:00:47,250 --> 01:00:49,110
and we are using them all over the place

1262
01:00:49,110 --> 01:00:53,040
because you saw how easy
they are to author and use,

1263
01:00:53,040 --> 01:00:55,530
and people are using them
to automate operations.

1264
01:00:55,530 --> 01:00:59,070
They're using 'em to automate
coding, as you can see,

1265
01:00:59,070 --> 01:01:02,430
even productivity, if you
have like Outlook MCP,

1266
01:01:02,430 --> 01:01:07,230
and Slack MCP, and if you have
like the right MCPs in place,

1267
01:01:07,230 --> 01:01:11,250
you can start, like I
have a productivity agent

1268
01:01:11,250 --> 01:01:15,120
where I can give it a
recording of a meeting

1269
01:01:15,120 --> 01:01:16,552
and say, Hey, transcribe this,

1270
01:01:16,552 --> 01:01:19,492
add a meeting notes document
to my Obsidian Vault

1271
01:01:19,492 --> 01:01:21,780
that has the task breakdown for everybody.

1272
01:01:21,780 --> 01:01:24,570
And then it creates like separate
documents for each person

1273
01:01:24,570 --> 01:01:26,711
and maps the tasks over.

1274
01:01:26,711 --> 01:01:27,544
So I can click on that person

1275
01:01:27,544 --> 01:01:29,370
and say, oh yeah, those
are the tasks I'm tracking

1276
01:01:29,370 --> 01:01:30,810
for that person, right.

1277
01:01:30,810 --> 01:01:33,273
And AI helps me do all of that.

1278
01:01:34,230 --> 01:01:35,373
So it's pretty wild.

1279
01:01:37,332 --> 01:01:41,523
(attendee speaking faintly off mic)

1280
01:01:41,523 --> 01:01:44,130
Yeah, the tasks I've shown
are like a user story.

1281
01:01:44,130 --> 01:01:45,960
Is that your question? Yeah, yeah.

1282
01:01:45,960 --> 01:01:48,586
The code task is like user story.

1283
01:01:48,586 --> 01:01:53,086
(attendee speaking faintly off mic)

1284
01:01:56,190 --> 01:01:59,340
Oh yeah, yeah, using,
yeah, so MCP is the way

1285
01:01:59,340 --> 01:02:03,030
to connect your agent to
various different systems.

1286
01:02:03,030 --> 01:02:04,920
GitHub has their own MCP server

1287
01:02:04,920 --> 01:02:07,710
and you can also look at
MCP servers elsewhere.

1288
01:02:07,710 --> 01:02:09,908
Another thing we look at is,
Anthropic launched this thing

1289
01:02:09,908 --> 01:02:14,730
called Skills, which with Skills you can,

1290
01:02:14,730 --> 01:02:16,493
if a tool has, even if a tool

1291
01:02:16,493 --> 01:02:18,780
doesn't have great MCP support,

1292
01:02:18,780 --> 01:02:21,270
but they have a really
good CLI, for example,

1293
01:02:21,270 --> 01:02:24,540
you can write a skill that
gives it all the CLI commands

1294
01:02:24,540 --> 01:02:26,250
and tells it how to use it.

1295
01:02:26,250 --> 01:02:28,710
And then that's another way
that you can connect it.

1296
01:02:28,710 --> 01:02:33,210
(attendee speaking faintly off mic)

1297
01:02:36,210 --> 01:02:41,210
Yeah. Yeah, absolutely.

1298
01:02:41,220 --> 01:02:44,160
All right. Well, I was really
hoping to get to a point

1299
01:02:44,160 --> 01:02:46,590
where I could actually like
show you that this works

1300
01:02:46,590 --> 01:02:49,373
for real, but I think we're out of time.

1301
01:02:49,373 --> 01:02:50,206
- [Maish] We're outta time.

1302
01:02:50,206 --> 01:02:52,565
- [James] Maybe I'm saved by
the bell I guess. (laughing)

1303
01:02:52,565 --> 01:02:55,178
But anyway, you can see, so
it's implementing this code,

1304
01:02:55,178 --> 01:02:57,258
the tests are now passing.

1305
01:02:57,258 --> 01:03:00,444
Yeah, it just passed with 97% coverage.

1306
01:03:00,444 --> 01:03:02,730
It's gonna update this progress document

1307
01:03:02,730 --> 01:03:05,453
that it's been keeping and
then it's gonna do a commit.

1308
01:03:06,540 --> 01:03:08,974
Yeah. Cool.

1309
01:03:08,974 --> 01:03:11,130
So that's all the time we have,

1310
01:03:11,130 --> 01:03:12,630
but hopefully that gives you some insight

1311
01:03:12,630 --> 01:03:14,760
into how we use Agent SOPs.

1312
01:03:14,760 --> 01:03:18,300
I really encourage you to
check out the Agent SOP GitHub,

1313
01:03:18,300 --> 01:03:21,210
and if you wouldn't mind giving us a star,

1314
01:03:21,210 --> 01:03:23,280
I'd really appreciate it as well.

1315
01:03:23,280 --> 01:03:24,889
But thanks so much for your time today.

1316
01:03:24,889 --> 01:03:27,876
(audience applauding)

