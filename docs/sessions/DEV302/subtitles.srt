1
00:00:00,690 --> 00:00:02,700
- [AM] We're gonna be
talking about building .NET

2
00:00:02,700 --> 00:00:04,503
applications with AI.

3
00:00:05,820 --> 00:00:10,170
And it's funny, when we were
putting this talk together,

4
00:00:10,170 --> 00:00:13,500
we were going to do a
Semantic Kernel talk.

5
00:00:13,500 --> 00:00:15,390
And then, as many of you in the audience

6
00:00:15,390 --> 00:00:17,580
probably are following along,

7
00:00:17,580 --> 00:00:21,180
Microsoft said goodbye to Semantic Kernel

8
00:00:21,180 --> 00:00:22,860
and brought in,

9
00:00:22,860 --> 00:00:23,910
- [Nicki] Agent Framework.

10
00:00:23,910 --> 00:00:24,743
- [AM] Agent Framework.

11
00:00:24,743 --> 00:00:27,510
So we will have some
Semantic Kernel in here,

12
00:00:27,510 --> 00:00:31,080
but we are also going to bring
everybody into the future

13
00:00:31,080 --> 00:00:33,924
with Agent Framework as well.

14
00:00:33,924 --> 00:00:34,800
- Which is still in beta.
- So you're gonna get

15
00:00:34,800 --> 00:00:37,114
a little smattering of everything, right?

16
00:00:37,114 --> 00:00:38,490
- [Nicki] Yep. Yeah. You're
gonna get everything.

17
00:00:38,490 --> 00:00:39,930
Everything that's available today,

18
00:00:39,930 --> 00:00:42,270
as well as everything that's
still in preview or beta,

19
00:00:42,270 --> 00:00:44,850
just so that if you're building
something in the future,

20
00:00:44,850 --> 00:00:46,860
you can take advantage of

21
00:00:46,860 --> 00:00:49,650
the next generation of
frameworks from Microsoft.

22
00:00:49,650 --> 00:00:53,250
- [AM] With that, there's
a giant caveat, obviously.

23
00:00:53,250 --> 00:00:56,040
All of this is still in preview.

24
00:00:56,040 --> 00:00:59,940
Things break things, things
don't stay the same, right?

25
00:00:59,940 --> 00:01:03,810
So all of this code is experimental,

26
00:01:03,810 --> 00:01:05,940
the best kind of code, right?
(Nicki laughs)

27
00:01:05,940 --> 00:01:07,500
The stuff that you deploy out

28
00:01:07,500 --> 00:01:10,350
and you go, man, maybe
this will work one day.

29
00:01:10,350 --> 00:01:11,970
Anyway, I'm AM Grobelny,

30
00:01:11,970 --> 00:01:14,700
I'm a principal developer
advocate here at AWS.

31
00:01:14,700 --> 00:01:16,740
I've worked at AWS collectively

32
00:01:16,740 --> 00:01:18,783
for about the past seven years.

33
00:01:20,340 --> 00:01:24,990
I've been doing .NET ever
since I started programming.

34
00:01:24,990 --> 00:01:26,820
C# was my first language.

35
00:01:26,820 --> 00:01:28,470
That's how I learned how to code.

36
00:01:29,580 --> 00:01:31,770
- [Nicki] I'm Nicki, I'm
a principal engineer.

37
00:01:31,770 --> 00:01:34,034
I actually am working
on the Amazon side now.

38
00:01:34,034 --> 00:01:36,757
I used to work on the AWS side.

39
00:01:36,757 --> 00:01:38,970
.NET was also very early on in my career.

40
00:01:38,970 --> 00:01:40,080
It's very nostalgic.

41
00:01:40,080 --> 00:01:41,640
I don't currently work on .NET.

42
00:01:41,640 --> 00:01:45,000
I actually work on the mobile
shopping app for Amazon,

43
00:01:45,000 --> 00:01:47,490
but C# was also my first language

44
00:01:47,490 --> 00:01:49,620
and how I learned how to code as well.

45
00:01:49,620 --> 00:01:52,680
So, you know, we thought I'd
do a little throwback here,

46
00:01:52,680 --> 00:01:56,043
join AM and and talk about .NET for y'all.

47
00:01:57,090 --> 00:01:59,670
- [AM] Nicki and I have
done a lot of talks

48
00:01:59,670 --> 00:02:00,840
over the years together,

49
00:02:00,840 --> 00:02:05,640
but we have not done a talk
together in at least five years?

50
00:02:05,640 --> 00:02:06,960
- Four, maybe?
- Four years.

51
00:02:06,960 --> 00:02:09,330
- Maybe you're right.
- A long time, basically.

52
00:02:09,330 --> 00:02:13,140
But .NET never leaves your blood, right?

53
00:02:13,140 --> 00:02:14,070
- [Nicki] He didn't miss me though,

54
00:02:14,070 --> 00:02:15,540
because most of our talks usually

55
00:02:15,540 --> 00:02:17,580
is just me making fun of
him the entire time, so...

56
00:02:17,580 --> 00:02:18,413
- [AM] That's true.

57
00:02:18,413 --> 00:02:21,480
She will be heckling me
so you don't have to,

58
00:02:21,480 --> 00:02:22,611
don't worry about it.
(Nicki laughs)

59
00:02:22,611 --> 00:02:24,030
She'll cover that.

60
00:02:24,030 --> 00:02:27,180
All right, we're gonna get
through some PowerPoint.

61
00:02:27,180 --> 00:02:28,590
We're gonna get into code

62
00:02:28,590 --> 00:02:30,870
for most of the rest of the session,

63
00:02:30,870 --> 00:02:33,390
because this is a code talk after all.

64
00:02:33,390 --> 00:02:35,910
But we do wanna set the
scene with some of the tools

65
00:02:35,910 --> 00:02:38,580
that we're gonna be using, right?

66
00:02:38,580 --> 00:02:42,930
So let's talk about the
problem space first, though.

67
00:02:42,930 --> 00:02:45,240
AI and chatbots

68
00:02:45,240 --> 00:02:48,390
and all of the beautiful
L-L-L-L-L-M things

69
00:02:48,390 --> 00:02:49,524
that are going on.

70
00:02:49,524 --> 00:02:50,700
(Nicki laughs)

71
00:02:50,700 --> 00:02:54,270
First off, we're talking
Agentic AI, right?

72
00:02:54,270 --> 00:02:58,950
This is, we're rife with all
of these different phrases,

73
00:02:58,950 --> 00:03:00,270
these philosophies.

74
00:03:00,270 --> 00:03:01,380
What is an agent?

75
00:03:01,380 --> 00:03:02,430
- [Nicki] Yeah, what is an agent?

76
00:03:02,430 --> 00:03:03,390
Why don't you tell us?

77
00:03:03,390 --> 00:03:05,370
- [AM] Well, I won't tell you

78
00:03:05,370 --> 00:03:07,110
because I will speak in the words

79
00:03:07,110 --> 00:03:09,303
of somebody much smarter than me.

80
00:03:10,200 --> 00:03:12,630
AWS has a distinguished engineer.

81
00:03:12,630 --> 00:03:14,460
His name is Mark Brooker,

82
00:03:14,460 --> 00:03:17,550
big fanboy of Mark Brooker over here.

83
00:03:17,550 --> 00:03:18,900
Please don't tell him I said that,

84
00:03:18,900 --> 00:03:20,640
even though this is recorded.

85
00:03:20,640 --> 00:03:23,490
Anyway, I got to interview Mark yesterday,

86
00:03:23,490 --> 00:03:27,630
just happenstance, but
I follow Mark's blog.

87
00:03:27,630 --> 00:03:31,500
Mark talks a lot about AI, Agentic AI.

88
00:03:31,500 --> 00:03:35,130
Mark is one of the engineers
that brought Aurora DSQL

89
00:03:35,130 --> 00:03:36,240
to life last year,

90
00:03:36,240 --> 00:03:40,020
if you were following the
reinvent announcements last year.

91
00:03:40,020 --> 00:03:43,830
He worked on a lot of
really interesting projects.

92
00:03:43,830 --> 00:03:48,330
He co-opted a definition
from Simon Willison of

93
00:03:48,330 --> 00:03:49,163
what an agent is.

94
00:03:49,163 --> 00:03:52,290
And I think this is a good
basis to start any time

95
00:03:52,290 --> 00:03:56,220
that you're starting to
work on Agentic workloads.

96
00:03:56,220 --> 00:03:57,330
What is an agent?

97
00:03:57,330 --> 00:03:59,133
At its core, it's very simple.

98
00:04:00,000 --> 00:04:03,330
It's an LLM that exists in a loop

99
00:04:03,330 --> 00:04:07,770
that is able to call on
tools to do additional work.

100
00:04:07,770 --> 00:04:09,060
That's it, right?

101
00:04:09,060 --> 00:04:11,010
But this is more of a philosophical thing

102
00:04:11,010 --> 00:04:13,155
than it is a technology thing.

103
00:04:13,155 --> 00:04:17,490
And Mark actually had a little
quibble with the use of LLM.

104
00:04:17,490 --> 00:04:18,840
He said, that's limiting.

105
00:04:18,840 --> 00:04:20,070
There are other model types.

106
00:04:20,070 --> 00:04:22,950
You might have an SLM
in that group, right?

107
00:04:22,950 --> 00:04:26,160
But an agent needs those two core things

108
00:04:26,160 --> 00:04:28,290
to be "an agent".

109
00:04:28,290 --> 00:04:33,290
A loop in which the actions
occur, prompts come in,

110
00:04:33,750 --> 00:04:38,280
and then tools to call to
extend the functionality of

111
00:04:38,280 --> 00:04:39,780
that LLM, right?

112
00:04:39,780 --> 00:04:40,680
That's it.

113
00:04:40,680 --> 00:04:42,570
And a lot of these
frameworks, a lot of the tools

114
00:04:42,570 --> 00:04:45,333
that we're gonna be
talking today achieve that.

115
00:04:46,380 --> 00:04:51,380
But Nicki, you work on
like real problem solving

116
00:04:51,510 --> 00:04:53,550
with AI and I wanted to...
- I do.

117
00:04:53,550 --> 00:04:56,130
So what are some actual
problems that you might want

118
00:04:56,130 --> 00:04:58,590
to use an LLM application to build?

119
00:04:58,590 --> 00:05:01,440
A good example of one
is like you can use it

120
00:05:01,440 --> 00:05:03,330
to summarize meeting notes

121
00:05:03,330 --> 00:05:05,520
and then extract the action
items from that meeting

122
00:05:05,520 --> 00:05:06,840
and then assign them

123
00:05:06,840 --> 00:05:09,150
to various team members
that were in the meeting.

124
00:05:09,150 --> 00:05:11,760
Or you can use it for personalization.

125
00:05:11,760 --> 00:05:13,320
I know we do a lot of personalization

126
00:05:13,320 --> 00:05:15,510
in the Amazon app itself.

127
00:05:15,510 --> 00:05:20,510
You can also use it to basically
create a support chatbot

128
00:05:20,610 --> 00:05:23,190
so you can have it, give it
access to your documentation

129
00:05:23,190 --> 00:05:26,460
and have it interact
with customers of yours

130
00:05:26,460 --> 00:05:28,920
and use the API documentation
it has access to,

131
00:05:28,920 --> 00:05:31,023
to answer questions from that customer.

132
00:05:31,920 --> 00:05:35,760
- [AM] All right, we've
broken this talk into,

133
00:05:35,760 --> 00:05:39,360
I'd say two categories.

134
00:05:39,360 --> 00:05:42,180
Primarily we're gonna be
talking about tools built

135
00:05:42,180 --> 00:05:45,000
by Microsoft that you can use

136
00:05:45,000 --> 00:05:47,100
and tools built by AWS

137
00:05:47,100 --> 00:05:49,560
that you can use at the
intersection of the two.

138
00:05:49,560 --> 00:05:54,390
But we're also going to frame
this in some of the basics

139
00:05:54,390 --> 00:05:56,640
of the tools that you'll use,

140
00:05:56,640 --> 00:05:59,700
the framework that you might use.

141
00:05:59,700 --> 00:06:03,600
Those are Semantic Kernel and
Agent Framework these days.

142
00:06:03,600 --> 00:06:07,890
And then finally, we've
also thrown in a discussion

143
00:06:07,890 --> 00:06:09,870
of AgentCore, right?

144
00:06:09,870 --> 00:06:13,590
So this is our Amazon Bedrock AgentCore.

145
00:06:13,590 --> 00:06:16,620
This is an AWS product for running

146
00:06:16,620 --> 00:06:18,780
and providing, you know,

147
00:06:18,780 --> 00:06:22,260
more of the operational side.

148
00:06:22,260 --> 00:06:23,430
- [Nicki] The infrastructure, really.

149
00:06:23,430 --> 00:06:24,750
- Yeah.
- The infrastructure to run

150
00:06:24,750 --> 00:06:25,620
your LLM apps.

151
00:06:25,620 --> 00:06:27,060
So the Microsoft tools

152
00:06:27,060 --> 00:06:29,040
that we're gonna show you today are useful

153
00:06:29,040 --> 00:06:31,380
to program your LLM app.

154
00:06:31,380 --> 00:06:33,660
And then you're thinking,
where am I gonna deploy it?

155
00:06:33,660 --> 00:06:36,330
And that's where the AWS tools come in.

156
00:06:36,330 --> 00:06:39,633
- [AM] All right, we gotta
start at the very, very basics.

157
00:06:40,890 --> 00:06:45,120
If you've done any programming against AI

158
00:06:45,120 --> 00:06:48,780
or LLMs with .NET, I hope
you know this already.

159
00:06:48,780 --> 00:06:50,880
If you're brand new, welcome!
(Nicki laughs)

160
00:06:50,880 --> 00:06:52,980
We're excited to try stuff out.

161
00:06:52,980 --> 00:06:55,140
This is the foundation

162
00:06:55,140 --> 00:06:58,620
of pretty much everything else
we're gonna be talking today.

163
00:06:58,620 --> 00:07:01,410
This library is very simple to understand.

164
00:07:01,410 --> 00:07:04,080
It is just the abstraction layer.

165
00:07:04,080 --> 00:07:08,610
Because look, this space, I
know we say this about all tech,

166
00:07:08,610 --> 00:07:10,470
but this space in particular

167
00:07:10,470 --> 00:07:13,860
is moving extremely fast, right?

168
00:07:13,860 --> 00:07:18,600
So instead of having to
learn each individual method

169
00:07:18,600 --> 00:07:20,940
of invocation or sending a prompt

170
00:07:20,940 --> 00:07:22,530
or setting settings,

171
00:07:22,530 --> 00:07:24,240
Microsoft has built a library

172
00:07:24,240 --> 00:07:26,550
that abstracts that away, right?

173
00:07:26,550 --> 00:07:28,890
Because you're just trying to
typically build something like

174
00:07:28,890 --> 00:07:30,480
a chat client, right?
- Yeah.

175
00:07:30,480 --> 00:07:34,890
- [AM] So you can have an
abstract chat client that then is

176
00:07:34,890 --> 00:07:39,330
built into a concrete class
by a provider like Anthropic,

177
00:07:39,330 --> 00:07:41,610
or in our case AWS.

178
00:07:41,610 --> 00:07:44,730
We have built extensions,
which we're gonna talk about.

179
00:07:44,730 --> 00:07:46,770
And I will just give you a little bit,

180
00:07:46,770 --> 00:07:50,010
this is one of our first
code snippets here.

181
00:07:50,010 --> 00:07:54,480
It's not really that complex,
it's not even that compelling,

182
00:07:54,480 --> 00:07:58,411
but it does a lot and
it does a lot for you.

183
00:07:58,411 --> 00:08:00,570
So this is using

184
00:08:00,570 --> 00:08:04,560
the actual direct Microsoft
extensions themselves,

185
00:08:04,560 --> 00:08:06,330
adding a chat client

186
00:08:06,330 --> 00:08:10,950
and then asking for a
response from the client.

187
00:08:10,950 --> 00:08:13,350
- [Nicki] Simplest use case
there is on the planet.

188
00:08:13,350 --> 00:08:14,910
- [AM] Yeah. All right.

189
00:08:14,910 --> 00:08:17,850
Now building on that foundation,

190
00:08:17,850 --> 00:08:22,410
Microsoft has built a framework
called Semantic Kernel.

191
00:08:22,410 --> 00:08:24,630
- [Nicki] So the, basically,

192
00:08:24,630 --> 00:08:26,400
the abstraction layer he
was just talking about

193
00:08:26,400 --> 00:08:27,233
are interfaces,

194
00:08:27,233 --> 00:08:29,880
and Semantic Kernel is the
framework that implements them.

195
00:08:29,880 --> 00:08:32,970
So it uses Microsoft extensions, AI,

196
00:08:32,970 --> 00:08:35,610
and it's composed of a few parts.

197
00:08:35,610 --> 00:08:37,230
So we have plugins

198
00:08:37,230 --> 00:08:40,020
and plugins are gonna be
like your function calls

199
00:08:40,020 --> 00:08:40,853
and your tools.

200
00:08:40,853 --> 00:08:42,870
So you're gonna give the
LLM access to be able

201
00:08:42,870 --> 00:08:45,210
to tell the date or the weather,

202
00:08:45,210 --> 00:08:48,033
or you might give it
access to search the web,

203
00:08:49,020 --> 00:08:50,580
rag, essentially.

204
00:08:50,580 --> 00:08:53,820
And then it has AI models
that you can access

205
00:08:53,820 --> 00:08:56,280
or you can give it an AI
model you'd like to access.

206
00:08:56,280 --> 00:08:57,690
And then hooks and filters,

207
00:08:57,690 --> 00:09:02,370
and hooks are middleware
to basically intercept

208
00:09:02,370 --> 00:09:05,520
before the prompt gets sent to the LLM or

209
00:09:05,520 --> 00:09:07,530
after the response
comes back from the LLM.

210
00:09:07,530 --> 00:09:10,200
Maybe you wanna transform
the data a little bit

211
00:09:10,200 --> 00:09:13,170
or maybe you wanna transform
the prompt before it gets sent.

212
00:09:13,170 --> 00:09:15,600
Maybe you wanna observe
it, maybe you wanna log it.

213
00:09:15,600 --> 00:09:18,330
And then filter is
basically a type of hook,

214
00:09:18,330 --> 00:09:19,530
a specific type of hook

215
00:09:19,530 --> 00:09:22,200
where you can give permission to that LLM.

216
00:09:22,200 --> 00:09:25,050
So it's basically a permission
based hook where you can say,

217
00:09:25,050 --> 00:09:28,200
yes, I want this prompt to
go to the LLM or no I don't.

218
00:09:28,200 --> 00:09:30,210
So providing security there

219
00:09:30,210 --> 00:09:32,430
or just, you know, not, it
doesn't have to be security.

220
00:09:32,430 --> 00:09:33,570
Maybe you just decide,

221
00:09:33,570 --> 00:09:35,130
I don't want that LLM called right now.

222
00:09:35,130 --> 00:09:37,140
Or I want this other LLM called

223
00:09:37,140 --> 00:09:39,450
based on this specific prompt.

224
00:09:39,450 --> 00:09:43,260
- [AM] So as you can
tell, maybe as you listen

225
00:09:43,260 --> 00:09:45,600
and I'll use a place near

226
00:09:45,600 --> 00:09:47,190
and dear to your heart, I hope to,

227
00:09:47,190 --> 00:09:49,170
to maybe help establish

228
00:09:49,170 --> 00:09:52,263
what these types of frameworks do, right?

229
00:09:53,460 --> 00:09:58,170
So this software is building
what we talked about already.

230
00:09:58,170 --> 00:09:59,640
It's building that loop,

231
00:09:59,640 --> 00:10:01,620
it's building that
function calling, right?

232
00:10:01,620 --> 00:10:04,110
The tool calls for you.

233
00:10:04,110 --> 00:10:05,220
You can do all that.

234
00:10:05,220 --> 00:10:07,410
You can build that in software yourself,

235
00:10:07,410 --> 00:10:10,140
or you can use a framework
like Semantic Kernel

236
00:10:10,140 --> 00:10:11,850
that achieves that for you

237
00:10:11,850 --> 00:10:14,610
to bring this into a
different area of technology.

238
00:10:14,610 --> 00:10:19,110
Think about the glory days of JavaScript.

239
00:10:19,110 --> 00:10:20,820
Anybody remember?

240
00:10:20,820 --> 00:10:25,230
You know, having to make Ajax calls,

241
00:10:25,230 --> 00:10:26,284
you remember Ajax?

242
00:10:26,284 --> 00:10:28,620
- (laughs) Yeah.
- Oh, yeah. Fondly, right?

243
00:10:28,620 --> 00:10:30,360
Yeah, everybody loves Ajax.

244
00:10:30,360 --> 00:10:32,283
So again, a lot of these,

245
00:10:33,120 --> 00:10:35,790
prior to things like React and Angular,

246
00:10:35,790 --> 00:10:37,950
you would make the Ajax calls,

247
00:10:37,950 --> 00:10:39,720
you would redraw the UI, right?

248
00:10:39,720 --> 00:10:42,300
You would write that
all in JavaScript code.

249
00:10:42,300 --> 00:10:45,240
Then they started building
frameworks that did this

250
00:10:45,240 --> 00:10:46,860
for you, right?

251
00:10:46,860 --> 00:10:49,230
So it's exactly the same idea.

252
00:10:49,230 --> 00:10:50,520
You could build these agents,

253
00:10:50,520 --> 00:10:54,540
you can make them do what
these frameworks are doing,

254
00:10:54,540 --> 00:10:56,250
or you could just use something

255
00:10:56,250 --> 00:10:57,810
that somebody else is maintaining.

256
00:10:57,810 --> 00:11:00,510
Somebody else has built, exact same idea.

257
00:11:00,510 --> 00:11:01,860
- [Nicki] Yep. Totally, yeah.

258
00:11:01,860 --> 00:11:04,742
And you'll see from the
code snippet how easy it is

259
00:11:04,742 --> 00:11:07,470
to use the framework,

260
00:11:07,470 --> 00:11:09,150
but also to add, we're gonna show you how

261
00:11:09,150 --> 00:11:11,190
to add plugins in in real time.

262
00:11:11,190 --> 00:11:12,023
We're gonna show you in the code.

263
00:11:12,023 --> 00:11:13,884
And so it just makes it super easy

264
00:11:13,884 --> 00:11:16,230
to basically create your LLM application.

265
00:11:16,230 --> 00:11:18,300
Of course you could write
all the code yourself,

266
00:11:18,300 --> 00:11:19,440
but why would you when you,

267
00:11:19,440 --> 00:11:22,710
when it's just basically
like 10 lines of code here

268
00:11:22,710 --> 00:11:25,950
versus thousands if you were
gonna write it yourself?

269
00:11:25,950 --> 00:11:28,830
So this code snippet is also very basic.

270
00:11:28,830 --> 00:11:30,840
Basically just getting credentials.

271
00:11:30,840 --> 00:11:33,420
I'm stating the modelId
of the model I wanna call.

272
00:11:33,420 --> 00:11:36,990
This example is using
Bedrock and Semantic Kernel.

273
00:11:36,990 --> 00:11:39,540
So I'm establishing the
Bedrock Runtime client

274
00:11:39,540 --> 00:11:41,070
with a region and my credentials.

275
00:11:41,070 --> 00:11:43,440
And then I'm building Semantic Kernel

276
00:11:43,440 --> 00:11:46,350
and I'm adding Bedrock
as my completion service.

277
00:11:46,350 --> 00:11:49,050
So you can obviously add
different completion services.

278
00:11:49,050 --> 00:11:51,900
But Semantic Kernel has,
as you can see here,

279
00:11:51,900 --> 00:11:54,633
native integration with Bedrock today.

280
00:11:55,710 --> 00:11:59,910
And then you can basically call
the chat completion service.

281
00:11:59,910 --> 00:12:01,740
So you can see here I'm
sending, "Hi, how are you?"

282
00:12:01,740 --> 00:12:04,200
Which is really a dumb lame prompt.

283
00:12:04,200 --> 00:12:07,290
And then I'm writing
the response to console,

284
00:12:07,290 --> 00:12:09,187
which would probably the
LLM probably would respond,

285
00:12:09,187 --> 00:12:11,520
"Hi, happy to see you,
how can I help you?"

286
00:12:11,520 --> 00:12:13,950
Or whatever the heck it's gonna write.

287
00:12:13,950 --> 00:12:17,250
- [AM] Yeah, and as Nicki
stated, right, Semantic Kernel,

288
00:12:17,250 --> 00:12:18,750
and this is gonna be a key difference

289
00:12:18,750 --> 00:12:22,710
that we see when we move into
Microsoft Agent Framework.

290
00:12:22,710 --> 00:12:26,760
Semantic Kernel has
built in native support

291
00:12:26,760 --> 00:12:28,500
for Bedrock

292
00:12:28,500 --> 00:12:32,580
and it also has built in native
support for bedrock agents,

293
00:12:32,580 --> 00:12:36,060
which if you're building new these days,

294
00:12:36,060 --> 00:12:40,290
we would advise you to not
start with Bedrock agents,

295
00:12:40,290 --> 00:12:42,750
but instead move to AgentCore.

296
00:12:42,750 --> 00:12:46,470
Again, though, there is
not this native support

297
00:12:46,470 --> 00:12:50,107
like in Semantic Kernel
for AgentCore, right?

298
00:12:50,107 --> 00:12:51,930
- [Nicki] And for Agent Framework, either

299
00:12:51,930 --> 00:12:53,280
because it's in preview.

300
00:12:53,280 --> 00:12:54,930
- [AM] Well, that's gonna
be an interesting thing

301
00:12:54,930 --> 00:12:56,640
that we're gonna see here in just a minute

302
00:12:56,640 --> 00:13:00,270
when we get to Microsoft Agent Framework.

303
00:13:00,270 --> 00:13:01,650
There is no native support

304
00:13:01,650 --> 00:13:05,913
for any AWS services at this
time in Agent Framework.

305
00:13:06,900 --> 00:13:09,120
This is my ask to you all.

306
00:13:09,120 --> 00:13:11,730
Number one, this is brand new.

307
00:13:11,730 --> 00:13:15,840
Actually, this altered the
foundations of this talk a little

308
00:13:15,840 --> 00:13:16,920
behind the scenes.

309
00:13:16,920 --> 00:13:20,220
Nicki and I were messaging each other

310
00:13:20,220 --> 00:13:23,640
as we're preparing back in October or so.

311
00:13:23,640 --> 00:13:26,730
Hey, wait a minute, what
just happened, right?

312
00:13:26,730 --> 00:13:30,360
Because Microsoft made a
very exciting announcement,

313
00:13:30,360 --> 00:13:34,020
admittedly that they
were taking auto glue on

314
00:13:34,020 --> 00:13:37,590
and Semantic Kernel, moving them aside,

315
00:13:37,590 --> 00:13:40,320
kind of combining what
these two were good at

316
00:13:40,320 --> 00:13:44,190
into this new Microsoft Agent Framework.

317
00:13:44,190 --> 00:13:47,010
But as of right now,
it's still in preview.

318
00:13:47,010 --> 00:13:49,140
So I gave you the caveat up front.

319
00:13:49,140 --> 00:13:52,200
I'm gonna give it to you again,
this is all experimental,

320
00:13:52,200 --> 00:13:54,750
all the code you see may or may not work.

321
00:13:54,750 --> 00:13:57,690
It's just to show you
how to use these things.

322
00:13:57,690 --> 00:14:00,960
And hopefully my ask to you here is

323
00:14:00,960 --> 00:14:03,870
that we as a community can go in,

324
00:14:03,870 --> 00:14:05,910
this is an open source project.

325
00:14:05,910 --> 00:14:08,497
We can request, "Hey,
we want Bedrock support,

326
00:14:08,497 --> 00:14:10,710
"we want this support,
we want that support".

327
00:14:10,710 --> 00:14:13,098
That's what I want you all to be thinking

328
00:14:13,098 --> 00:14:15,420
as we continue in this talk.

329
00:14:15,420 --> 00:14:19,800
Like how would you want to
use Agent Framework with AWS

330
00:14:19,800 --> 00:14:23,160
and what should we take
as feedback from you all?

331
00:14:23,160 --> 00:14:24,840
Again, Nicki and I are both resources

332
00:14:24,840 --> 00:14:25,830
that you could reach out to.

333
00:14:25,830 --> 00:14:28,200
We'll have contact information as well.

334
00:14:28,200 --> 00:14:32,250
We're in direct connection
with the .NET AWS team as well.

335
00:14:32,250 --> 00:14:33,900
They are looking for feedback too

336
00:14:33,900 --> 00:14:38,130
on how you are going to want
to use this directly with AWS.

337
00:14:38,130 --> 00:14:40,980
And as I said, there's a GitHub repo

338
00:14:40,980 --> 00:14:43,333
that you can go open issues
yourself if you want to do that.

339
00:14:43,333 --> 00:14:45,090
- [Nicki] Or you can even open a PR

340
00:14:45,090 --> 00:14:46,650
if you really feel so inclined.

341
00:14:46,650 --> 00:14:49,590
- [AM] Well that's aspirational,

342
00:14:49,590 --> 00:14:51,093
but yes, please do that.

343
00:14:52,020 --> 00:14:55,920
Anyway, so what is the difference
between Agent Framework

344
00:14:55,920 --> 00:14:57,780
and Semantic Kernel?

345
00:14:57,780 --> 00:15:00,660
I think that's yet to be fully realized.

346
00:15:00,660 --> 00:15:04,140
I think from my usage of it so far,

347
00:15:04,140 --> 00:15:07,290
I can say personally it's a lot simpler.

348
00:15:07,290 --> 00:15:08,790
- [Nicki] Yeah, much simpler.

349
00:15:08,790 --> 00:15:10,530
So you saw Semantic Kernel,

350
00:15:10,530 --> 00:15:12,540
the code snippet had
about 10 lines of code.

351
00:15:12,540 --> 00:15:15,150
Well, we're gonna show you a
Microsoft Agent code snippet

352
00:15:15,150 --> 00:15:17,070
and you'll see it's a lot less.

353
00:15:17,070 --> 00:15:19,470
- [AM] But it offers a lot
of the same functionality

354
00:15:19,470 --> 00:15:22,200
that we just covered in
Semantic Kernel as well.

355
00:15:22,200 --> 00:15:25,230
Obviously has tool calling as well.

356
00:15:25,230 --> 00:15:27,540
Again, we said the beginning of this talk,

357
00:15:27,540 --> 00:15:30,300
that's a pretty foundational
part of building agents.

358
00:15:30,300 --> 00:15:33,030
You have to be able to call up to tools.

359
00:15:33,030 --> 00:15:34,320
It also has the loop.

360
00:15:34,320 --> 00:15:37,080
They're still adding in
more and more capabilities.

361
00:15:37,080 --> 00:15:39,660
They've got capabilities for memory,

362
00:15:39,660 --> 00:15:41,430
both short term and long term.

363
00:15:41,430 --> 00:15:44,460
They've got chat history,
I believe so far.

364
00:15:44,460 --> 00:15:45,409
They've got quite a bit.

365
00:15:45,409 --> 00:15:47,280
- [Nicki] They have
multi turn conversations,

366
00:15:47,280 --> 00:15:49,320
- [AM] Yes, multi turn conversations.

367
00:15:49,320 --> 00:15:51,510
They do not have one-to-one parity

368
00:15:51,510 --> 00:15:54,120
with all of the features
in Semantic Kernel yet,

369
00:15:54,120 --> 00:15:55,050
that I've seen.

370
00:15:55,050 --> 00:15:58,530
So again, this is maybe not something

371
00:15:58,530 --> 00:16:00,630
that you're deploying today,

372
00:16:00,630 --> 00:16:04,170
but it is probably something
you'll be deploying soon.

373
00:16:04,170 --> 00:16:08,520
So it's good to get ahead and
learn about what is coming.

374
00:16:08,520 --> 00:16:10,530
Let's take a look at that code snippet.

375
00:16:10,530 --> 00:16:15,420
As we could mention, Nicki,
this is much simpler.

376
00:16:15,420 --> 00:16:16,253
- [Nicki] Much simpler.

377
00:16:16,253 --> 00:16:19,293
Yeah, you see it's much, much
less lines of code in general,

378
00:16:20,580 --> 00:16:21,690
definitely less.

379
00:16:21,690 --> 00:16:23,310
But here we're doing the same thing.

380
00:16:23,310 --> 00:16:25,378
We're establishing the modelId,

381
00:16:25,378 --> 00:16:27,000
we're obviously getting AWS credentials,

382
00:16:27,000 --> 00:16:29,400
establishing our Bedrock Runtime client

383
00:16:29,400 --> 00:16:31,950
and then passing it, the modelId.

384
00:16:31,950 --> 00:16:34,560
And then we're creating
a new chat client agent.

385
00:16:34,560 --> 00:16:37,020
So that's different from Symantec Kernel,

386
00:16:37,020 --> 00:16:39,540
which is a type of AI
agent, as you can see.

387
00:16:39,540 --> 00:16:40,770
And then I have my message

388
00:16:40,770 --> 00:16:43,860
and then I just call
agent.RunAsync with my message.

389
00:16:43,860 --> 00:16:45,000
And that's it.

390
00:16:45,000 --> 00:16:48,360
And it's really easy to
integrate features into

391
00:16:48,360 --> 00:16:50,880
a Microsoft Agent framework from here.

392
00:16:50,880 --> 00:16:53,250
And it just, it's less
complicated than Semantic Kernel.

393
00:16:53,250 --> 00:16:55,440
So for me, I can't speak
on behalf of Microsoft,

394
00:16:55,440 --> 00:16:58,740
but it feels like Semantic
Kernel was basically like,

395
00:16:58,740 --> 00:17:00,510
let's get something out
the door really fast

396
00:17:00,510 --> 00:17:03,060
because this, you know, this
space is moving really quickly.

397
00:17:03,060 --> 00:17:06,390
And then it feels like this
one, they really thought out

398
00:17:06,390 --> 00:17:08,702
and they thought, how would
a customer be using this?

399
00:17:08,702 --> 00:17:09,960
What easy code,

400
00:17:09,960 --> 00:17:11,400
what's ease of use basically

401
00:17:11,400 --> 00:17:13,230
for writing code for an LLM app.

402
00:17:13,230 --> 00:17:14,760
And so they kind of put it together here,

403
00:17:14,760 --> 00:17:18,330
which obviously it is using
concepts from Semantic Kernel,

404
00:17:18,330 --> 00:17:20,370
but it just feels, it feels smoother.

405
00:17:20,370 --> 00:17:21,603
It feels very easy.

406
00:17:22,770 --> 00:17:23,603
- [AM] Yes.

407
00:17:23,603 --> 00:17:25,740
Yeah, I will point out though,

408
00:17:25,740 --> 00:17:30,740
you don't see any mention
of Bedrock directly, right?

409
00:17:32,520 --> 00:17:35,100
So this is not a native
integration with Bedrock,

410
00:17:35,100 --> 00:17:36,570
like in Semantic Kernel,

411
00:17:36,570 --> 00:17:40,950
this is just a standard
interface you can see

412
00:17:40,950 --> 00:17:43,260
as IChatClient, right?

413
00:17:43,260 --> 00:17:44,850
So this would work with anything

414
00:17:44,850 --> 00:17:48,990
that could implement IChatClient,
which as you can guess,

415
00:17:48,990 --> 00:17:51,060
if you've been following along,

416
00:17:51,060 --> 00:17:55,410
comes from that Microsoft
extensions.ai library, right?

417
00:17:55,410 --> 00:17:57,750
So while there's not native support

418
00:17:57,750 --> 00:17:59,880
like there is in Semantic Kernel,

419
00:17:59,880 --> 00:18:03,381
you can still use Bedrock very easily.

420
00:18:03,381 --> 00:18:07,380
Speaking of, let's get
into some of the AWS tools

421
00:18:07,380 --> 00:18:09,993
and see why you can use it so easily.

422
00:18:10,830 --> 00:18:15,830
We will speak on our implementation

423
00:18:16,800 --> 00:18:18,660
of that library now.

424
00:18:18,660 --> 00:18:22,443
So again, like I said at the beginning,

425
00:18:23,280 --> 00:18:28,230
the Microsoft extensions.ai
are just abstractions,

426
00:18:28,230 --> 00:18:29,520
not concrete classes.

427
00:18:29,520 --> 00:18:33,003
They don't have concrete implementations.

428
00:18:34,140 --> 00:18:36,780
You have to build those as a provider.

429
00:18:36,780 --> 00:18:40,410
And we have, we've built the Bedrock MEAI,

430
00:18:40,410 --> 00:18:44,880
which stands for Microsoft Extensions AI,

431
00:18:44,880 --> 00:18:46,830
very creative, right?

432
00:18:46,830 --> 00:18:48,660
It says what it does on the tin.

433
00:18:48,660 --> 00:18:51,600
Anyway, so you get a few
things out of that, right?

434
00:18:51,600 --> 00:18:53,850
You can use the embedding generator,

435
00:18:53,850 --> 00:18:56,070
you don't have to set that up yourself.

436
00:18:56,070 --> 00:18:57,640
An image generator

437
00:18:58,590 --> 00:19:01,860
that also does not take extra setup.

438
00:19:01,860 --> 00:19:05,940
So inside of our project

439
00:19:05,940 --> 00:19:10,380
that is using Agent Framework,
Microsoft Agent Framework,

440
00:19:10,380 --> 00:19:15,000
we are also pulling in
as a dependency package

441
00:19:15,000 --> 00:19:16,560
this library, right?

442
00:19:16,560 --> 00:19:17,393
Because again,

443
00:19:17,393 --> 00:19:22,100
I said none of the Microsoft
Agent Framework code itself

444
00:19:23,100 --> 00:19:26,280
has implemented any of
the Bedrock features yet.

445
00:19:26,280 --> 00:19:27,840
If you're using Semantic Kernel,

446
00:19:27,840 --> 00:19:30,120
you don't necessarily have
to pull in this package.

447
00:19:30,120 --> 00:19:32,820
Semantic Kernel has built in support

448
00:19:32,820 --> 00:19:35,343
for Bedrock in the code itself.

449
00:19:36,630 --> 00:19:38,100
And here's the code.

450
00:19:38,100 --> 00:19:41,550
If you wanted to use just this, right?

451
00:19:41,550 --> 00:19:45,183
Just the MEAI package itself.

452
00:19:46,140 --> 00:19:48,510
This is just doing the exact same thing

453
00:19:48,510 --> 00:19:50,760
we've been doing in
all the other examples,

454
00:19:50,760 --> 00:19:52,080
connecting to an LLM,

455
00:19:52,080 --> 00:19:54,030
sending in a prompt, getting a response.

456
00:19:54,030 --> 00:19:55,462
- [Nicki] Key thing to note here though,

457
00:19:55,462 --> 00:19:56,295
is that this example is actually

458
00:19:56,295 --> 00:19:58,980
not using Microsoft Semantic Kernel

459
00:19:58,980 --> 00:20:00,080
or Microsoft Agent Framework.
- Right.

460
00:20:00,080 --> 00:20:04,083
- [Nicki] It is just using
the extensions AI interfaces

461
00:20:04,083 --> 00:20:06,873
as implemented by MEAI.

462
00:20:07,800 --> 00:20:08,850
Our extension, basically.

463
00:20:08,850 --> 00:20:11,400
- [AM] That's right. No
loop, no function calling.

464
00:20:11,400 --> 00:20:15,300
This is at its basic, I
just want to talk to an LLM.

465
00:20:15,300 --> 00:20:16,800
That's it.

466
00:20:16,800 --> 00:20:21,720
All right, let's talk about the AWS tools

467
00:20:21,720 --> 00:20:26,220
that you might use in
addition to these frameworks.

468
00:20:26,220 --> 00:20:28,860
So this is where we
kind of shift, I'd say,

469
00:20:28,860 --> 00:20:30,630
into talking less about,

470
00:20:30,630 --> 00:20:34,980
I'm building the software
that's gonna run an agent into,

471
00:20:34,980 --> 00:20:37,500
I need infrastructure to run that agent.

472
00:20:37,500 --> 00:20:40,860
Nicki, you wanna, you use
Amazon Bedrock quite a bit?

473
00:20:40,860 --> 00:20:43,500
- [Nicki] Yes, so we've
been talking about Bedrock,

474
00:20:43,500 --> 00:20:45,060
you know, for how many slides now,

475
00:20:45,060 --> 00:20:46,500
but we haven't actually
told you what it is.

476
00:20:46,500 --> 00:20:48,480
And if you're not familiar,

477
00:20:48,480 --> 00:20:53,280
Amazon Bedrock is our AWS
cloud service that provides,

478
00:20:53,280 --> 00:20:55,620
you know, fully functioning models

479
00:20:55,620 --> 00:20:59,400
and optimizations to app developers.

480
00:20:59,400 --> 00:21:02,370
So, you know, we probably
are familiar with SageMaker.

481
00:21:02,370 --> 00:21:05,700
SageMaker is our traditional ML service

482
00:21:05,700 --> 00:21:07,860
where you can train a model

483
00:21:07,860 --> 00:21:09,900
and you can do data transformation
and all kinds of things.

484
00:21:09,900 --> 00:21:12,090
But if I just want an LLM today,

485
00:21:12,090 --> 00:21:13,110
I don't wanna train anything.

486
00:21:13,110 --> 00:21:14,730
I wanna use one of Anthropic's models,

487
00:21:14,730 --> 00:21:17,550
or maybe I wanna use Nova, Amazon's model,

488
00:21:17,550 --> 00:21:18,383
where am I gonna go?

489
00:21:18,383 --> 00:21:19,770
I'm gonna go to Amazon Bedrock.

490
00:21:19,770 --> 00:21:22,260
So I feel like it's really
for the app developer.

491
00:21:22,260 --> 00:21:25,920
And in that same vein,
we launched AgentCore.

492
00:21:25,920 --> 00:21:26,910
What is AgentCore?

493
00:21:26,910 --> 00:21:29,940
Well, AgentCore just takes
that even one step further

494
00:21:29,940 --> 00:21:32,940
and is offering a ton of
serverless infrastructure

495
00:21:32,940 --> 00:21:35,430
for you to basically run your LLM app.

496
00:21:35,430 --> 00:21:37,710
So we have Runtime, what is Runtime?

497
00:21:37,710 --> 00:21:41,100
Runtime is going to run my LLM application

498
00:21:41,100 --> 00:21:42,990
inside of a container for me.

499
00:21:42,990 --> 00:21:44,310
I don't have to really do anything.

500
00:21:44,310 --> 00:21:46,549
I just have to basically
provide an ECR image

501
00:21:46,549 --> 00:21:48,810
for my container

502
00:21:48,810 --> 00:21:50,190
and then it will
basically handle the rest.

503
00:21:50,190 --> 00:21:52,440
So I'm not doing any of the maintenance,

504
00:21:52,440 --> 00:21:54,720
I'm not doing any of the
scaling, I'm doing nothing.

505
00:21:54,720 --> 00:21:56,790
Runtime's doing it all for me.

506
00:21:56,790 --> 00:22:00,030
Gateway, Gateway is
providing my LLM application

507
00:22:00,030 --> 00:22:02,130
access to functions inside of AWS.

508
00:22:02,130 --> 00:22:06,630
So Lambda functions or other
APIs that you might have.

509
00:22:06,630 --> 00:22:08,010
And then there's memory.

510
00:22:08,010 --> 00:22:10,290
So we have short-term
memory and long-term memory,

511
00:22:10,290 --> 00:22:13,110
and it'll basically stand
up another container

512
00:22:13,110 --> 00:22:15,630
where it can serve memory
to your LLM application.

513
00:22:15,630 --> 00:22:17,610
We have observability default,

514
00:22:17,610 --> 00:22:19,680
basically functionality
built into CloudWatch.

515
00:22:19,680 --> 00:22:21,210
So when you're running your Runtime,

516
00:22:21,210 --> 00:22:23,850
you will have your container
logs in CloudWatch.

517
00:22:23,850 --> 00:22:27,510
Identity is going to be
access to authorization

518
00:22:27,510 --> 00:22:29,460
and authentication via Kognito.

519
00:22:29,460 --> 00:22:32,310
And then code interpreter,
that's a really cool one.

520
00:22:32,310 --> 00:22:33,810
That's basically running code

521
00:22:33,810 --> 00:22:36,090
in an isolated sandbox for you.

522
00:22:36,090 --> 00:22:38,880
And then Browser Tool is
giving your LLM access

523
00:22:38,880 --> 00:22:40,800
to a web browser.

524
00:22:40,800 --> 00:22:43,290
- [AM] And today we've got
a project that we built

525
00:22:43,290 --> 00:22:47,130
that we're going to show
off specifically Runtime,

526
00:22:47,130 --> 00:22:48,930
Gateway and Code Interpreter.

527
00:22:48,930 --> 00:22:51,750
So I wanted to give you a
little bit more information

528
00:22:51,750 --> 00:22:55,080
about these three aspects of AgentCore.

529
00:22:55,080 --> 00:22:57,000
Nicki gave a great overview.

530
00:22:57,000 --> 00:23:01,443
Runtime is where your actual
agent code will get deployed.

531
00:23:02,430 --> 00:23:05,130
So again, this is another thing

532
00:23:05,130 --> 00:23:06,990
that I'm gonna implore you all

533
00:23:06,990 --> 00:23:10,110
and there is no GitHub repo
this time to open an issue.

534
00:23:10,110 --> 00:23:12,813
So you will have to talk to me or Nicki.

535
00:23:14,250 --> 00:23:18,107
We would love to hear how
you want to use AgentCore.

536
00:23:18,107 --> 00:23:21,510
'Cause right now, most of the support

537
00:23:21,510 --> 00:23:24,390
for using AgentCore
without setting up a lot

538
00:23:24,390 --> 00:23:27,630
of things yourself as
you will see in our code,

539
00:23:27,630 --> 00:23:30,210
is done in Python.

540
00:23:30,210 --> 00:23:33,720
So Python has a lot of
decorators, some libraries,

541
00:23:33,720 --> 00:23:35,910
I'm sure I see some
heads nodding out there.

542
00:23:35,910 --> 00:23:37,440
Maybe you've already looked into this

543
00:23:37,440 --> 00:23:40,320
and gone, wait a minute, I have
to build all this, hold on.

544
00:23:40,320 --> 00:23:44,280
Okay, so we're gonna see,
I'll walk you through,

545
00:23:44,280 --> 00:23:46,320
I did some discovery,

546
00:23:46,320 --> 00:23:49,020
there's some things that I can
point out about if you wanted

547
00:23:49,020 --> 00:23:54,020
to run .NET code in AgentCore
Runtime today, you can do it.

548
00:23:54,780 --> 00:23:57,960
I'll show you how, but I
wanna make that easier for you

549
00:23:57,960 --> 00:24:01,320
and I want to hear what you
want from that too as well.

550
00:24:01,320 --> 00:24:02,760
So please feel free to share that.

551
00:24:02,760 --> 00:24:06,240
But this is a very interesting service.

552
00:24:06,240 --> 00:24:09,150
It runs on Firecracker,
which we're gonna see.

553
00:24:09,150 --> 00:24:11,643
So it is an isolated microVM.

554
00:24:12,570 --> 00:24:16,770
It gets invoked in two ways.

555
00:24:16,770 --> 00:24:20,880
It is when you deploy
your Code to Runtime,

556
00:24:20,880 --> 00:24:23,460
there is a API endpoint that you need

557
00:24:23,460 --> 00:24:26,040
to implement called Ping, which,

558
00:24:26,040 --> 00:24:27,573
any guesses what that does?

559
00:24:28,730 --> 00:24:29,563
(audience laughs)
There you go.

560
00:24:29,563 --> 00:24:31,260
Yeah, it will ping the service

561
00:24:31,260 --> 00:24:32,790
to make sure it's healthy.

562
00:24:32,790 --> 00:24:35,700
Then there is a /invocations.

563
00:24:35,700 --> 00:24:39,330
So you are not actually
going to interact directly

564
00:24:39,330 --> 00:24:43,350
with your agent running in Runtime.

565
00:24:43,350 --> 00:24:46,770
You are going to have the prompt sent

566
00:24:46,770 --> 00:24:50,040
through another SDK call in the AWS SDK

567
00:24:50,040 --> 00:24:52,260
called InvokeAgent, right?

568
00:24:52,260 --> 00:24:54,960
And then that in turn passes on

569
00:24:54,960 --> 00:24:59,430
to your agent code running in Runtime,

570
00:24:59,430 --> 00:25:02,130
which then invokes this /invocation.

571
00:25:02,130 --> 00:25:04,080
So it'll look a lot clearer in the code.

572
00:25:04,080 --> 00:25:06,390
- [Nicki] So if you had like
a UI basically with a chatbot

573
00:25:06,390 --> 00:25:09,060
and you're interacting, your
UI is going to use the SDK

574
00:25:09,060 --> 00:25:10,560
to call InvokeAgent.

575
00:25:10,560 --> 00:25:13,293
It's not going to call like
an API endpoint directly.

576
00:25:14,610 --> 00:25:17,760
- [AM] And this is just
a architecture slide

577
00:25:17,760 --> 00:25:21,060
of how Runtime is operating the things

578
00:25:21,060 --> 00:25:22,533
that I just described to you.

579
00:25:23,550 --> 00:25:26,820
So it is a container based service.

580
00:25:26,820 --> 00:25:31,590
You will build a an ARM
container specifically

581
00:25:31,590 --> 00:25:35,910
and it gets uploaded into ECR,

582
00:25:35,910 --> 00:25:39,150
which in turn goes and deploys on Runtime.

583
00:25:39,150 --> 00:25:41,940
And it goes through this cycle of,

584
00:25:41,940 --> 00:25:44,850
if I get a prompt through InvokeAgent,

585
00:25:44,850 --> 00:25:49,230
I send it to /invocations in Runtime.

586
00:25:49,230 --> 00:25:52,620
And whatever you do
inside how you implement

587
00:25:52,620 --> 00:25:55,203
that endpoint, it's up to you.

588
00:25:56,310 --> 00:25:57,960
- [Nicki] That's where
those other frameworks,

589
00:25:57,960 --> 00:25:59,730
so that we talked about,
can really help you out

590
00:25:59,730 --> 00:26:01,200
develop that application.

591
00:26:01,200 --> 00:26:03,210
So that's what we're gonna
show you today with our code

592
00:26:03,210 --> 00:26:05,160
is how to use Semantic Kernel

593
00:26:05,160 --> 00:26:09,239
or Microsoft Agent behind
that invocations endpoint

594
00:26:09,239 --> 00:26:11,910
when you deployed it to AgentCore Runtime.

595
00:26:11,910 --> 00:26:13,200
- [AM] Yeah, and you might be asking,

596
00:26:13,200 --> 00:26:14,220
well, why would I need this?

597
00:26:14,220 --> 00:26:16,560
Why don't I just deploy
it on my own container?

598
00:26:16,560 --> 00:26:18,750
Obviously you can do that as well,

599
00:26:18,750 --> 00:26:21,600
but this handles scaling for you.

600
00:26:21,600 --> 00:26:24,000
It handles session isolation.

601
00:26:24,000 --> 00:26:27,720
So this is a very fun
problem to have to solve

602
00:26:27,720 --> 00:26:29,482
if you have to solve it yourself.

603
00:26:29,482 --> 00:26:33,300
You have to somehow isolate
sessions from one another when

604
00:26:33,300 --> 00:26:36,210
you have users interacting
with your chatbot, right?

605
00:26:36,210 --> 00:26:39,660
You don't want questions from user Nicki

606
00:26:39,660 --> 00:26:42,420
leaking into user AM session.

607
00:26:42,420 --> 00:26:44,626
Even though I would love
to see what Nicki saw.

608
00:26:44,626 --> 00:26:45,750
(Nicki laughs)

609
00:26:45,750 --> 00:26:48,755
- [Nicki] Well maybe you do, I don't know.

610
00:26:48,755 --> 00:26:50,430
- [AM] But, so some of the things you get

611
00:26:50,430 --> 00:26:53,670
are things like session
isolation by using Runtime

612
00:26:53,670 --> 00:26:56,700
and in conjunction identity, right?

613
00:26:56,700 --> 00:26:59,130
Nicki told us about identity earlier too.

614
00:26:59,130 --> 00:27:02,670
All right, let's talk
about AgentCore Gateway.

615
00:27:02,670 --> 00:27:06,900
This is one of my favorite
things in AgentCore.

616
00:27:06,900 --> 00:27:09,123
It's really, really neat.

617
00:27:10,530 --> 00:27:15,150
You don't have to build
an MCP server, right?

618
00:27:15,150 --> 00:27:17,280
That's the the premise of this.

619
00:27:17,280 --> 00:27:19,860
If you already have a REST API

620
00:27:19,860 --> 00:27:24,060
and you've got an open API
spec, you got an MCP server now

621
00:27:24,060 --> 00:27:26,220
if you wanna upload this to Gateway.

622
00:27:26,220 --> 00:27:29,700
All you have to do get that open API spec,

623
00:27:29,700 --> 00:27:32,130
create a target within the Gateway.

624
00:27:32,130 --> 00:27:34,770
This is another really
interesting thing too.

625
00:27:34,770 --> 00:27:37,710
You can have a single Gateway endpoint

626
00:27:37,710 --> 00:27:41,280
serving up multiple MCP servers

627
00:27:41,280 --> 00:27:43,500
and an API is not the only
way you can implement it too.

628
00:27:43,500 --> 00:27:45,233
You can also choose a
lambda function, right?

629
00:27:45,233 --> 00:27:47,850
- Mm hmm.
- To fulfill what you need.

630
00:27:47,850 --> 00:27:51,660
So you get an endpoint for your Gateway.

631
00:27:51,660 --> 00:27:54,720
You can manage things like
API keys that are needed

632
00:27:54,720 --> 00:27:57,930
to invoke your REST API for example.

633
00:27:57,930 --> 00:28:00,870
And you just provide
it targets. That's it.

634
00:28:00,870 --> 00:28:02,280
You got MCP servers.

635
00:28:02,280 --> 00:28:04,050
It's really, really-

636
00:28:04,050 --> 00:28:04,883
- [Nicki] It's real easy.

637
00:28:04,883 --> 00:28:06,660
We actually used it in our example

638
00:28:06,660 --> 00:28:08,550
and we're gonna show you how it works.

639
00:28:08,550 --> 00:28:11,040
- [AM] All right, and there you go.

640
00:28:11,040 --> 00:28:12,660
Same thing.

641
00:28:12,660 --> 00:28:15,750
As I said, you're gonna
have an API endpoint target

642
00:28:15,750 --> 00:28:17,940
that's just gonna manifest then

643
00:28:17,940 --> 00:28:22,410
as tools within the Gateway.

644
00:28:22,410 --> 00:28:24,660
And same with a lambda target.

645
00:28:24,660 --> 00:28:26,940
You just implement it
and then it is exposed

646
00:28:26,940 --> 00:28:29,700
as MCP server tools

647
00:28:29,700 --> 00:28:33,180
that your LLM running in
one of these frameworks

648
00:28:33,180 --> 00:28:35,973
can utilize as a tool call.

649
00:28:37,982 --> 00:28:39,357
Not much there.

650
00:28:39,357 --> 00:28:40,190
- Not much to it.
- There.

651
00:28:40,190 --> 00:28:41,023
- [Nicki] It's pretty simple.

652
00:28:41,023 --> 00:28:43,320
You don't have to build an MCP
server, which I love to hear.

653
00:28:43,320 --> 00:28:45,900
You don't have to build
in any kind of sentence.

654
00:28:45,900 --> 00:28:47,910
AgentCore Code Interpreter.

655
00:28:47,910 --> 00:28:50,570
So I kind of mentioned this
briefly about code running in a,

656
00:28:50,570 --> 00:28:52,440
in an isolated sandbox.

657
00:28:52,440 --> 00:28:54,240
And basically if you can
think about a use case

658
00:28:54,240 --> 00:28:56,400
where the LLM needs to write some code

659
00:28:56,400 --> 00:28:58,290
and run it to give you a response.

660
00:28:58,290 --> 00:28:59,580
So let's say I tell the LLM,

661
00:28:59,580 --> 00:29:01,890
Hey, I want you to read this CSV file

662
00:29:01,890 --> 00:29:04,980
and I want you to calculate
the highest revenue

663
00:29:04,980 --> 00:29:08,130
in XYZ category, which is
relevant to the CSV file.

664
00:29:08,130 --> 00:29:10,980
Well, my LLM needs to go write some code

665
00:29:10,980 --> 00:29:12,780
to extract the contents of that CSV

666
00:29:12,780 --> 00:29:14,190
and then run the calculation.

667
00:29:14,190 --> 00:29:15,750
And so where's it gonna do that?

668
00:29:15,750 --> 00:29:18,810
So it's gonna do that in
AgentCore Code Interpreter.

669
00:29:18,810 --> 00:29:20,040
An AgentCore Code Interpreter

670
00:29:20,040 --> 00:29:22,110
is literally just another container

671
00:29:22,110 --> 00:29:23,640
that the LLM can spin up.

672
00:29:23,640 --> 00:29:25,410
It's an isolated sandbox

673
00:29:25,410 --> 00:29:27,900
so it does not have
outbound internet access.

674
00:29:27,900 --> 00:29:29,400
So everything is secure.

675
00:29:29,400 --> 00:29:32,070
It can basically write
the code, execute it

676
00:29:32,070 --> 00:29:33,570
and spit out a response

677
00:29:33,570 --> 00:29:35,797
and then send you back that response.

678
00:29:35,797 --> 00:29:38,190
You can also give that container,

679
00:29:38,190 --> 00:29:40,020
well you don't have to
set it up, which is nice.

680
00:29:40,020 --> 00:29:41,190
You don't have to do anything,

681
00:29:41,190 --> 00:29:42,480
normally you might have to do that.

682
00:29:42,480 --> 00:29:44,460
So this is another way to like, you know,

683
00:29:44,460 --> 00:29:45,539
do something for you.

684
00:29:45,539 --> 00:29:47,097
'Cause AgentCore is always
about doing things for you

685
00:29:47,097 --> 00:29:48,450
and you don't have to do it,

686
00:29:48,450 --> 00:29:51,120
but also you can give it IAM permissions.

687
00:29:51,120 --> 00:29:52,830
So you can have that container be able

688
00:29:52,830 --> 00:29:55,770
to access something
else in your AWS account

689
00:29:55,770 --> 00:29:57,000
that you needed to access.

690
00:29:57,000 --> 00:29:58,800
So here, if you look at this diagram,

691
00:29:58,800 --> 00:30:01,650
the user is sending a
query, the LLM is invoked

692
00:30:01,650 --> 00:30:04,320
and the LLM goes, wait,
I need to run some code,

693
00:30:04,320 --> 00:30:06,540
and it's going to spin
up this other container,

694
00:30:06,540 --> 00:30:08,850
the Code Interpreter where
it's just a container,

695
00:30:08,850 --> 00:30:10,380
it has a file system and a shell.

696
00:30:10,380 --> 00:30:14,010
It's going to run the code
that it wrote, execute it,

697
00:30:14,010 --> 00:30:15,330
spit out a response.

698
00:30:15,330 --> 00:30:17,508
Obviously you get
observability on this container

699
00:30:17,508 --> 00:30:19,740
that is running via CloudWatch

700
00:30:19,740 --> 00:30:23,070
and then it's gonna send
the result back to the agent

701
00:30:23,070 --> 00:30:24,513
to then give back to you.

702
00:30:25,380 --> 00:30:27,840
- [AM] And some of these
choices of what you use when

703
00:30:27,840 --> 00:30:30,750
come down to, you know, trade-offs

704
00:30:30,750 --> 00:30:33,990
as is everything in
software is trade-offs,

705
00:30:33,990 --> 00:30:36,720
what you wanna do, how you
want to do it, et cetera.

706
00:30:36,720 --> 00:30:39,690
You may be thinking, why don't
I just implement, you know,

707
00:30:39,690 --> 00:30:41,880
in C#, a tool that does the thing

708
00:30:41,880 --> 00:30:45,240
that I'm going, I'm trying
to do in Code Interpreter?

709
00:30:45,240 --> 00:30:47,520
Well, number one, Code Interpreter,

710
00:30:47,520 --> 00:30:50,280
if you notice on the slide
previous, supports Python,

711
00:30:50,280 --> 00:30:52,920
JavaScript, TypeScript currently.

712
00:30:52,920 --> 00:30:55,170
So maybe you need to do something

713
00:30:55,170 --> 00:30:57,057
with a Python library, right?

714
00:30:57,057 --> 00:31:00,120
And you need the LLM to do
that on a regular basis.

715
00:31:00,120 --> 00:31:03,150
We've got an example that
we're using in our project.

716
00:31:03,150 --> 00:31:05,610
One of the other neat things

717
00:31:05,610 --> 00:31:08,700
of code interpreter is
you can include files

718
00:31:08,700 --> 00:31:11,340
alongside the code that runs.

719
00:31:11,340 --> 00:31:14,100
So maybe you're following me here.

720
00:31:14,100 --> 00:31:18,720
You put a CSV alongside
this Code Interpreter.

721
00:31:18,720 --> 00:31:22,140
And then you use statistical
libraries from Python,

722
00:31:22,140 --> 00:31:25,770
which Python has a lot of
built in math and statistics

723
00:31:25,770 --> 00:31:30,150
and data science libraries
that are very commonly used.

724
00:31:30,150 --> 00:31:35,010
You want to do statistical
analysis for a data set

725
00:31:35,010 --> 00:31:37,650
and give permissions to the LLM to do that

726
00:31:37,650 --> 00:31:40,230
as people are prompting the LLM.

727
00:31:40,230 --> 00:31:43,470
You would probably put this
in Code Interpreter, right?

728
00:31:43,470 --> 00:31:45,450
Instead of building a tool to do this.

729
00:31:45,450 --> 00:31:47,310
Not saying you couldn't do that,

730
00:31:47,310 --> 00:31:49,380
you could probably build
a tool like that as well.

731
00:31:49,380 --> 00:31:52,650
But Code Interpreter is
built for things like

732
00:31:52,650 --> 00:31:54,573
what I'm just describing, right?

733
00:31:54,573 --> 00:31:55,530
- Yep.
- Okay,

734
00:31:55,530 --> 00:31:56,580
- [Nicki] Let's show 'em what we built.

735
00:31:56,580 --> 00:31:58,377
- Is it code time?
- It's code time.

736
00:31:58,377 --> 00:32:01,813
- [AM] All right, let me log
in before you, there we go.

737
00:32:03,210 --> 00:32:05,283
Okay, let's see.

738
00:32:06,358 --> 00:32:07,758
- [Nicki] Did that not work?

739
00:32:08,700 --> 00:32:10,050
Okay.

740
00:32:10,050 --> 00:32:10,883
- [AM] Hold on.

741
00:32:15,300 --> 00:32:16,133
Connected.

742
00:32:17,580 --> 00:32:18,413
Try it again.

743
00:32:22,800 --> 00:32:24,510
- [Nicki] Of course.
Technical difficulties.

744
00:32:24,510 --> 00:32:25,343
Love that.

745
00:32:27,060 --> 00:32:28,590
Oh, there it is.

746
00:32:28,590 --> 00:32:29,910
- [AM] You got to threaten it. Thank you.

747
00:32:29,910 --> 00:32:30,743
- Yep. That worked.
- It got scared.

748
00:32:30,743 --> 00:32:33,450
- Thank you. (laughs)
- It got scared.

749
00:32:33,450 --> 00:32:34,680
Decided to work.

750
00:32:34,680 --> 00:32:37,053
All right, we're gonna start slow.

751
00:32:38,400 --> 00:32:40,410
Not for you all, for me.

752
00:32:40,410 --> 00:32:42,780
So we're gonna build up to what we built.

753
00:32:42,780 --> 00:32:44,835
- He always needs it slower, so that's,

754
00:32:44,835 --> 00:32:46,170
- I do.
- That's normal.

755
00:32:46,170 --> 00:32:47,971
- [AM] You know, this
old brain doesn't work

756
00:32:47,971 --> 00:32:50,370
as much as it used to.

757
00:32:50,370 --> 00:32:55,050
All right, so I'm gonna start
off with an example here.

758
00:32:55,050 --> 00:32:57,840
This is using, so weird, you stash.

759
00:32:57,840 --> 00:32:59,357
- [Nicki] I know, this is bizarre.

760
00:32:59,357 --> 00:33:02,040
Do you want me to sit next to
you? Would you feel better?

761
00:33:02,040 --> 00:33:03,600
Oh, but that chair is taller.
- Yeah.

762
00:33:03,600 --> 00:33:06,450
Anyway, all right, moving on. Sorry.

763
00:33:06,450 --> 00:33:09,480
All right, so we're gonna take a look at,

764
00:33:09,480 --> 00:33:10,710
I'll show you here.

765
00:33:10,710 --> 00:33:12,360
Nothing up my sleeve.

766
00:33:12,360 --> 00:33:16,320
I am using the Bedrock.MEAI.

767
00:33:18,300 --> 00:33:20,010
That's tough to say.
- Jesus.

768
00:33:20,010 --> 00:33:21,210
I'm done with the chair.

769
00:33:23,400 --> 00:33:24,233
You know what, I'm not,

770
00:33:24,233 --> 00:33:25,260
I'm not that tall.

771
00:33:25,260 --> 00:33:27,630
So you sitting and me standing, it's fine.

772
00:33:27,630 --> 00:33:28,880
- [AM] And it looks good.

773
00:33:29,910 --> 00:33:33,180
So I'm using the MEAI package
here. That's it, right?

774
00:33:33,180 --> 00:33:37,950
And I wanted to show you,
we saw this in PowerPoint,

775
00:33:37,950 --> 00:33:41,193
but you know, it's not as
fun coding in PowerPoint.

776
00:33:42,150 --> 00:33:44,520
So all that we're doing is instantiating.

777
00:33:44,520 --> 00:33:48,000
This is from the AWS SDK for .NET.

778
00:33:48,000 --> 00:33:49,470
We're sending in a model,

779
00:33:49,470 --> 00:33:52,590
we're using sonnet-4 Anthropic model

780
00:33:52,590 --> 00:33:55,650
and then literally just sending a prompt.

781
00:33:55,650 --> 00:33:56,850
Is this thing on?

782
00:33:56,850 --> 00:34:00,420
And of course it wouldn't
be complete if I did not

783
00:34:00,420 --> 00:34:02,100
got that running.

784
00:34:02,100 --> 00:34:05,460
So I know you're all gonna be like,

785
00:34:05,460 --> 00:34:06,376
- Yes!
- Where are the,

786
00:34:06,376 --> 00:34:07,209
where are the gasps?

787
00:34:07,209 --> 00:34:08,170
Where are the oohs, where are the ahs?

788
00:34:08,170 --> 00:34:09,510
There we go. All right.
(Nicki laughs)

789
00:34:09,510 --> 00:34:10,343
Yeah.

790
00:34:11,550 --> 00:34:13,170
- [Nicki] I don't know if
this one deserves that,

791
00:34:13,170 --> 00:34:14,003
to be honest.

792
00:34:14,003 --> 00:34:14,855
- [AM] No, not yet.

793
00:34:14,855 --> 00:34:16,800
(Nicki laughs)
All right. Okay, sorry.

794
00:34:16,800 --> 00:34:18,650
A little too early for that, I guess.

795
00:34:19,650 --> 00:34:21,570
So that's connecting up to Bedrock,

796
00:34:21,570 --> 00:34:24,900
which in turn is sending our prompt

797
00:34:24,900 --> 00:34:27,330
to this Anthropic model for inference.

798
00:34:27,330 --> 00:34:29,220
And we got the response.

799
00:34:29,220 --> 00:34:33,330
I know. It's amazing.

800
00:34:33,330 --> 00:34:35,013
- So magical.
- It is.

801
00:34:36,270 --> 00:34:38,553
We'll take questions
in the back at the end.

802
00:34:39,540 --> 00:34:40,503
All right!

803
00:34:42,000 --> 00:34:43,830
- [Nicki] This is the next demo.

804
00:34:43,830 --> 00:34:46,050
- [AM] We are going to
start slow again here

805
00:34:46,050 --> 00:34:49,440
with our two Microsoft frameworks.

806
00:34:49,440 --> 00:34:53,010
So we've got an example
here in Semantic Kernel

807
00:34:53,010 --> 00:34:56,010
and we've got an example
in Agent Framework.

808
00:34:56,010 --> 00:34:58,680
So this is your typical "Hello World".

809
00:34:58,680 --> 00:35:01,920
Like if you just wanted to
get things connected up,

810
00:35:01,920 --> 00:35:05,520
get a tool call going
and and see it working.

811
00:35:05,520 --> 00:35:07,230
Do you wanna talk through Semantic Kernel

812
00:35:07,230 --> 00:35:08,430
or Agent Framework?

813
00:35:08,430 --> 00:35:10,140
- [Nicki] Let's go to
Semantic Kernel first.

814
00:35:10,140 --> 00:35:12,930
- [AM] Okay. All right.

815
00:35:12,930 --> 00:35:15,600
- [Nicki] So I mean, we
saw this in the PowerPoint,

816
00:35:15,600 --> 00:35:17,400
but you know, it's always better live

817
00:35:17,400 --> 00:35:19,470
'cause we're actually gonna see it run.

818
00:35:19,470 --> 00:35:20,640
The only thing different here

819
00:35:20,640 --> 00:35:22,230
from the code snippet you saw earlier

820
00:35:22,230 --> 00:35:24,300
is I'm actually adding a plugin,

821
00:35:24,300 --> 00:35:27,221
which I mentioned were
functions that I can call

822
00:35:27,221 --> 00:35:31,140
to give the LLM more tools in its toolbox.

823
00:35:31,140 --> 00:35:33,750
And this one is a date
plugin that we wrote

824
00:35:33,750 --> 00:35:36,120
because LLMs can't tell time, we all know,

825
00:35:36,120 --> 00:35:39,120
and all it does is just
give the LLM the date.

826
00:35:39,120 --> 00:35:42,300
So if the prompt is, what is the date,

827
00:35:42,300 --> 00:35:45,663
the LLM can then invoke the DatePlugin,

828
00:35:46,620 --> 00:35:48,660
you know, well Semantic
Kernel helps the LLM

829
00:35:48,660 --> 00:35:50,280
then use that tool.

830
00:35:50,280 --> 00:35:53,012
- [AM] Yeah, I wanna point
out a few things here too.

831
00:35:53,012 --> 00:35:56,670
Kernel, right, this class kernel,

832
00:35:56,670 --> 00:35:58,980
this is at the heart of Semantic Kernel.

833
00:35:58,980 --> 00:36:02,430
This is setting up the actual agent loop,

834
00:36:02,430 --> 00:36:03,960
the function calls.

835
00:36:03,960 --> 00:36:08,220
This is how you start any usage

836
00:36:08,220 --> 00:36:11,430
of Semantic Kernel in any code you write.

837
00:36:11,430 --> 00:36:14,242
If you are building this into
a web service, for example,

838
00:36:14,242 --> 00:36:17,100
Microsoft in its
documentation recommends using

839
00:36:17,100 --> 00:36:20,910
a transient service for each invocation

840
00:36:20,910 --> 00:36:24,480
because they built it in a
way that's very lightweight.

841
00:36:24,480 --> 00:36:25,710
You know, standing up a new one

842
00:36:25,710 --> 00:36:28,863
is not intensive on resources.

843
00:36:30,180 --> 00:36:34,689
This is a native support
built into Semantic Kernel.

844
00:36:34,689 --> 00:36:35,790
- [Nicki] So you see in this example,

845
00:36:35,790 --> 00:36:39,210
we are not invoking the
Bedrock Runtime client

846
00:36:39,210 --> 00:36:40,740
because we don't actually need to,

847
00:36:40,740 --> 00:36:43,500
because Semantic Kernel is doing it for us

848
00:36:43,500 --> 00:36:45,030
with this native support.

849
00:36:45,030 --> 00:36:45,870
- Right?
- All we have to do

850
00:36:45,870 --> 00:36:47,070
is give it the modelId.

851
00:36:47,070 --> 00:36:51,720
- [AM] Yes, and as Nicki
mentioned, we have a DatePlugin.

852
00:36:51,720 --> 00:36:53,700
This will be another divergence

853
00:36:53,700 --> 00:36:57,330
that we see when we look at
the Agent Framework example.

854
00:36:57,330 --> 00:37:00,183
This uses these annotations, right?

855
00:37:01,710 --> 00:37:03,750
You don't see this in Agent Framework.

856
00:37:03,750 --> 00:37:06,480
We'll take a look at that example next,

857
00:37:06,480 --> 00:37:09,780
but that's just a little
implementation detail.

858
00:37:09,780 --> 00:37:11,400
Something I thought was very interesting.

859
00:37:11,400 --> 00:37:13,187
The next thing I wanted
to call out too was this

860
00:37:13,187 --> 00:37:14,850
FunctionChoiceBehavior.

861
00:37:14,850 --> 00:37:18,570
This is registering those
plugins with the kernel, right?

862
00:37:18,570 --> 00:37:22,830
So the actual framework
itself needs to know,

863
00:37:22,830 --> 00:37:24,990
how do I use these tools, right?

864
00:37:24,990 --> 00:37:28,830
That's why we have a description
"Gets the current date".

865
00:37:28,830 --> 00:37:31,260
That's up to you to write, by the way.

866
00:37:31,260 --> 00:37:33,210
If you don't write a good
description for your tool,

867
00:37:33,210 --> 00:37:34,728
it's not gonna work very well, so...

868
00:37:34,728 --> 00:37:36,120
(Nicki laughs)

869
00:37:36,120 --> 00:37:37,400
You need that as well

870
00:37:37,400 --> 00:37:41,220
so that the LLM can figure
out which tool does what.

871
00:37:41,220 --> 00:37:44,220
And finally we've got chatHistory.

872
00:37:44,220 --> 00:37:46,350
We're adding a user message.

873
00:37:46,350 --> 00:37:47,430
- [Nicki] That's a distinct difference

874
00:37:47,430 --> 00:37:49,110
between Semantic Kernel, Agent Framework.

875
00:37:49,110 --> 00:37:51,900
You have to create a chatHistory array,

876
00:37:51,900 --> 00:37:53,100
add a message to it,

877
00:37:53,100 --> 00:37:57,060
and then pass that in
when you make the call.

878
00:37:57,060 --> 00:37:58,770
- Let's see, my Program.cs.

879
00:37:58,770 --> 00:38:01,140
Okay, so we've got Semantic Kernel.

880
00:38:01,140 --> 00:38:03,390
You all want see it
running, I'm sure, right?

881
00:38:06,030 --> 00:38:07,770
- [Nicki] Did you pray
to the demo gods today?

882
00:38:07,770 --> 00:38:10,113
- No I didn't.
- That was a mistake.

883
00:38:10,113 --> 00:38:12,780
- [AM] It was, huge mistake.

884
00:38:12,780 --> 00:38:14,130
Oh!
- Oh, it worked!

885
00:38:14,130 --> 00:38:16,860
- [AM] All right, that's, look,

886
00:38:16,860 --> 00:38:19,023
LLMs are really good at a lot of stuff.

887
00:38:20,400 --> 00:38:23,190
It's funny that it says I don't
have access to a function.

888
00:38:23,190 --> 00:38:26,040
It does. LLMs are good at a lot.

889
00:38:26,040 --> 00:38:27,510
- [Nicki] It'll say it gave you the date.

890
00:38:27,510 --> 00:38:28,477
Well no, it's the wrong-

891
00:38:28,477 --> 00:38:29,310
- [AM] It's not big on telling time.

892
00:38:29,310 --> 00:38:33,210
It does know, it does not
know what day it exists in.

893
00:38:33,210 --> 00:38:34,560
I promise you,

894
00:38:34,560 --> 00:38:38,160
if you just ask an LLM what
day it is, it won't know.

895
00:38:38,160 --> 00:38:41,100
But now it does because we allow it to.

896
00:38:41,100 --> 00:38:43,800
So let's move over to Agent Framework

897
00:38:43,800 --> 00:38:45,810
and see the differences, shall we?

898
00:38:45,810 --> 00:38:47,850
- [Nicki] So remember, no
native Bedrock support,

899
00:38:47,850 --> 00:38:51,243
no AWS support really at
all, because it's brand new.

900
00:38:52,110 --> 00:38:52,943
And so you see here,

901
00:38:52,943 --> 00:38:56,040
we have to establish the Bedrock
Runtime client ourselves.

902
00:38:56,040 --> 00:38:58,470
Then we're gonna use our MEAI extensions.

903
00:38:58,470 --> 00:39:00,360
We're gonna turn this
into an iChat client.

904
00:39:00,360 --> 00:39:02,970
So now the Bedrock client
is going to implement

905
00:39:02,970 --> 00:39:06,780
that interface for us using
those lovely extensions

906
00:39:06,780 --> 00:39:08,790
written by the .NET team at AWS.

907
00:39:08,790 --> 00:39:12,240
And then we are going to add the DateTool.

908
00:39:12,240 --> 00:39:13,410
You see how it's very different

909
00:39:13,410 --> 00:39:14,940
how we're adding a tool here.

910
00:39:14,940 --> 00:39:18,030
It's not considered a
plugin. It's called a tool.

911
00:39:18,030 --> 00:39:20,520
And we're adding a list of AI tools

912
00:39:20,520 --> 00:39:22,920
and then we establish our agent,

913
00:39:22,920 --> 00:39:27,920
we pass it our implementation
of IChatClient and our tools.

914
00:39:28,320 --> 00:39:29,580
And then we have a message.

915
00:39:29,580 --> 00:39:31,770
So we don't have a chatHistory array.

916
00:39:31,770 --> 00:39:35,040
And then we can just run
our message asynchronously.

917
00:39:35,040 --> 00:39:37,500
And if you wanted to have
multi turn conversation,

918
00:39:37,500 --> 00:39:39,420
you would have to create a thread object

919
00:39:39,420 --> 00:39:42,660
and pass that thread with the message.

920
00:39:42,660 --> 00:39:45,930
So it's kind of more isolated in this way

921
00:39:45,930 --> 00:39:48,750
in that you can just have a
single prompt and response

922
00:39:48,750 --> 00:39:51,213
and not everything has
to be a conversation.

923
00:39:52,230 --> 00:39:53,367
- [AM] Another thing I wanted to point out

924
00:39:53,367 --> 00:39:57,300
that's very interesting to me
in this new implementation is

925
00:39:57,300 --> 00:40:00,390
you actually can register
an individual function

926
00:40:00,390 --> 00:40:02,850
from a class as well

927
00:40:02,850 --> 00:40:06,450
so that you're seeing this
AIFunctionFactory.Create

928
00:40:06,450 --> 00:40:08,370
instead of registering a type,

929
00:40:08,370 --> 00:40:11,130
for example in Semantic
Kernel, Semantic Kernel,

930
00:40:11,130 --> 00:40:14,520
you can also do things like
add a plugin by object.

931
00:40:14,520 --> 00:40:18,360
If you need to instantiate
the object yourself,

932
00:40:18,360 --> 00:40:22,200
maybe pass in some parameters
in the constructor,

933
00:40:22,200 --> 00:40:23,700
you know, whatever you need to do.

934
00:40:23,700 --> 00:40:28,320
This actually lets you just do
individual functions as well.

935
00:40:28,320 --> 00:40:31,470
So it's kind of a little
more flexible, I'd say.

936
00:40:31,470 --> 00:40:32,303
- [Nicki] Yep.

937
00:40:33,540 --> 00:40:34,590
- All right.
- And that flexibility

938
00:40:34,590 --> 00:40:36,060
is kind of goes to what
I was saying before,

939
00:40:36,060 --> 00:40:37,470
how Semantic Kernel feels like

940
00:40:37,470 --> 00:40:39,120
they just got something out the door

941
00:40:39,120 --> 00:40:40,110
as things were moving quickly

942
00:40:40,110 --> 00:40:41,550
and Agent Framework,

943
00:40:41,550 --> 00:40:44,400
they really put more thought
into how you would use this.

944
00:40:45,660 --> 00:40:48,580
- [AM] I have to use our
incredibly high tech solution

945
00:40:49,530 --> 00:40:52,080
of commenting out code.

946
00:40:52,080 --> 00:40:54,450
Look at that. Wow.

947
00:40:54,450 --> 00:40:56,040
- [Nicki] This is not the
main event by the way.

948
00:40:56,040 --> 00:40:57,873
This is a precursor.

949
00:41:00,630 --> 00:41:02,670
We just wanted to make sure
you really understood the code

950
00:41:02,670 --> 00:41:06,270
before we jumped into our,
the application that we built.

951
00:41:06,270 --> 00:41:11,160
- [AM] Okay, so you can
see also from this response

952
00:41:11,160 --> 00:41:14,310
a little more aware of
the tools for some reason.

953
00:41:14,310 --> 00:41:15,870
Wish I could tell you why,

954
00:41:15,870 --> 00:41:17,310
the difference between these frameworks,

955
00:41:17,310 --> 00:41:18,840
I can't.

956
00:41:18,840 --> 00:41:22,590
But I like this designation as well.

957
00:41:22,590 --> 00:41:24,690
We asked for the time, right?

958
00:41:24,690 --> 00:41:28,467
The LLM using the,

959
00:41:28,467 --> 00:41:31,080
the actual function that we gave it

960
00:41:31,080 --> 00:41:35,460
as a tool recognizes, I can't
actually tell you the time,

961
00:41:35,460 --> 00:41:37,110
I can only tell you the date.

962
00:41:37,110 --> 00:41:38,550
So it's very specific.

963
00:41:38,550 --> 00:41:43,530
You know, it's tell you
exactly what it can do.

964
00:41:43,530 --> 00:41:45,390
It's still got December 1st.

965
00:41:45,390 --> 00:41:46,620
- [Nicki] Feels a little bit smarter.

966
00:41:46,620 --> 00:41:48,720
- [AM] Wonderful. Okay.

967
00:41:48,720 --> 00:41:50,010
All right.

968
00:41:50,010 --> 00:41:51,750
So I'm gonna move over now

969
00:41:51,750 --> 00:41:56,750
to our favorite Agentic IDE, Hero.

970
00:41:58,230 --> 00:42:01,710
And we're gonna look at a
much larger project now.

971
00:42:01,710 --> 00:42:04,050
- [Nicki] So this project has like,

972
00:42:04,050 --> 00:42:08,010
as you can see from the file explorer,

973
00:42:08,010 --> 00:42:09,330
four things going on.

974
00:42:09,330 --> 00:42:12,360
So the HoroscopeAPI is a lambda function.

975
00:42:12,360 --> 00:42:16,140
We're using Gateway to
communicate with this function

976
00:42:16,140 --> 00:42:19,163
to our LLM applications.

977
00:42:19,163 --> 00:42:21,990
HoroscopeUI is really just an MVC app

978
00:42:21,990 --> 00:42:23,790
that's running a nice beautiful UI

979
00:42:23,790 --> 00:42:26,340
and interacting with AgentCore

980
00:42:26,340 --> 00:42:28,560
via the AWS SDK as we mentioned.

981
00:42:28,560 --> 00:42:31,830
That's how you invoke
your LLM apps deployed

982
00:42:31,830 --> 00:42:32,910
to AgentCore Runtime.

983
00:42:32,910 --> 00:42:34,960
And then the other two
things were in there were

984
00:42:34,960 --> 00:42:36,570
two different LLM apps.

985
00:42:36,570 --> 00:42:38,160
One was Semantic Kernel

986
00:42:38,160 --> 00:42:40,590
and the other one was Microsoft Agent.

987
00:42:40,590 --> 00:42:43,890
And they're both deployed
to AgentCore Runtime.

988
00:42:43,890 --> 00:42:46,020
So if you look inside
of those, which we will,

989
00:42:46,020 --> 00:42:47,850
there will be Docker files there

990
00:42:47,850 --> 00:42:49,320
and there will be a deployment script

991
00:42:49,320 --> 00:42:52,920
that sends that image up to
ECR and then it is deployed.

992
00:42:52,920 --> 00:42:54,930
And there's very specific differences

993
00:42:54,930 --> 00:42:57,750
that make it an AgentCore
Runtime application.

994
00:42:57,750 --> 00:42:59,370
And he kind of mentioned briefly

995
00:42:59,370 --> 00:43:02,160
how you needed a ping endpoint
and an invocations endpoint.

996
00:43:02,160 --> 00:43:04,350
You also needed to run on port 8080.

997
00:43:04,350 --> 00:43:06,480
There's very specific things
that we will make sure

998
00:43:06,480 --> 00:43:08,820
to show you of how to
actually get it running

999
00:43:08,820 --> 00:43:10,083
in AgentCore Runtime.

1000
00:43:11,550 --> 00:43:13,290
- [AM] You all wanna see it
working first though, don't you?

1001
00:43:13,290 --> 00:43:14,839
- Of course!
- Yeah.

1002
00:43:14,839 --> 00:43:18,330
Yeah. And Nicki, you're very
proud of this UI, aren't you?

1003
00:43:18,330 --> 00:43:19,591
- [Nicki] I am very proud of this UI.

1004
00:43:19,591 --> 00:43:23,490
You can switch between the
LLM applications in the UI.

1005
00:43:23,490 --> 00:43:25,230
- [AM] Yeah, look at this.
Look at this feature.

1006
00:43:25,230 --> 00:43:26,130
That's incredible.

1007
00:43:27,360 --> 00:43:30,030
Okay, let's start with Semantic Kernel.

1008
00:43:30,030 --> 00:43:31,950
Semantic Kernel in this project

1009
00:43:31,950 --> 00:43:36,180
has more limited capabilities
that we built into it.

1010
00:43:36,180 --> 00:43:39,990
Then we spent time building
the Agent Framework side.

1011
00:43:39,990 --> 00:43:41,816
So we'll see that.

1012
00:43:41,816 --> 00:43:42,960
- [Nicki] We thought it
would be more important

1013
00:43:42,960 --> 00:43:44,130
because if you were starting to build

1014
00:43:44,130 --> 00:43:45,870
an LLM application today,

1015
00:43:45,870 --> 00:43:47,760
you're not gonna start building
it with Semantic Kernel.

1016
00:43:47,760 --> 00:43:49,170
You're probably gonna
wanna start building it

1017
00:43:49,170 --> 00:43:50,370
with Agent Framework.

1018
00:43:50,370 --> 00:43:51,960
- [AM] Yeah.

1019
00:43:51,960 --> 00:43:55,080
But I also wanted to
demonstrate like, you know,

1020
00:43:55,080 --> 00:43:57,930
if you build something with
different capabilities,

1021
00:43:57,930 --> 00:43:59,640
what does it look like,
et cetera, et cetera.

1022
00:43:59,640 --> 00:44:01,680
So let's start.

1023
00:44:01,680 --> 00:44:04,230
This is a Horoscope
agent, that's all it does.

1024
00:44:04,230 --> 00:44:06,960
It gives us a horoscope.
Unfamiliar with that?

1025
00:44:06,960 --> 00:44:11,190
We all have a zodiac sign dictated to us

1026
00:44:11,190 --> 00:44:13,260
by when we were born.

1027
00:44:13,260 --> 00:44:15,390
It just so happens,

1028
00:44:15,390 --> 00:44:18,870
and you can argue with me in
the back of the room at the end

1029
00:44:18,870 --> 00:44:20,400
that Pisces is the best sign.

1030
00:44:20,400 --> 00:44:21,870
(Nicki laughs)

1031
00:44:21,870 --> 00:44:24,183
It's just the data, I'm sorry.

1032
00:44:25,170 --> 00:44:27,630
- [Nicki] It also just so
happens that we are both Pisces.

1033
00:44:27,630 --> 00:44:30,333
- [AM] I only took a sample
size of me and Nicki.

1034
00:44:31,350 --> 00:44:33,120
So that's where the data came from.

1035
00:44:33,120 --> 00:44:34,770
- [Nicki] Okay, so go,
give us our horoscope.

1036
00:44:34,770 --> 00:44:35,913
I wanna know.

1037
00:44:36,960 --> 00:44:38,710
Are things looking up for me today?

1038
00:44:42,540 --> 00:44:44,760
- [AM] Okay, so we'll use it.

1039
00:44:44,760 --> 00:44:45,593
Let's see.

1040
00:44:49,890 --> 00:44:53,077
Okay, "Today brings a wave
of creative inspiration,

1041
00:44:53,077 --> 00:44:53,910
"dear Pisces."

1042
00:44:53,910 --> 00:44:55,590
- Wow!
- I feel it.

1043
00:44:55,590 --> 00:44:57,907
- I feel it too.
- I feel it in the air.

1044
00:44:57,907 --> 00:45:00,210
"Your intuitive nature's
particularly strong."

1045
00:45:00,210 --> 00:45:03,810
Okay, so I wanna show you
one of the differences

1046
00:45:03,810 --> 00:45:06,217
that we built into our app here.

1047
00:45:06,217 --> 00:45:11,063
"Can I get a horoscope for Pisces

1048
00:45:12,487 --> 00:45:14,520
"for the week?"

1049
00:45:14,520 --> 00:45:17,580
And I didn't spell Pisces
right, it probably won't care,

1050
00:45:17,580 --> 00:45:21,963
but not gonna tempt any fate here.

1051
00:45:26,070 --> 00:45:27,300
Let's see.

1052
00:45:27,300 --> 00:45:29,190
This one might be challenging for it.

1053
00:45:29,190 --> 00:45:30,723
Ah, as you can see,

1054
00:45:30,723 --> 00:45:34,050
- It's the same,
- Exactly the same.

1055
00:45:34,050 --> 00:45:37,530
It does not have capabilities
that we built into it

1056
00:45:37,530 --> 00:45:39,690
for a weekly one.

1057
00:45:39,690 --> 00:45:42,993
However, we will see in Agent Framework

1058
00:45:42,993 --> 00:45:45,480
that we actually gave tools for that.

1059
00:45:45,480 --> 00:45:48,453
So first off, why we
showed you this DatePlugin.

1060
00:45:49,650 --> 00:45:53,430
When you're asking for a
horoscope on a certain day,

1061
00:45:53,430 --> 00:45:54,900
you gotta know what day it is, right?

1062
00:45:54,900 --> 00:45:56,780
You don't want your user to do that.

1063
00:45:56,780 --> 00:45:58,230
So that was the first plugin

1064
00:45:58,230 --> 00:46:02,730
that we gave our Semantic Kernel demo was

1065
00:46:02,730 --> 00:46:03,930
how do I tell what day it is

1066
00:46:03,930 --> 00:46:06,153
when a user asks for a horoscope.

1067
00:46:07,020 --> 00:46:09,150
The next plugin we gave,

1068
00:46:09,150 --> 00:46:09,983
and this is,

1069
00:46:11,400 --> 00:46:15,840
this is actually calling our API directly.

1070
00:46:15,840 --> 00:46:17,370
So as Nicki mentioned,

1071
00:46:17,370 --> 00:46:19,050
and we can look at this depending on time,

1072
00:46:19,050 --> 00:46:20,610
it's not the focus of this talk,

1073
00:46:20,610 --> 00:46:23,640
but I do think it's kind
of an interesting project.

1074
00:46:23,640 --> 00:46:27,570
We built a AWS SAF application,
not familiar with SAF?

1075
00:46:27,570 --> 00:46:30,780
That's our Serverless
Application Framework

1076
00:46:30,780 --> 00:46:33,180
for deploying serverless applications

1077
00:46:33,180 --> 00:46:35,910
a little bit more quickly.

1078
00:46:35,910 --> 00:46:38,029
Anyway, we've got-

1079
00:46:38,029 --> 00:46:39,510
- [Nicki] This is just a lambda function.

1080
00:46:39,510 --> 00:46:41,610
That's all HoroscopeAPI is.

1081
00:46:41,610 --> 00:46:44,190
- [AM] Yes, it's API
Gateway allowed to function

1082
00:46:44,190 --> 00:46:46,590
and a DynamoDB table.

1083
00:46:46,590 --> 00:46:48,300
It also is using Bedrock

1084
00:46:48,300 --> 00:46:51,810
to generate the horoscopes in real time.

1085
00:46:51,810 --> 00:46:56,610
If somebody has asked for a
horoscope already for that day,

1086
00:46:56,610 --> 00:46:59,580
for that sign, it stores it in Dynamo,

1087
00:46:59,580 --> 00:47:02,310
retrieves it from Dynamo
instead of going to Bedrock

1088
00:47:02,310 --> 00:47:04,020
to generate a new one.

1089
00:47:04,020 --> 00:47:08,130
So we actually implemented
in get_Horoscope

1090
00:47:08,130 --> 00:47:10,170
as our tool, our plugin

1091
00:47:10,170 --> 00:47:13,083
as they call it in Semantic Kernel.

1092
00:47:13,950 --> 00:47:16,170
An API call directly.

1093
00:47:16,170 --> 00:47:20,970
So again, a tool can be
anything that .NET code can do.

1094
00:47:20,970 --> 00:47:23,193
You don't have to use MPC-
- MCP.

1095
00:47:24,390 --> 00:47:25,800
- [AM] I do that every time.

1096
00:47:25,800 --> 00:47:27,030
MCP servers.

1097
00:47:27,030 --> 00:47:28,590
You don't have to use that necessarily

1098
00:47:28,590 --> 00:47:30,300
as your tool definitions.

1099
00:47:30,300 --> 00:47:32,190
Anything like we saw,

1100
00:47:32,190 --> 00:47:35,130
our very simple DatePlugin
just gets the date.

1101
00:47:35,130 --> 00:47:36,630
- [Nicki] That's all it does.

1102
00:47:36,630 --> 00:47:39,840
- So this is actually
calling our HoroscopeAPI

1103
00:47:39,840 --> 00:47:41,340
that's deployed.

1104
00:47:41,340 --> 00:47:45,090
We've got, we didn't go
through the API endpoints yet,

1105
00:47:45,090 --> 00:47:49,290
but we do have a daily,
a weekly and a monthly.

1106
00:47:49,290 --> 00:47:53,550
But you can see maybe why an
MCP server in this instance

1107
00:47:53,550 --> 00:47:57,510
would be a little bit
more convenient to use.

1108
00:47:57,510 --> 00:48:00,750
Because I'm gonna have to build a tool

1109
00:48:00,750 --> 00:48:02,880
for each of these endpoints, right?

1110
00:48:02,880 --> 00:48:04,590
I'm gonna have to build a tool for daily

1111
00:48:04,590 --> 00:48:07,830
and build a tool for weekly
and build a tool for monthly.

1112
00:48:07,830 --> 00:48:12,830
That's not true if I'm using
an MCP server, for example.

1113
00:48:13,230 --> 00:48:17,100
I mean you could potentially
build a tool in a way

1114
00:48:17,100 --> 00:48:18,840
that makes it more configurable.

1115
00:48:18,840 --> 00:48:20,340
There's other options as well.

1116
00:48:20,340 --> 00:48:24,450
But MCP, as we're gonna see
in Agent Framework example,

1117
00:48:24,450 --> 00:48:26,310
makes it a lot easier.

1118
00:48:26,310 --> 00:48:29,200
All right, so this is why

1119
00:48:30,840 --> 00:48:33,480
it can't do weekly horoscopes.

1120
00:48:33,480 --> 00:48:34,500
It literally can't.

1121
00:48:34,500 --> 00:48:35,610
It does not have the-

1122
00:48:35,610 --> 00:48:37,170
- [Nicki] It only has access to daily.

1123
00:48:37,170 --> 00:48:38,100
- [AM] That's right.

1124
00:48:38,100 --> 00:48:43,100
Okay, let's take a look and compare.

1125
00:48:45,690 --> 00:48:47,257
So again-
- DateTool.

1126
00:48:47,257 --> 00:48:48,960
- [AM] DateTool, exactly the same.

1127
00:48:48,960 --> 00:48:49,793
We've already seen this.

1128
00:48:49,793 --> 00:48:51,240
I'm gonna skip it.

1129
00:48:51,240 --> 00:48:53,640
Let's look at the HoroscopeTool.

1130
00:48:54,870 --> 00:48:59,820
So if you notice, doing the
same thing I just mentioned,

1131
00:48:59,820 --> 00:49:01,650
what about an MCP server, right?

1132
00:49:01,650 --> 00:49:04,110
I'm not setting up the MCP server here

1133
00:49:04,110 --> 00:49:06,030
because Agent Framework,

1134
00:49:06,030 --> 00:49:10,800
if I go to my Agent.cs
class that I've built here,

1135
00:49:10,800 --> 00:49:12,490
it will actually let you

1136
00:49:14,220 --> 00:49:15,963
take an MCP client,

1137
00:49:17,610 --> 00:49:19,110
use the MCP client

1138
00:49:19,110 --> 00:49:22,020
to list the available
tools based off the input

1139
00:49:22,020 --> 00:49:23,070
that you give it,

1140
00:49:23,070 --> 00:49:27,090
and automatically register those MCP tools

1141
00:49:27,090 --> 00:49:30,423
to the LLM as function calls.

1142
00:49:31,470 --> 00:49:32,303
Right? That-

1143
00:49:32,303 --> 00:49:33,136
- [Nicki] That's pretty freaking cool.

1144
00:49:33,136 --> 00:49:35,640
- [AM] All that's doing,
this tools.AddRange.

1145
00:49:35,640 --> 00:49:39,060
So we saw this already, AIFunctionFactory.

1146
00:49:39,060 --> 00:49:41,183
- [Nicki] You see he's adding
a bunch of tools, DateTool,

1147
00:49:41,183 --> 00:49:44,520
AnalysisTool, HoroscopeTool

1148
00:49:44,520 --> 00:49:45,750
and then the other one.

1149
00:49:45,750 --> 00:49:48,360
So he's adding specific
functions in the HoroscopeTool.

1150
00:49:48,360 --> 00:49:49,620
There was two functions.

1151
00:49:49,620 --> 00:49:50,580
One to get your horoscope,

1152
00:49:50,580 --> 00:49:52,890
the other one to get the
different Zodiac signs.

1153
00:49:52,890 --> 00:49:55,590
- [AM] That's right,
but with my MCP tools,

1154
00:49:55,590 --> 00:49:58,455
like we can keep looking at this.

1155
00:49:58,455 --> 00:50:02,550
I'm actually doing a ListToolsAsync
and I've set up, okay.

1156
00:50:02,550 --> 00:50:03,750
You'll have to trust me.

1157
00:50:03,750 --> 00:50:05,640
I can show you if you want later,

1158
00:50:05,640 --> 00:50:07,740
but you have to trust me in this demo,

1159
00:50:07,740 --> 00:50:10,440
I've set up AgentCore Gateway

1160
00:50:10,440 --> 00:50:15,440
with an open API spec that
points to that HoroscopeAPI

1161
00:50:16,560 --> 00:50:20,670
and takes all of those endpoints,
weekly, daily, monthly,

1162
00:50:20,670 --> 00:50:24,780
and provides them as MCP tools

1163
00:50:24,780 --> 00:50:26,910
in that MCP server.

1164
00:50:26,910 --> 00:50:31,910
So as I connect up to that MCP server,

1165
00:50:32,850 --> 00:50:34,080
I can use,

1166
00:50:34,080 --> 00:50:39,000
and this is just a standard
MCP client library in .NET.

1167
00:50:39,000 --> 00:50:41,280
It's the one that everybody uses.

1168
00:50:41,280 --> 00:50:45,131
I make a call to the MCP server.

1169
00:50:45,131 --> 00:50:47,243
(Nicki laughs)
Do it every time, every time.

1170
00:50:48,390 --> 00:50:51,660
Make a call to it to
list the available tools.

1171
00:50:51,660 --> 00:50:56,070
It has my daily, my weekly,
and my monthly available to me.

1172
00:50:56,070 --> 00:50:57,423
We can actually go look.

1173
00:50:58,260 --> 00:50:59,760
Shall we switch?
- Let's do it.

1174
00:50:59,760 --> 00:51:01,560
- [AM] You gave me this beautiful UI

1175
00:51:01,560 --> 00:51:02,803
that lets me switch

1176
00:51:02,803 --> 00:51:03,636
(Nicki laughs)
and show people.

1177
00:51:03,636 --> 00:51:04,995
Thank you.
- (laughs) You're welcome.

1178
00:51:04,995 --> 00:51:05,828
- [AM] All right.

1179
00:51:05,828 --> 00:51:07,383
So I'll ask the same question.

1180
00:51:08,850 --> 00:51:10,053
I'll even copy-paste.

1181
00:51:11,730 --> 00:51:12,990
- [Nicki] Wow, how lazy of you.

1182
00:51:12,990 --> 00:51:14,100
- Exactly.
(Nicki laughs)

1183
00:51:14,100 --> 00:51:15,393
DAS developers are lazy.

1184
00:51:20,160 --> 00:51:20,993
All right.

1185
00:51:20,993 --> 00:51:23,220
"Can I get a horoscope
for Pisces for the week?"

1186
00:51:23,220 --> 00:51:26,850
Now we're on our Agent
Framework implementation.

1187
00:51:26,850 --> 00:51:27,873
It should work.

1188
00:51:29,310 --> 00:51:30,143
- [Nicki] Well, you didn't pray

1189
00:51:30,143 --> 00:51:32,103
to any of the gods today, so I don't know.

1190
00:51:32,970 --> 00:51:34,560
Oh, here's your weekly horoscope.

1191
00:51:34,560 --> 00:51:36,457
- There it is.
- Bingo.

1192
00:51:36,457 --> 00:51:39,457
- [AM] "This week brings a
powerful wave of intuitive energy

1193
00:51:39,457 --> 00:51:41,006
"your way, dear Pisces".

1194
00:51:41,006 --> 00:51:42,706
- [Nicki] (laughs) I feel like that.

1195
00:51:42,706 --> 00:51:44,915
- Do you feel the wave?
- I feel the wave.

1196
00:51:44,915 --> 00:51:46,410
(laughs) It's really strong.

1197
00:51:46,410 --> 00:51:47,243
- [AM] You can see it.

1198
00:51:47,243 --> 00:51:50,580
And also is calculating the week for us.

1199
00:51:50,580 --> 00:51:54,120
That's part of the API
capabilities as well.

1200
00:51:54,120 --> 00:51:58,440
I can even ask, should we do another sign?

1201
00:51:58,440 --> 00:51:59,460
- [Nicki] Yeah, sure.

1202
00:51:59,460 --> 00:52:00,870
What's your second favorite sign?

1203
00:52:00,870 --> 00:52:03,360
Oh, Scorpio! Do Scorpio.

1204
00:52:03,360 --> 00:52:04,800
- Why?
- Because it's another

1205
00:52:04,800 --> 00:52:05,820
water sign.

1206
00:52:05,820 --> 00:52:07,457
- [AM] It's another water, I
was gonna do Cancer because-

1207
00:52:07,457 --> 00:52:09,300
- [Nicki] Oh, do Cancer. Okay, do Cancer.

1208
00:52:09,300 --> 00:52:10,150
- [AM] All right.

1209
00:52:11,107 --> 00:52:12,280
"Give me

1210
00:52:13,627 --> 00:52:16,807
"a horoscope for Cancer

1211
00:52:16,807 --> 00:52:18,207
"for the month."

1212
00:52:21,450 --> 00:52:24,960
As this loads, I'll as an aside say

1213
00:52:24,960 --> 00:52:28,020
I'm very aggressive
with LLMs versus Nicki.

1214
00:52:28,020 --> 00:52:31,590
Nicki puts like, please and
thank you and things in.

1215
00:52:31,590 --> 00:52:32,423
I'm more aggressive.

1216
00:52:32,423 --> 00:52:35,010
- [Nicki] He's like very
demanding with his LLM commands.

1217
00:52:35,010 --> 00:52:36,960
- [AM] All right, what's going on

1218
00:52:36,960 --> 00:52:39,097
in the month of December for Cancer?

1219
00:52:39,097 --> 00:52:42,187
"This month brings you a
wave of emotional clarity

1220
00:52:42,187 --> 00:52:44,310
"and intuitive insights for you."

1221
00:52:44,310 --> 00:52:46,413
- Hmm.
- More waves.

1222
00:52:47,580 --> 00:52:48,413
A lot of waves.

1223
00:52:48,413 --> 00:52:49,830
- [Nicki] Do you feel like
that's coming from Taylor

1224
00:52:49,830 --> 00:52:50,663
right now?

1225
00:52:50,663 --> 00:52:53,643
- [AM] Yeah, Taylor I think
is having emotional clarity.

1226
00:52:54,900 --> 00:52:57,060
She does have natural nurturing abilities.

1227
00:52:57,060 --> 00:52:58,653
So, okay, we're right on.

1228
00:52:58,653 --> 00:53:00,450
This is great.
- Works.

1229
00:53:00,450 --> 00:53:03,000
- [AM] Okay, what else
should we talk about, Nicki?

1230
00:53:04,054 --> 00:53:04,887
- [Nicki] I don't know,

1231
00:53:04,887 --> 00:53:06,570
if you just wanna show
quickly in the MVC app

1232
00:53:06,570 --> 00:53:08,673
how we're invoking the Runtime?

1233
00:53:10,107 --> 00:53:12,000
AgentCore Runtime in the MVC app?

1234
00:53:12,000 --> 00:53:14,370
- [AM] Yes, I did wanna
show that. Thank you.

1235
00:53:14,370 --> 00:53:18,240
So we mentioned right
in AgentCore Runtime,

1236
00:53:18,240 --> 00:53:19,650
or do you want to take this?

1237
00:53:19,650 --> 00:53:20,850
- [Nicki] We mentioned that we have to,

1238
00:53:20,850 --> 00:53:24,510
if we deploy an LLM application
to AgentCore Runtime,

1239
00:53:24,510 --> 00:53:27,000
we do not call it like
via normal API call.

1240
00:53:27,000 --> 00:53:31,590
We actually use the AWS SDK
and this is very specific.

1241
00:53:31,590 --> 00:53:33,540
There are multiple SDKs for Bedrock.

1242
00:53:33,540 --> 00:53:37,200
So I made this mistake, but
it's not the Bedrock SDK

1243
00:53:37,200 --> 00:53:38,670
or the Bedrock Runtime SDK.

1244
00:53:38,670 --> 00:53:42,300
It is literally Bedrock Runtime AgentCore,

1245
00:53:42,300 --> 00:53:43,260
I think is what it's called.

1246
00:53:43,260 --> 00:53:44,430
- [AM] Here we are.

1247
00:53:44,430 --> 00:53:46,620
- [Nicki] Or is it Bedrock AgentCore?

1248
00:53:46,620 --> 00:53:48,810
- Where are-
- It's super specific.

1249
00:53:48,810 --> 00:53:50,670
You can easily get it wrong.

1250
00:53:50,670 --> 00:53:54,030
And so that's how you invoke the Runtime.

1251
00:53:54,030 --> 00:53:56,670
You might wanna also show the container

1252
00:53:56,670 --> 00:54:00,030
running on port 8080 and
having the invocations endpoint

1253
00:54:00,030 --> 00:54:02,280
'cause that's very specific to Runtime.

1254
00:54:02,280 --> 00:54:07,280
- [AM] So here's the actual
AWS SDK for .NET code

1255
00:54:07,530 --> 00:54:10,560
that invokes your agent within a Runtime.

1256
00:54:10,560 --> 00:54:13,410
So we have a RuntimeRequest object here.

1257
00:54:13,410 --> 00:54:14,873
We're giving it the RuntimeArn,

1258
00:54:15,780 --> 00:54:18,330
you don't know Arn, Amazon
Resource Name, right?

1259
00:54:18,330 --> 00:54:20,280
This is the actual identifier

1260
00:54:20,280 --> 00:54:23,160
of your resource running
in your AWS account.

1261
00:54:23,160 --> 00:54:24,990
We give it a SessionId.

1262
00:54:24,990 --> 00:54:27,360
Remember when I said Runtime allows you

1263
00:54:27,360 --> 00:54:29,940
to do session isolation?

1264
00:54:29,940 --> 00:54:30,870
There you go.

1265
00:54:30,870 --> 00:54:33,180
So if you give it a new SessionId,

1266
00:54:33,180 --> 00:54:36,480
that's gonna create a new
session for every invocation.

1267
00:54:36,480 --> 00:54:38,640
You can reuse the same SessionId

1268
00:54:38,640 --> 00:54:42,030
to invoke a prompt in the same session.

1269
00:54:42,030 --> 00:54:46,590
So you would connect this
perhaps with AgentCore Identity

1270
00:54:46,590 --> 00:54:50,670
or you could do your own,
roll your own, right?

1271
00:54:50,670 --> 00:54:53,881
Manage the SessionIds yourself, up to you.

1272
00:54:53,881 --> 00:54:56,580
And finally the payload
is literally the prompt.

1273
00:54:56,580 --> 00:54:59,010
Okay, what am I gonna ask AgentCore?

1274
00:54:59,010 --> 00:55:03,350
And we just do
InvokeAagentRuntimeAsync, that's it.

1275
00:55:03,350 --> 00:55:06,180
And then it sends us back a message.

1276
00:55:06,180 --> 00:55:08,980
We do some string reading

1277
00:55:10,020 --> 00:55:13,289
and JSON serialization.

1278
00:55:13,289 --> 00:55:15,639
- [Nicki] And deserialization.

1279
00:55:15,639 --> 00:55:17,907
- [AM] Yes, deserialization. Sorry.

1280
00:55:17,907 --> 00:55:20,247
And...
- And that's it.

1281
00:55:20,247 --> 00:55:23,100
And then the container is very specific.

1282
00:55:23,100 --> 00:55:25,470
So for that container to actually work,

1283
00:55:25,470 --> 00:55:27,300
it needs to be running on port 8080.

1284
00:55:27,300 --> 00:55:30,570
And you need to have your
/invocations endpoint

1285
00:55:30,570 --> 00:55:31,980
and your /ping one.

1286
00:55:31,980 --> 00:55:33,633
So there you go. There it is.

1287
00:55:34,470 --> 00:55:36,810
So you can see that /invocations endpoint

1288
00:55:36,810 --> 00:55:38,640
is actually just call,

1289
00:55:38,640 --> 00:55:41,670
it's, so we can do anything we
want inside of there, right?

1290
00:55:41,670 --> 00:55:43,890
But we, what we're doing is
we're actually calling into

1291
00:55:43,890 --> 00:55:45,180
one of our frameworks.

1292
00:55:45,180 --> 00:55:48,600
So in this case, Microsoft Agent Framework

1293
00:55:48,600 --> 00:55:52,470
to then implement our request.

1294
00:55:52,470 --> 00:55:53,973
- [AM] That's right. Yeah.

1295
00:55:55,140 --> 00:55:57,720
Something I wanted to mention as well,

1296
00:55:57,720 --> 00:56:00,990
if you're using the Python
libraries, for example,

1297
00:56:00,990 --> 00:56:04,260
to work with AgentCore,
there's like a starter toolkit

1298
00:56:04,260 --> 00:56:07,290
and some decorators and things like that.

1299
00:56:07,290 --> 00:56:10,800
It will set up a lot of this for you.

1300
00:56:10,800 --> 00:56:11,633
Oh, there you go.

1301
00:56:11,633 --> 00:56:13,050
- [Nicki] I just wanna make
sure you guys had access

1302
00:56:13,050 --> 00:56:14,370
to the code before the session ends,

1303
00:56:14,370 --> 00:56:16,170
'cause I know they're gonna
kick us out in three minutes.

1304
00:56:16,170 --> 00:56:18,648
So this QR code will get you a link.

1305
00:56:18,648 --> 00:56:21,180
We did not find a lot of .NET examples

1306
00:56:21,180 --> 00:56:22,500
with these tools online,

1307
00:56:22,500 --> 00:56:26,430
so feel free to use the code that we wrote

1308
00:56:26,430 --> 00:56:28,710
because we put a lot of
time into making it work.

1309
00:56:28,710 --> 00:56:30,150
- [AM] Yes.

1310
00:56:30,150 --> 00:56:33,090
You may have to make the repo public also.

1311
00:56:33,090 --> 00:56:33,923
- [Nicki] Oh yeah. Let me do that.

1312
00:56:33,923 --> 00:56:34,830
I'll do that.

1313
00:56:34,830 --> 00:56:37,050
- [AM] Yeah, you can do that.

1314
00:56:37,050 --> 00:56:37,883
All right.

1315
00:56:39,030 --> 00:56:39,990
Word of warning though.

1316
00:56:39,990 --> 00:56:43,590
As I said, all of this
code is very experimental,

1317
00:56:43,590 --> 00:56:45,570
very brittle.

1318
00:56:45,570 --> 00:56:47,370
I would not deploy this in production.

1319
00:56:47,370 --> 00:56:50,010
This is definitely code for learning

1320
00:56:50,010 --> 00:56:52,650
and seeing what's possible

1321
00:56:52,650 --> 00:56:56,190
and hopefully giving us feedback as well

1322
00:56:56,190 --> 00:56:59,130
to bring back to the .NET team here at AWS

1323
00:56:59,130 --> 00:57:01,260
to improve the experience.

1324
00:57:01,260 --> 00:57:04,110
As I said, there are some things

1325
00:57:04,110 --> 00:57:05,370
that are handled for you

1326
00:57:05,370 --> 00:57:09,120
when you're using the
Python tools for AgentCore

1327
00:57:09,120 --> 00:57:11,850
that are not handled in the .NET side

1328
00:57:11,850 --> 00:57:13,140
that I've had to build.

1329
00:57:13,140 --> 00:57:15,360
For example, can you go
back to the code real quick?

1330
00:57:15,360 --> 00:57:16,193
- Sure.
- I know we have

1331
00:57:16,193 --> 00:57:17,026
three minutes.

1332
00:57:18,210 --> 00:57:21,720
For example, there is a
decorator in the Python version

1333
00:57:21,720 --> 00:57:26,160
that will set up this type
of entry point for you.

1334
00:57:26,160 --> 00:57:28,620
You don't have to implement
invocations yourself,

1335
00:57:28,620 --> 00:57:30,090
you don't have to know about that,

1336
00:57:30,090 --> 00:57:31,540
abstracts that away from you.

1337
00:57:32,430 --> 00:57:34,500
You can use our code as an example,

1338
00:57:34,500 --> 00:57:36,390
if you want to get started today

1339
00:57:36,390 --> 00:57:38,103
running things in AgentCore.

1340
00:57:38,940 --> 00:57:41,610
The other thing that happens is a lot

1341
00:57:41,610 --> 00:57:44,880
of these good SessionIds,
these things like that,

1342
00:57:44,880 --> 00:57:46,710
are sent to you in a header.

1343
00:57:46,710 --> 00:57:48,540
So you would have to inspect
the headers coming in.

1344
00:57:48,540 --> 00:57:51,060
Not always the most fun thing to do.

1345
00:57:51,060 --> 00:57:55,410
And a third thing that I
learned while building this,

1346
00:57:55,410 --> 00:57:57,450
so Firecracker I mentioned earlier,

1347
00:57:57,450 --> 00:57:59,610
is the underlying way

1348
00:57:59,610 --> 00:58:02,220
that these containers are getting spun up.

1349
00:58:02,220 --> 00:58:06,960
Firecracker uses IMDSv1,

1350
00:58:06,960 --> 00:58:08,880
it doesn't actually use IMDSv1,

1351
00:58:08,880 --> 00:58:12,870
it mimics IMDSv1,

1352
00:58:12,870 --> 00:58:15,930
which has been removed from version four

1353
00:58:15,930 --> 00:58:19,140
of the AWS .NET SDK.

1354
00:58:19,140 --> 00:58:23,010
So I have in here an,

1355
00:58:23,010 --> 00:58:25,410
they call this MMDS, you can look this up.

1356
00:58:25,410 --> 00:58:27,360
Firecracker uses MMDS.

1357
00:58:27,360 --> 00:58:29,608
It's a microVM version of,

1358
00:58:29,608 --> 00:58:33,030
and this is, if you're
unfamiliar with IMDS,

1359
00:58:33,030 --> 00:58:35,380
it is how you retrieve credentials

1360
00:58:36,510 --> 00:58:40,050
from a role assigned to a compute runtime.

1361
00:58:40,050 --> 00:58:42,513
It's not EC2, ECS, et cetera.

1362
00:58:44,100 --> 00:58:48,600
You can use this MMDSCredentials class

1363
00:58:48,600 --> 00:58:51,120
that I've built here for you if you want

1364
00:58:51,120 --> 00:58:54,570
to retrieve the role credentials

1365
00:58:54,570 --> 00:58:57,570
for the container running
in AgentCore Runtime.

1366
00:58:57,570 --> 00:58:59,640
All right, we are right at time.

1367
00:58:59,640 --> 00:59:01,470
- [Nicki] We're, yeah. Related sessions.

1368
00:59:01,470 --> 00:59:05,640
If you want more about .NET and
GenAI, throw those up there.

1369
00:59:05,640 --> 00:59:08,657
And then just our
information at the end there.

1370
00:59:08,657 --> 00:59:12,180
We, if you wanna reach us,
these are our email addresses

1371
00:59:12,180 --> 00:59:15,090
and our usernames for GitHub.

1372
00:59:15,090 --> 00:59:17,160
- [AM] Yes. We'll leave that up.

1373
00:59:17,160 --> 00:59:18,090
We will go out, stand right in the hallway

1374
00:59:18,090 --> 00:59:22,530
if you wanna ask us questions, thank you.

1375
00:59:22,530 --> 00:59:25,043
- Yeah, questions have to
be done outside the room.

