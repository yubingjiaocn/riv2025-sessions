# AWS re:Invent 2025 会议总结：使用 Amazon Bedrock Agent Core Gateway 实现 AI 代理与遗留应用集成

## 一、会议概述

本次会议由 AWS 全球应用现代化技术负责人 Ryan Peterson 主讲，重点介绍了 AI 代理（Agentic AI）如何成为下一个十年应用现代化的核心方向。演讲者回顾了自己在 2014 年 re:Invent 大会上见证 AWS Lambda 和 Amazon ECS 发布的经历，并将当前的 AI 代理时代与那个云原生应用现代化的黎明时刻相提并论。

会议分为两个主要部分：第一部分是 AI 代理的基础知识介绍，第二部分是详细的代码演示。演讲者强调，如果说过去十年的应用现代化关键词是无服务器、容器、云原生、微服务和分布式架构，那么未来十年将属于 Agentic AI。会议深入探讨了 Amazon Bedrock Agent Core Gateway 这一关键服务，它能够将 AI 代理与企业现有的遗留应用程序无缝连接，解决了从原型到生产环境部署的鸿沟问题。

演讲者特别指出，虽然 AI 代理技术充满潜力，但实际部署面临诸多挑战。根据分析师预测，到 2025 年底将有 40% 的 AI 代理项目被取消，主要原因包括性能问题、可扩展性限制、安全隐患和治理合规性问题。AWS 通过提供专门构建的基础设施、最先进的科学技术、专业化代理服务以及直观易用的开发体验，致力于成为构建全球最有用 AI 代理的最佳平台。

## 二、详细时间线与关键要点

### **开场与背景介绍 (0:00 - 3:30)**
- **0:00** - 演讲者分享与首次参加 re:Invent 的参会者交流的经历
- **0:45** - 回顾 2014 年 re:Invent 大会上 Andy Jassy 发布 AWS Lambda 和 Amazon ECS 的历史时刻
- **1:30** - 自我介绍：Ryan Peterson，AWS 全球应用现代化技术负责人
- **2:15** - 提出核心观点：未来十年将是 Agentic AI 的时代
- **2:45** - 说明会议结构：前半部分理论介绍，后半部分代码演示

### **AI 代理发展历史 (3:30 - 8:00)**
- **3:30** - 开始讲解 AI 代理的技术演进历史
- **4:00** - 2017 年：Transformers 架构的出现，实现文本并行处理，突破了传统序列处理的限制
- **4:45** - 扩展定律（Scaling Laws）的发现：计算能力、参数和数据的增加带来可预测的性能提升
- **5:30** - 少样本推理（Few-shot Reasoning）的出现：从简单的下一个词预测进化到真正的推理能力
- **6:15** - 思维链（Chain of Thought）技术：通过提示工程显著提升模型在数学等任务上的表现
- **6:45** - 工具使用（Tool Use）能力：代理开始能够与外部世界交互，这是 Agentic AI 的关键转折点
- **7:15** - ReAct 框架：实现推理、行动、解释和反应的循环
- **7:45** - 2024 年 11 月：模型上下文协议（MCP）标准化，为代理开发提供统一标准

### **AI 代理市场前景 (8:00 - 10:00)**
- **8:00** - AWS 预测未来几年将有数十亿个代理部署
- **8:30** - 分析师预测：到 2028 年，33% 的企业软件将包含 Agentic AI（相比去年的 1% 大幅增长）
- **9:00** - 更重要的统计：15% 的日常工作决策将由 AI 代理自主完成
- **9:30** - AI 代理的定义：自主或半自主系统，能够推理、规划和在数字及物理环境中行动

### **AI 代理核心组件 (10:00 - 13:30)**
- **10:00** - 介绍 AI 代理的五大核心组件
- **10:30** - 大语言模型（LLM）：代理的"大脑"，负责推理
- **11:00** - 目标和指令：代理的使命声明，定义其总体目标和护栏
- **11:30** - 工具（Tools）：访问实时数据和与现有应用程序交互的能力
- **12:00** - 上下文（Context）：短期和长期记忆，对话式界面的关键
- **12:30** - 行动循环（Action Loop）：观察、调整、创建新假设并部署新行动的能力
- **13:00** - 演示示例：Q CLI 如何动态调整和优化执行

### **原型到生产的鸿沟 (13:30 - 16:00)**
- **13:30** - 现实检验：40% 的 AI 代理项目将在 2025 年底被取消
- **14:00** - 介绍"原型到生产鸿沟"概念
- **14:30** - 常见问题：90% 的概念验证都是聊天机器人（呼吁超越聊天机器人思维）
- **15:00** - 部署到生产时遇到的挑战：性能问题、可扩展性、安全性、治理合规
- **15:30** - 从零开始构建的困难导致无法实现有意义的业务价值

### **AWS AI 代理战略 (16:00 - 19:00)**
- **16:00** - AWS 的愿景：成为构建全球最有用 AI 代理的最佳平台
- **16:30** - 四大支柱：
  - 最先进的科学技术（Nova 模型和框架）
  - 专门构建的基础设施
  - 最佳专业化代理
  - 直观易用的开发体验
- **17:30** - Amazon Bedrock Agent Core 发布：2024 年夏季纽约峰会上宣布
- **18:00** - 将 Agent Core 与 Lambda 和 ECS 相比较：应用现代化的新计算平台
- **18:30** - Agent Core 在 AWS AI 技术栈中的位置

### **Amazon Bedrock Agent Core 架构 (19:00 - 22:00)**
- **19:00** - Agent Core 组件概览
- **19:30** - Agent Core Runtime：安全的无服务器环境，支持多模态工作负载
- **20:00** - Agent Core Gateway：连接代理与遗留应用的关键服务（本次演示重点）
- **20:30** - Agent Core Browser：提供浏览器运行时实例
- **21:00** - Agent Core Code Interpreter：在隔离环境中执行代码
- **21:30** - Agent Core Identity 和 Agent Core Memory：安全和上下文管理
- **21:45** - Agent Core Observability：日志、性能指标和洞察

### **Agent Core Gateway 深入讲解 (22:00 - 27:00)**
- **22:00** - 客户需求：代理需要访问现有企业 API、数据库和知识库
- **22:30** - Amazon 内部挑战：部署数万个代理，每个代理需要数月时间配置工具接口
- **23:00** - Agent Core Gateway 的三大核心价值：
  - 简化工具开发和集成
  - 基于 MCP 标准转换现有 API 和 Lambda 函数
  - 提供入站和出站的安全授权
- **24:00** - 语义搜索功能：解决工具数量爆炸性增长导致的延迟问题
- **25:00** - 架构图解释：代理（MCP 客户端）→ Agent Core Gateway（MCP 端点）→ REST API/Lambda 函数
- **26:00** - 支持现有的 REST 端点和 AWS Lambda 函数，重用现有投资

### **配置 Agent Core Gateway (27:00 - 30:00)**
- **27:00** - 配置流程演示：使用现有 REST 服务暴露 MCP 工具
- **27:30** - 在控制台中设置网关：名称、描述、入站配置
- **28:00** - 配置目标 REST API 和身份验证机制
- **28:30** - 从代理使用：列出、调用或搜索工具
- **29:00** - 安全深入讲解：OAuth 令牌、身份提供商验证、API 密钥/IAM/OAuth 令牌支持
- **29:30** - CloudTrail 和 Agent Core Observability 集成

### **语义搜索详解 (30:00 - 33:00)**
- **30:00** - 工具数量问题：客户可能有数十、数百甚至数千个工具
- **30:30** - 用户期望快速响应，延迟是关键挑战
- **31:00** - 语义搜索工作原理：基于请求上下文和 LLM 操作上下文
- **31:30** - 优势：只返回相关工具的小子集，提高准确性、速度并降低成本
- **32:00** - 自动化：索引、搜索和标记化由 Agent Core Gateway 自动处理
- **32:30** - 无需额外服务器或基础设施管理

### **Strands Agent SDK 介绍 (33:00 - 36:00)**
- **33:00** - 开发者体验挑战：重复的繁重工作
- **33:30** - AWS 内部开发工具以抽象复杂性
- **34:00** - Strands Agent SDK 开源发布：将原本需要数周或数月的工作缩短到几分钟
- **34:30** - 支持所有 AI 代理运行时，提供模型选择
- **35:00** - 与 Agent Core 和 Amazon Bedrock 紧密集成
- **35:30** - 抽象代理通信的复杂性

### **Kiro 开发工具介绍 (36:00 - 38:00)**
- **36:00** - Q Developer 和 Q CLI 的演进
- **36:30** - Kiro 发布：从原型到生产的 AI IDE
- **37:00** - 基于规范的开发（Spec-based Development）：
  - 对话式生成规范
  - 人类可读的规范审查
  - 设计阶段
  - 自动化任务执行
- **37:30** - Kiro 现已正式发布（GA），鼓励参会者试用

### **演示准备 (38:00 - 40:00)**
- **38:00** - 演示目标：展示如何将代理集成到遗留应用程序
- **38:30** - 选择 Swagger Pet Store 作为演示应用：
  - 知名的 REST API 演示应用
  - 开源且易于下载
  - 部署在 ECS on Fargate 上
  - 未做任何代码修改
- **39:30** - 强调 Open API 规范的重要性：Agent Core Gateway 依赖详细的文档

### **Kiro 配置和代理创建 (40:00 - 48:00)**
- **40:00** - 开始实际演示
- **40:30** - 配置 Kiro 的引导文件（Steering Files）
- **41:00** - 从 Strands Agent SDK GitHub 仓库下载 README 文件
- **41:30** - 使用 Kiro 的"Refine"功能将 README 转换为 AI 可理解的引导文档
- **42:30** - 创建最小化 Python AI 代理的提示："创建一个基于终端的最小化 Python AI 代理，使用 Strands Agent SDK"
- **43:00** - Kiro 自动生成：
  - requirements.txt
  - agent.py（主代理代码）
  - README.md（完整文档）
- **44:00** - 代码审查：仅用约 23 行代码创建完整的 AI 代理
- **45:00** - Strands SDK 抽象了流式传输、IAM 认证、Bedrock SDK 连接等复杂性
- **46:00** - 使用 Kiro 运行代理：自动处理依赖安装、虚拟环境设置
- **47:00** - 代理成功运行，连接到 Amazon Bedrock Nova Pro 模型

### **代理功能测试 (48:00 - 51:00)**
- **48:00** - 测试基本对话功能："我想领养一只宠物，但需要对孩子友好"
- **48:30** - 代理使用 LLM 的通用知识回答：推荐金毛猎犬、拉布拉多、比格犬
- **49:30** - 代理主动提供额外建议和提示
- **50:00** - 此时代理尚未连接到 Pet Store 遗留应用，仅使用 LLM 知识

### **创建 Agent Core Gateway (51:00 - 55:00)**
- **51:00** - 进入 AWS 控制台，搜索 Agent Core
- **51:30** - 导航到"Gateways"并创建新网关
- **52:00** - 配置网关：
  - 名称：Pet Store Gateway
  - 暂时禁用语义搜索
  - 入站 OAuth 配置：创建新的 Cognito 用户池
  - 服务角色：自动创建
- **53:00** - 定义目标：
  - 类型：REST API
  - 粘贴 Open API JSON 规范
  - 配置 API 密钥认证
- **54:00** - 网关创建成功，状态显示为"Ready"
- **54:30** - 控制台显示调用代码示例，包括 Strands MCP 客户端示例

### **集成代理与网关 (55:00 - 结束)**
- **55:00** - 从控制台复制 MCP 客户端配置代码
- **55:30** - 使用 Kiro 更新代理代码以连接到 Agent Core Gateway
- **56:00** - Kiro 自动修改代理配置，添加 MCP 客户端连接
- **56:30** - 重新运行代理，现在已连接到 Pet Store API
- **57:00** - 演示完整的集成流程：
  - 代理接收用户请求
  - 通过 Agent Core Gateway 访问 Pet Store API
  - 获取实际的宠物库存数据
  - 返回基于真实数据的响应
- **58:00** - 强调整个过程的简洁性：
  - 无需修改遗留应用代码
  - 使用标准 MCP 协议
  - 保持现有安全机制
  - 几分钟内完成集成

### **总结与关键要点**
- Amazon Bedrock Agent Core Gateway 解决了 AI 代理与遗留应用集成的核心挑战
- Strands Agent SDK 大幅简化了代理开发，将开发时间从数周缩短到数分钟
- Kiro 提供了从原型到生产的完整开发体验
- 基于 MCP 标准确保了互操作性和未来兼容性
- 语义搜索功能解决了工具数量爆炸性增长的性能问题
- AWS 提供端到端的解决方案，从基础设施到开发工具全面支持 AI 代理部署