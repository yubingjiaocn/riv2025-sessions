# AWS 技术会议总结：使用 Agent Core 构建多渠道营销自动化系统

## 会议概述

本次技术会议深入探讨了如何利用 AWS Bedrock Agent Core 服务构建智能化的多渠道营销自动化系统。会议由两位演讲者主讲，首先介绍了多渠道营销面临的核心挑战，包括工作流编排的灵活性不足、实时个性化能力受限、数据孤岛问题以及营销活动的敏捷性和ROI归因困难等。传统的基于规则的系统往往过于僵化，难以应对复杂的客户旅程和多触点交互场景。

会议重点阐述了 Agentic AI（代理式人工智能）如何解决这些挑战。与传统的 RPA 和生成式 AI 助手相比，Agentic AI 具有更高的自主性，能够理解业务目标并独立规划执行任务。AWS Bedrock Agent Core 作为一个完全托管的服务平台，提供了运行时、身份管理、网关、内存和可观测性等模块化服务，支持任何代理框架（如 LangGraph、CrewAI、Strands）和任何大语言模型，让企业能够轻松将 AI 代理从原型阶段推向生产环境。

第二部分由解决方案架构师深入讲解了多代理系统的架构模式，包括代理间通信机制（Boto3 API vs A2A 协议）、跨账户部署策略、安全认证方案（IAM vs OAuth）、多租户模式以及可观测性最佳实践。会议强调了企业级部署的灵活性，团队可以混合使用不同的框架、认证方式和部署模式，Agent Core 提供了统一的管理和安全保障。

## 详细时间线

### 开场与多渠道营销挑战介绍

[00:00 - 02:30] - 会议开场，介绍多渠道营销的定义
- 多渠道营销是以客户为中心的策略，在客户与品牌互动的各个触点提供无缝集成体验
- 需要确保跨所有渠道的消息一致性

[02:30 - 05:45] - 工作流编排挑战
- 传统工作流过于僵化，缺乏灵活性
- Agentic AI 支持多个专业代理实时协调，可针对特定营销渠道构建专门代理
- 支持动态工作流，根据客户行为自适应调整
- 实现跨渠道上下文保留，确保消息一致性

[05:45 - 08:20] - 实时个性化挑战
- 传统系统难以处理大规模跨多渠道的个性化需求
- Agentic AI 提供智能内容生成，根据客户细分和行为动态生成内容
- 支持实时决策，根据客户互动模式在不同渠道间切换
- 内置品牌护栏，确保品牌一致性和合规性

[08:20 - 10:15] - 数据孤岛问题
- 企业数据分散在 CRM、电商、数据分析等多个系统中
- Agentic AI 通过 API 和 MCP 服务器构建统一数据视图
- 自动识别客户行为模式
- 支持数据清洗和系统间数据映射

[10:15 - 12:40] - 上市速度和营销活动敏捷性
- 传统营销活动设置需要数周时间，容易错失市场机会
- 支持自然语言定义营销活动（如"针对25岁以下、常用Instagram、居住在加州的用户"）
- 代理自动识别目标受众并生成相应内容
- 实时营销活动优化，根据流式性能数据即时调整

[12:40 - 15:30] - 归因和 ROI 测量挑战
- 多触点客户旅程的归因分析复杂
- 智能归因建模考虑所有触点和复杂客户旅程
- 实时 ROI 优化，识别表现更好的渠道并动态调整预算分配
- 预测分析能力，在执行前预估营销活动表现

### AI 代理演进与 Agent Core 服务介绍

[15:30 - 18:45] - AI 代理的演进历程
- 从低自主性的基于规则的 RPA 系统开始
- 发展到生成式 AI 助手（理解任务但仍需人工监督）
- 目标驱动代理（理解业务目标，自主规划任务）
- 完全自主的代理系统（可代表用户做出战略决策，目前较少见）

[18:45 - 21:20] - AI 代理的定义与生产挑战
- AI 代理是能够独立规划、代表用户行动的自主或半自主软件系统
- 构建代理相对容易，但推向生产环境面临巨大挑战
- 需要处理数千次调用、与其他代理和工具的交互
- 基础设施管理复杂度高，导致大多数客户停留在原型阶段

[21:20 - 24:50] - Amazon Bedrock Agent Core 服务概述
- 完全托管的服务，帮助构建、部署、扩展、保护和观测生产环境中的 AI 代理
- 支持任何代理框架（LangGraph、CrewAI、Strands 等）
- 支持任何 LLM（Bedrock 模型、OpenAI、Gemini 等）
- 模块化服务架构，可按需选择使用

[24:50 - 27:30] - Agent Core Runtime（运行时服务）
- 完全托管，无需管理基础设施
- 内置会话隔离和数据保护
- 支持实时交互代理和长运行代理（最长8小时）

[27:30 - 30:45] - Agent Core Identity（身份服务）
- 安全地与企业 API 和外部服务（Salesforce、Slack、GitHub 等）交互
- 自动处理认证授权生命周期、令牌交换、安全存储和重用
- 无需编写样板代码，仅需引用装饰器函数
- 集成主流身份提供商（Okta、Cognito、Entra ID 等）

[30:45 - 34:20] - Agent Core Gateway（网关服务）
- 将现有 API 和 Lambda 函数转换为 MCP 兼容工具
- 无需为每个 API 构建 MCP 服务器
- 提供语义搜索能力，避免代理上下文窗口膨胀
- 智能选择相关工具暴露给代理

[34:20 - 36:10] - Agent Core Memory（内存服务）
- 跨多个会话存储和检索信息
- 支持短期和长期内存
- 根据代理类型和数据保留需求灵活配置

[36:10 - 38:50] - Agent Core Observability（可观测性服务）
- 完全托管的单一视图，监控代理活动
- 追踪模型调用、令牌使用、输入输出、工具和 MCP 服务器调用
- 提供审计能力和可观测性
- 日志、指标和追踪符合 OpenTelemetry 标准
- 可推送到 CloudWatch、Datadog、Langsmith 等工具

### 多代理系统架构模式深入讲解

[38:50 - 41:30] - 演讲者交接与背景介绍
- Jitin Dua，高级解决方案架构师，专注 AI/ML 和生成式 AI
- 负责美国广告和营销行业
- 强调架构模式适用于所有行业（金融、生命科学等）

[41:30 - 45:20] - 代理间通信模式
- 通信是多代理系统的"神经系统"
- 代理可使用任何框架构建，无需标准化
- 用户通过应用与编排代理交互，编排代理协调其他专业代理
- 两种通信方式：Boto3 API 和 A2A 协议

[45:20 - 48:40] - Boto3 vs A2A 选择
- Boto3：提供内置重试逻辑和错误处理，AWS 原生支持
- A2A：开源协议，适合标准化开源或调用 AWS 外部代理
- 可混合使用，无需统一标准

[48:40 - 51:50] - 遗留代理集成
- 许多企业已在 ECS、EKS 或 Kubernetes 上部署代理
- 新代理部署在 Agent Core 中仍可与遗留代理通信
- 通过编写工具以 API 方式调用遗留代理

[51:50 - 56:30] - 跨账户部署场景
- 多团队开发需要多个 AWS 账户
- 成本分配和所有权管理需求
- 数据库访问隔离（代理与数据库在同一账户）
- 共享服务代理部署在独立账户
- 跨账户通信仍可使用 Boto3 或 A2A

[56:30 - 58:20] - MCP 服务器通信
- 代理需要工具，工具以 MCP 服务器形式提供
- 使用 MCP 协议与 MCP 服务器通信
- Agent Core 原生支持

### 安全认证与授权

[58:20 - 62:40] - 安全控制概述
- 访问控制是安全团队首要关注点
- 需要认证、授权和细粒度控制
- 两种选择：IAM 认证和 OAuth 认证
- 可混合使用，不同代理可采用不同认证方式

[62:40 - 66:50] - MCP 服务器认证
- 标准 MCP 使用 OAuth
- Agent Core 扩展支持 IAM 认证
- 部署在 Agent Core Runtime 中的 MCP 服务器可使用 IAM
- 支持全栈 IAM 原生认证

[66:50 - 71:30] - OAuth 认证流程
- 需要 OAuth 提供商（Cognito、Okta 等）
- OAuth 提供商为代理生成令牌
- Agent Core 拦截每个请求，验证令牌
- 仅在令牌有效后才执行代理代码
- 提供内置安全保障，减轻开发负担

[71:30 - 75:40] - 用户令牌 vs 机器对机器令牌
- 用户生成令牌：用户身份传递到代理
- 机器对机器令牌：代理间或代理与 MCP 服务器间通信
- Agent Core Identity 支持两种类型
- 用户身份可传播到 MCP 服务器实现细粒度访问控制

[75:40 - 78:50] - 细粒度访问控制
- 代理执行多任务时需要更细粒度控制
- 通过代码实现，从请求上下文提取身份令牌
- 检查用户权限，决定允许执行的操作
- Agent Core 提供简便方法提取身份信息

[78:50 - 82:20] - IAM vs OAuth 选择建议
- IAM：适合纯 AWS 生态系统，新项目快速启动
- OAuth：已有 OAuth 基础设施、跨云需求、开源标准需求
- IAM 设置更简单，OAuth 初期设置复杂但标准化

[82:20 - 84:30] - 跨账户 IAM 认证
- 使用跨账户角色
- 其他流程保持不变

[84:30 - 88:50] - Agent Core Gateway 安全
- 无需为企业 API 编写 MCP 服务器包装
- Gateway 使用 OAuth 作为认证机制
- 代理提供 M2M OAuth 令牌给 Gateway
- Gateway 验证令牌后才调用企业 API
- 支持 API 密钥、OAuth 或无保护 API
- 可混合配置不同 API 的安全方式

### 多租户模式

[88:50 - 93:20] - 多租户模式概述
- 与 SaaS 系统的多租户模式类似
- 三种选项：
  1. 每个租户部署独立代理实例（完全隔离）
  2. 单个代理多个端点（每个租户一个端点）
  3. 单个端点在代码中处理多租户

[93:20 - 96:40] - 会话隔离保障
- Agent Core 为每次调用提供完全隔离的会话
- 租户 A 和租户 B 的会话完全隔离
- 可选择单端点方案，减少管理开销
- 选项1和2提供更强隔离但增加管理复杂度

[96:40 - 98:30] - 成本归因
- 多租户系统需要成本分配
- 使用 OpenTelemetry 日志记录
- 确保记录足够的审计和成本分配信息

### 可观测性

[98:30 - 结束] - 代理可观测性特殊性
- 代理可观测性与传统系统有所不同
- 需要标准可观测性能力
- 但代理系统有其特殊的可观测性需求
- （会议记录在此处截断）