# AWS re:Invent 2025 会议总结：TNS 通信平台现代化与 EMR 工作负载迁移

## 会议概述

本次会议由 AWS 产品团队经理 Amital Pali 和 TNS（Transaction Network Services，可口可乐旗下公司）技术与架构团队负责人 AJ Gupta 共同主持。会议重点讨论了机器学习工作负载的运维挑战以及 TNS 如何将其关键的反垃圾/诈骗电话平台从本地环境迁移到 AWS 云端。

TNS 是一家为电信运营商提供后端服务的公司，专注于保护用户免受垃圾和诈骗电话的侵害。该公司在北美为超过 1.2 亿用户提供服务，在过去 12 个月内拦截了约 190 亿次垃圾/诈骗电话，并支持约 150 家运营商的网络分析。会议展示了 TNS 如何利用 AWS 服务（特别是 EMR、SageMaker 和各种数据分析工具）实现大规模实时通信数据处理和机器学习推理，以在几十毫秒内识别和标记可疑电话。

会议还介绍了 AWS Countdown Premium 服务，这是一项为客户提供专门工程师支持的指导服务，帮助加速云迁移和现代化进程。整个案例研究强调了云架构相比本地部署在可扩展性、灵活性和运营效率方面的显著优势。

## 详细时间线与关键要点

### 开场与介绍（开始）
- **演讲者介绍**：Amital Pali（AWS 产品团队经理，7 年 AWS 工作经验）和 AJ Gupta（TNS 技术与架构团队负责人，电信行业 30 年经验）
- **会议结构**：40-45 分钟内容讲解 + 10 分钟问答环节

### ML 工作负载挑战（早期）
- **现场调查**：少数观众处于 ML 工作负载的 POC 阶段,更少的观众已将 ML 工作负载投入生产
- **关键挑战**：从构思到生产需要协调多个因素（用例验证、ROI、模型验证、基础设施、监控、数据漂移、偏差、可解释性等）
- **时间分配问题**：数据科学家仅 15% 的时间用于训练和超参数调优，其余时间用于无差异化的繁重工作
- **失败率统计**：
  - 46% 的 ML 项目从未投入生产
  - 投入生产后约 30% 的项目被放弃
  - 平均需要 11 个月才能从 ML 工作负载中获得价值

### MLOps 框架设计原则
- **三大核心原则**：
  1. **账户分离**：为开发、测试和生产环境使用不同的 AWS 账户（特别是处理 PII 数据时）
  2. **版本控制和血缘追踪**：覆盖数据、代码、特征和模型，确保可审计性和可追溯性
  3. **自动化**：贯穿整个生命周期的流程自动化

### MLOps 成熟度阶段
- **第一阶段 - 可重复性**：
  - 专注于数据处理和模型构建的自动化流水线
  - 模块标准化以实现可重用性
  - 目标：减少构建和部署时间，加快创新周期
 
- **第二阶段 - 可靠性**：
  - 集成 CI/CD 流水线
  - 强化监控和验证流程
  - 目标：降低缺陷率，提高推荐结果的一致性
 
- **第三阶段 - 可扩展性**：
  - 完全自动化和集成的 ML 运维框架
  - 使用模板实现企业级标准化
  - 目标：将业务价值实现时间从数月缩短至数周或数天

### AWS 工具介绍
- **SageMaker Unified Studio**：整合 Glue、Athena、EMR 等多个 AWS 服务，减少工具分散
- **MLflow（托管无服务器版本）**：re:Invent 新发布，用于实验管理和跟踪
- **SageMaker Model Monitor**：全托管服务，监控模型质量、数据质量、可解释性和数据漂移

### 参考架构示例
- **可靠阶段架构**：
  - 账户分离（数据账户、开发账户、工具账户）
  - 测试和验证框架，支持手动或基于 EventBridge 的自动审批
  - 自动化数据流水线确保各账户中的数据集独立
 
- **可扩展阶段架构**：
  - 引入分析治理账户
  - 使用 Service Catalog 按需部署 CloudFormation 堆栈
  - 标准化架构，支持多团队快速启动环境

### AWS Countdown Premium 服务介绍
- **服务定位**：技术指导服务，帮助加速云迁移和现代化进程
- **核心特性**：
  - 专属 Countdown Premium 工程师嵌入客户团队
  - 提供工具、模板和运行手册
  - 覆盖用例：数据迁移、VMware 迁移、数据库迁移、Windows 到 Linux 现代化、大型 ML 工作负载（包括 Bedrock/SageMaker 上的生成式 AI）
- **客户规模**：约 4500 家客户，反馈积极
- **典型周期**：1-12 个月不等（取决于用例复杂度）

### re:Invent 新发布功能
- **AWS Transform 集成**：Countdown 集成到 AWS Transform 中，支持"人在回路"交互
- **Well-Architected Framework MLOps Lens**：
  - 提供六大支柱的最佳实践指导（可持续性、性能、成本等）
  - 针对 ML 工作负载的详细实施步骤
  - 可触发自动评估，生成差距分析和改进建议

### 割接支持功能
- **自动化告警**：为关键迁移服务设置自动告警
- **24/7 全球团队支持**：具备上下文感知能力的工程师团队
- **主动监控**：在割接期间监控工作负载，防止中断或故障
- **事后总结**：提供割接事件总结和进一步优化建议

### TNS 公司与业务背景
- **公司历史**：自 1990 年起从事关键通信业务
- **业务模式**：为运营商（Verizon、AT&T、T-Mobile 等）提供后端服务
- **全球规模**：21 个国家运营，1300+ 员工，每年在 60 个国家处理数十亿笔交易

### 垃圾/诈骗电话问题现状
- **现场调查**：几乎所有与会者在过去一个月内都接到过垃圾或诈骗电话
- **行业调查结果**（TNS 去年调查）：
  - 68% 的联络中心高管表示垃圾/诈骗电话损害了其利润
  - 88% 的人知道有人因号码欺骗而受到影响
  - 96% 的公司正在寻找身份验证和反欺骗解决方案
- **问题严重性**：某美国大型银行最近宣布其 40% 的投诉与号码欺骗有关
- **攻击演变**：从简单攻击演变为多模态攻击（电子邮件、短信、电话、社交媒体消息组合）

### TNS Call Guardian 平台规模
- **用户覆盖**：北美超过 1.2 亿用户
- **拦截量**：过去 12 个月拦截约 190 亿次垃圾/诈骗电话
- **网络支持**：支持约 150 家运营商
- **品牌呼叫**：过去十年处理约 10 亿次品牌呼叫
- **峰值处理能力**：每秒约 20,000 次呼叫
- **响应时间要求**：几十毫秒内完成推理

### 呼叫标记机制
- **工作原理**：
  - 当 A 方呼叫 B 方时，后端识别电话号码
  - 分析号码历史和重复模式
  - 结合呼叫数据进行评分
  - 根据评分结果提供警告、名称或品牌信息
- **用户选择**：
  - 评分范围 -4 到 +4
  - -4 分：直接拦截，不响铃
  - -2 分：警告，发送到语音信箱
  - 正分：送达设备
- **消费者行为**：带有徽标的来电接听率显著高于仅显示号码或名称的来电

### 行业标准
- **STIR/SHAKEN 标准**：IETF 标准，5-6 年前推出
- **监管要求**：FCC 强制要求美国所有运营商实施，加拿大正在采用
- **覆盖范围**：解决了 60-70% 的常见用例，但仍有许多场景未覆盖

### 平台现代化需求
- **数据处理量**：每天处理数十亿事件
- **实时推理**：峰值每秒 20,000 次呼叫，需在几十毫秒内完成推理
- **运营商要求**：最小化呼叫保持时间以节省网络资源

### 平台架构概览
- **数据源多样性**：
  - 实时信令事件
  - 行业数据源
  - 众包反馈（客户反馈用于改进评分）
  - 不同数据量和速度
- **核心架构差异**：云端计算与存储分离（vs. 本地环境中计算与存储耦合）
- **思维转变**：添加新数据源时，本地需要新服务器，云端只需将数据存储在 S3，选择合适的处理机制

### 技术栈详解
- **EMR HBase on EBS**：
  - 用于低延迟访问（微秒级）
  - 最初 S3-backed HBase 无法满足性能要求
  - 两年后 AWS 推出 S3 Express 作为替代方案
 
- **Hive、Spark、S3-backed 存储**：
  - 用于大规模分析
  - 跨区域弹性（S3 简化了灾难恢复设置，无需预付成本）
 
- **Apache Druid**：
  - 用于汇总和报告
  - 即使数据存储中有 200 亿条记录，也能在 500 毫秒内响应门户查询
 
- **SageMaker**：
  - 用于算法训练
  - A/B 测试
  - 通过数据流水线最小化假阳性/假阴性并测量漂移
 
- **Lake Formation**：
  - 数据治理和安全
  - 基于用例授予访问权限（表级、列级、行级）
  - 实现单一数据源、零数据拷贝
  - 数据存储在 S3，Lake Formation 提供访问控制

### 成本管理挑战
- **本地 vs. 云成本**：
  - 本地：沉没成本（硬件已购买、运营费用固定、数据中心成本固定）
  - 云端：按需付费，灵活但需要严格控制
- **实际案例**：
  - 本地新客户上线：购买 10 台服务器，在两个数据中心机架安装，然后设置系统
  - 云端新客户上线：确定容量，"打开开关"即可
- **风险与控制**：
  - 云端操作更简单，但也更容易"搬起石头砸自己的脚"
  - 需要建立护栏、控制措施和策略防止成本失控
  - 所有团队（构建、测试、部署）都需承担成本责任

### 运营卓越性
- **平台规模影响**：不同部分需要不同的运营关注
- **团队责任**：从开发到运维的全生命周期责任共担

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


相关资源：
- ML 治理最佳实践
- 无服务器 MLflow
- GenAI Ops 基础
- Well-Architected Framework MLOps Lens
- GenAI Lens