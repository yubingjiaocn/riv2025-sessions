# AWS re:Invent 2025 - SEC 224 会议总结

## 会议概述

本次会议主题为"利用 AWS 原生服务实现大规模基础设施保护"（Infrastructure Protection at Scale Leveraging AWS Native Services）。会议由 AWS 高级解决方案架构师 Dustin Ellis、AWS 基础设施和安全服务高级产品经理 Amish Shah，以及 Block 公司的资深安全工程师 Romesh Romani 共同主讲。

会议重点探讨了平台工程（Platform Engineering）在云环境中的重要性，以及如何利用 AWS 原生安全服务构建可扩展的基础设施安全平台。演讲者强调，随着组织从单一 AWS 账户扩展到多账户架构，需要在早期就建立统一的安全基线和平台化方法。通过平台工程，开发团队可以更快速、更安全、更一致地构建应用程序。会议还介绍了 AWS 在本周发布的多项新功能，包括 WAF 的新控制台体验、Network Firewall 的合作伙伴托管规则、以及主动威胁防御（Active Threat Defense）等创新能力。

Block 公司作为金融服务领域的客户代表，分享了他们在过去几年中构建基础设施安全平台的实践经验，包括账户管理策略、网络拓扑设计决策、以及如何利用 AWS Network Firewall 等服务实现集中化和分布式的安全架构。

## 详细时间线

### 开场与平台工程背景 (0:00 - 15:00)

0:00 - 会议开场
- Dustin Ellis 介绍会议主题 SEC 224：利用 AWS 原生服务实现大规模基础设施保护
- 介绍演讲团队：Dustin Ellis（AWS 高级解决方案架构师）、Amish Shah（AWS 产品经理）、Romesh Romani（Block 资深安全工程师）

2:30 - 会议议程介绍
- 第一部分：平台工程背景介绍
- 第二部分：AWS 基础设施安全服务概览
- 第三部分：Block 公司客户案例分享

4:00 - 平台工程趋势
- 引用 Gartner 统计数据：到 2026 年，80% 的组织预计将拥有平台工程团队，相比几年前的 45% 几乎翻倍
- 现场调查显示约半数观众已开始实施平台工程

5:30 - 平台工程的核心价值
- 解决开发者为相同问题创建不同解决方案导致的架构不一致问题
- 构建可重用的架构组件，使开发者能够更快速、更安全、更一致地构建应用

7:00 - 何时开始平台工程
- 建议尽早开始，从 AWS 架构的第一天就考虑平台化
- 早期决策比后期在拥有数百个账户时进行调整更容易

8:00 - 从单账户到多账户演进
- Day 1：单一 AWS 账户架构的优势是简单性
- 随着规模扩展，单账户的局限性显现：账户级别限制、工作负载隔离困难、资源竞争

9:30 - 多账户架构的优势
- 工作负载隔离减少安全或运营问题的影响范围
- 支持分布式所有权模型
- 更好的成本归因和限制管理

11:00 - 关键架构决策点
- 账户供应（Account Vending）：如何创建、基线化和监控账户生命周期
- 访问模式：人员和应用身份如何访问账户，首选接口（IaC 工具如 Terraform、CloudFormation）
- 网络拓扑：VPC 策略、流量管理（Transit Gateway、PrivateLink、VPC Peering）
- 数据边界策略：使用组织单元和服务控制策略确保安全一致性

13:30 - 平台工程心智模型
- 应用用户/业务用户专注于交付业务价值
- 平台工程师构建平台组件（策略执行、身份验证、计算网络基础设施、安全平台）
- 强调反馈循环的重要性：应用用户向平台工程师提供需求和反馈

### AWS 基础设施安全服务概览 (15:00 - 35:00)

15:00 - Amish Shah 接手演讲
- 介绍 AWS 网络和应用保护服务产品经理角色
- 重点关注 AWS Network Firewall 和威胁情报服务

16:00 - AWS 全球骨干网络规模
- 展示 AWS 全球基础设施规模，最近在新西兰推出新区域
- 全球规模提供对互联网流量的独特可见性，用于生成威胁情报

17:30 - 入站与出站安全分类
- 入站过滤（Ingress）：保护 Web 应用，使用 WAF（Web Application Firewall）
- 出站过滤（Egress）：使用 Network Firewall 和 DNS Firewall 保护 VPC 出站流量
- Network Firewall 是"瑞士军刀"，支持双向流量保护

19:00 - 典型 Web 应用架构
- 强调需要同时关注入站和出站流量的多层防御
- 即使攻击者突破入站防御，出站过滤机制可防止数据泄露和命令控制威胁

21:00 - Web Application Firewall (WAF) 优势
- 针对 DDoS、机器人攻击、Web 攻击提供分层安全
- 低管理开销，资源自动配置
- 高度可定制的规则，可匹配请求的任何部分

22:30 - WAF 新控制台体验
- 今年早些时候推出的新控制台体验
- 将配置转换为引导式向导，配置时间减少 80%
- 提供基于工作负载类型的预配置规则（API、PHP 应用等）

24:00 - WAF 新托管规则：Anti-DDoS
- 保护免受容量型 DDoS 和新型 DDoS 攻击
- 改进检测逻辑，区分恶意客户端和合法流量激增
- 在几秒钟内缓解攻击，AWS 持续更新规则集

26:00 - 出站安全的重要性
- 引用研究数据：94% 的勒索软件包含某种形式的数据泄露
- 客户需要确保工作负载仅与受信任的目标通信

27:30 - 出站流量架构
- Route 53 DNS Firewall：阻止 DNS 查询
- Network Firewall：全面的云原生防火墙，阻止未授权的协议连接

### AWS Network Firewall 深入介绍 (28:00 - 42:00)

28:00 - Network Firewall 核心特性
- 完全托管的防火墙服务，易于为 VPC 工作负载部署保护
- 高可靠性和可扩展性：每个可用区最高 100 Gbps，自动扩展
- 无需管理基础设施、软件升级和维护

29:30 - 内置状态引擎功能
- 支持基于 IP、端口、应用的规则
- 地理 IP 过滤：阻止流向高风险国家的流量
- 托管规则：一键阻止已知恶意 IP 和域名
- 自定义规则：使用 Suricata 规则匹配特定参数
- 与 Firewall Manager 完全集成，跨账户应用一致策略

31:00 - Network Firewall 常见用例
- 入站保护：防止入侵，使用协议检测、状态检查和 IPS 能力
- 出站过滤：最常见用例，防止工作负载与不受信任目标通信
- VPC 到 VPC 过滤：创建逻辑隔离，使用基于资源标签的规则

33:00 - 部署模式：集中式检查
- 传统方式：中央检查 VPC + Transit Gateway 路由流量
- 新功能：Network Firewall 与 Transit Gateway 的原生附件
- 简化架构，无需配置检查 VPC，AWS 自动编排连接

35:30 - 部署模式：分布式部署
- 在每个 VPC 内部署防火墙
- 适用于需要减少爆炸半径或为每个 VPC 设置独立策略的场景
- 许多客户同时使用两种模式（如集中式出站 + 分布式入站）

37:00 - 多 VPC 端点功能
- 解决分布式部署中大规模成本问题
- 一个主防火墙可跨 50 个 VPC 共享
- 辅助端点成本比主端点低 60%
- 适合拥有数百个低带宽 VPC 的客户

### 威胁情报与新功能发布 (38:00 - 50:00)

38:00 - AWS 威胁情报：MadPot 蜜罐网络
- AWS 在全球基础设施部署数字诱饵（蜜罐）
- 对外部攻击者看起来像易受攻击的 AWS 服务
- 收集攻击者的战术、技术和程序（TTP），用于保护 AWS 基础设施

39:30 - Active Threat Defense（主动威胁防御）
- 将 MadPot 生成的威胁情报转化为 Network Firewall 托管规则
- 自动创建规则保护客户 VPC 工作负载
- 每 10 分钟更新规则以应对活跃攻击
- 与 GuardDuty 集中集成，提供活跃威胁的中央可见性

41:30 - 合作伙伴托管规则（重大发布）
- 两周前宣布的新功能
- 将 AWS Marketplace 顶级合作伙伴的托管规则直接引入 Network Firewall
- 首批 7 个合作伙伴基于其专业知识和记录选择
- 几次点击即可部署合作伙伴威胁情报

43:00 - 合作伙伴托管规则的优势
- 显著简化向策略添加威胁签名的过程
- 减少管理自定义规则的时间和工作量
- 直接在 Network Firewall 控制台内完成，无需在 Marketplace 和第三方平台之间切换
- 合作伙伴定期更新规则集，保持领先于攻击者
- 已在 21 个 AWS 区域推出，计划扩展到更多区域

45:30 - 防火墙策略设计：允许列表 vs 拒绝列表
- 现场互动：询问观众应该使用允许列表还是拒绝列表
- 答案：两者结合使用
- 使用托管规则添加拒绝列表（AWS 托管规则、合作伙伴规则、Active Threat Defense）
- 使用允许列表定义可信目标

47:00 - 推荐的防火墙策略结构
- 第一层：拒绝列表（托管规则）
- 第二层：允许列表（自定义规则定义可信目标）
- 第三层：默认拒绝所有其他流量

### Block 公司最佳实践总结 (48:00 - 结束)

48:00 - Dustin 总结 Block 的成功经验
- 在迁移工作负载到 AWS 之前，花时间规划落地区架构
- 深思熟虑账户供应、安全基线配置和组织级防护栏

49:00 - 网络拓扑决策
- Block 评估了所有可用选项
- 最终选择 VPC 共享和其他网络设计原则

49:30 - 平台工程最佳实践
- 明确区分开发者和平台团队的角色和职责
- 持续迭代改进

50:00 - 基础设施安全平台
- 利用 AWS 原生服务如 Network Firewall
- 保持实验心态，愿意测试新服务和功能
- Block 的构建者思维给人深刻印象

50:30 - 过渡到 Romesh 的演讲
- 准备由 Block 公司的 Romesh Romani 分享详细的客户实践案例

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


注：字幕在此处中断，Romesh 的演讲部分未包含在提供的字幕中