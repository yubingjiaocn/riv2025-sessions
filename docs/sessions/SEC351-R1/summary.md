# AWS re:Invent 2025 - IAM Policy Autopilot 会议总结

## 会议概述 (Session Overview)

本次会议由AWS Identity团队的首席产品经理Kevin Luo和首席工程师Luke Kennedy主讲，重点介绍了AWS新推出的IAM Policy Autopilot工具。这是一个300级别的技术会议，主要面向有一定AWS经验的开发者。会议通过构建一个多租户微服务的实际场景，演示了传统IAM策略创建方法的挑战，以及IAM Policy Autopilot如何通过静态代码分析自动生成精确的IAM策略来解决这些问题。

演讲者首先展示了开发者在创建IAM策略时面临的常见困境：使用管理员权限过于宽泛、AWS托管策略仍然权限过大、手工编写策略耗时且容易出错、AI编程助手生成的策略经常包含不存在的权限。随后详细介绍了IAM Policy Autopilot的工作原理，包括静态代码分析、操作到权限的映射，以及与编程助手的集成。整个演示过程展现了该工具如何实现确定性的策略生成，并支持自动修复访问拒绝错误。

## 详细时间线与关键要点 (Detailed Timeline)

### 0:00-5:00 会议开场与场景介绍
- Kevin Luo和Luke Kennedy自我介绍，确认听众的AWS经验水平
- 介绍演示场景：构建一个为多租户服务创建和加密S3存储桶的微服务
- 架构说明：Lambda函数接收客户ID和名称，创建专用KMS密钥，创建存储桶并配置加密

### 5:00-15:00 代码演示与权限问题
- 展示Python Lambda函数代码，使用BOTO3 SDK调用AWS服务
- 创建Lambda函数并部署代码，遇到权限不足错误
- 解释IAM基础概念：身份与访问管理、执行角色、IAM策略
- 演示常见的权限配置方法：管理员访问权限的便利性与安全风险

### 15:00-25:00 传统IAM策略方法的局限性
- 展示AWS托管策略的使用，如S3FullAccess和KMS相关策略
- 遇到策略文档格式错误，解释KMS密钥策略权限的复杂性
- 演示手工创建内联策略的过程，强调调试的时间成本
- 介绍编程助手生成IAM策略的尝试，发现生成的策略包含不存在的权限

### 25:00-30:00 IAM Policy Autopilot介绍
- 分析现有方法的优缺点：管理员权限、AWS托管策略、手工策略、AI生成策略
- 正式介绍IAM Policy Autopilot：开源命令行工具，支持静态代码分析
- 解释工作原理：解析代码中的SDK操作，映射到IAM权限，生成确定性策略
- 强调三个关键优势：确定性、实时更新、可靠性

### 30:00-35:00 工具安装与MCP服务器配置
- Luke演示pip安装IAM Policy Autopilot的过程
- 配置为MCP服务器，与Kiro编程助手集成
- 展示工具连接成功，可用功能列表显示

### 35:00-40:00 实际应用演示
- 使用Kiro调用IAM Policy Autopilot生成策略，输入区域和账户ID
- 生成的策略包含正确的权限，无不存在的权限项
- 通过CloudFormation部署基础设施，展示策略的实际应用
- 演示代码迭代场景：添加SQS通知功能，自动生成更新的策略

### 40:00-42:24 错误修复与总结
- 展示访问拒绝错误的自动修复功能
- 强调工具对编程助手自主完成任务的重要性
- 总结工具优势：无需广泛权限、确定性生成、使用真实IAM权限
- 说明当前限制：仅支持身份策略、非最小权限、静态分析限制
- 呼吁社区参与GitHub开源项目，收集反馈和改进建议