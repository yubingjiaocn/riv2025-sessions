# AWS re:Invent 2025 - 构建智能代理：代理记忆工程入门

## 会议概述

本次会议是AWS re:Invent 2025第四天的技术分享，主讲人来自MongoDB团队，重点探讨了构建智能AI代理的核心挑战——代理记忆工程。会议指出，尽管AI代理技术快速发展，但95%的组织仍未从AI投资中获得实际价值，主要原因不在于模型质量或基础设施，而在于代理工作流和系统的设计缺陷。

演讲者从人类学背景出发，将人类文明的外部记忆系统（如口述传统、书籍、互联网）类比到AI代理的记忆需求，强调代理记忆工程是从概念验证转向生产就绪应用的关键。会议详细介绍了代理记忆的类型、架构模式以及MongoDB Atlas和Voyage AI在构建有状态代理中的应用。

## 详细时间线与关键要点

### 0:00-10:00 问题定义与背景
- **0:00** 会议开场，介绍主题从"构建智能代理"转向"代理记忆工程"
- **2:30** 引用MIT研究报告：95%的组织从AI投资中获得零价值
- **4:15** 成功的5%组织的关键差异：代理工作流和系统设计，而非模型质量
- **6:00** 代理常见失败模式：失去用户目标追踪、遗忘早期细节、提供不一致答案
- **8:30** Carnegie Mellon的"Agent Company"研究：代理替代人类任务时导致业务崩溃

### 10:00-20:00 LLM局限性与记忆需求
- **10:30** 多项研究显示：长期任务中代理性能下降20-40%
- **12:00** Lawson Mill论文和Chroma研究：序列变长时元素丢失，信息位置影响检索效果
- **14:45** LLM的三大局限：仅在参数记忆中存储信息、上下文窗口临时性、缺乏持久状态概念
- **16:20** "更大的船"谬误：扩大上下文窗口不等于可靠的记忆系统
- **18:00** 有效上下文窗口仅为标称容量的20-30%

### 20:00-30:00 人类记忆系统类比与代理架构
- **20:30** 人类通过外部记忆系统扩展智能：口述传统、书籍、图书馆、互联网
- **22:15** 文明作为人类的外化长期记忆系统
- **24:00** 上下文vs记忆的区别：上下文是临时工作记忆，记忆是持久状态管理
- **26:30** 代理的四大能力：认知(LLM)、行动(工具)、感知(输入)、记忆(短期和长期)
- **28:45** 代理与聊天机器人的区别：观察-思考-行动-更新理解的循环

### 30:00-40:00 代理应用模式与记忆类型
- **30:15** 三种核心应用模式：对话助手模式、工作流模式、自主/多代理模式
- **32:30** 对话助手模式：需要对话连续性和偏好记忆
- **34:00** 工作流模式：需要程序性回忆和状态日志
- **35:30** 深度研究模式：需要共享记忆进行代理协调
- **37:15** 上下文工程定义：控制LLM推理时看到的确切内容
- **39:00** 检索管道：分块、嵌入、向量索引、语义相似性检索

### 40:00-50:00 记忆工程核心概念
- **40:30** Voyage Context 3模型：上下文化分块技术
- **42:00** 查询增强三大类型：查询重写、查询扩展、查询分解
- **44:15** 上下文工程评估：相关性、使用效果、多轮推理支持
- **46:00** 检索指标：Precision@K、Recall@K、F1@K
- **47:30** 记忆工程定义：设计系统让代理积累经验、保留知识、持续发展
- **49:15** 记忆层次：短期记忆(工作空间)、长期记忆(持久知识)、共享记忆(多代理协调)

### 50:00-57:30 记忆生命周期与MongoDB解决方案
- **50:45** 记忆转换管道：输入→转换→存储→索引→检索
- **52:30** 记忆生命周期：写入、转换、总结、嵌入、存储、索引、检索
- **54:00** 智能遗忘：移除低价值、过时信息保持记忆连贯
- **55:15** RBC框架：可靠性(Reliable)、可信性(Believable)、能力性(Capable)
- **56:30** MongoDB Atlas作为记忆基础：灵活文档模型、原生向量搜索、Voyage AI集成
- **57:00** 总结三大要点：上下文≠记忆、记忆必须工程化、可靠代理需要可靠记忆系统