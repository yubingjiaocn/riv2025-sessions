# AWS re:Invent 2025 会议总结：大规模日志管理无需妥协

## 会议概述

本次会议由Bronto产品负责人Mike Neville O'Neal和teamwork.com工程经理AO Mahoney共同主讲，主题聚焦于如何在大规模场景下实现高效的日志管理而无需做出妥协。会议深入探讨了传统日志解决方案面临的"3C妥协飞轮"问题：成本（Cost）、覆盖范围（Coverage）和复杂性（Complexity）。当日志规模扩大时，高昂的成本迫使企业缩短数据保留期、削减数据源，导致基础设施可见性出现盲区，最终团队不得不部署多个日志系统来弥补缺口，进一步增加了成本和运维复杂度。

Bronto作为一个日志优先的可观测性平台，通过创新的架构设计打破了这一恶性循环。该平台基于AWS完全构建，采用存储与计算分离的架构，利用S3的专有优化格式存储日志数据，并通过Lambda实现弹性查询能力。这使得Bronto能够以每GB几美分（而非几美元）的成本提供服务，同时支持默认12个月的热数据保留，并在PB级规模下实现亚秒级查询性能。会议还展示了多项AI驱动的功能，包括自动仪表板创建、智能日志解析、AI辅助故障调查等，显著降低了平均修复时间（MTTR）和运维负担。

teamwork.com的实际案例验证了Bronto的价值。作为一家拥有超过20,000客户的项目管理SaaS平台，teamwork.com每月处理约33TB的日志数据。在采用Bronto之前，他们使用多个自建和云端解决方案（包括CloudWatch、Graylog和OpenSearch），面临着高昂的运维成本、有限的数据保留期和复杂的多系统管理问题。迁移到Bronto后，他们实现了42%的软件成本节省，将保留期从2周延长至90天（客户流量日志达12个月），并大幅简化了运维工作，使非技术团队也能轻松查询日志数据。

## 详细时间线

### 开场与问题定义 (0:00 - 3:30)

- **0:00** - Mike Neville O'Neal（Bronto产品负责人）和AO Mahoney（teamwork.com工程经理）介绍会议主题："大规模日志管理无需妥协"
- **0:30** - 提出典型场景：凌晨3点系统故障时，需要在公司使用的7个不同日志系统（CloudWatch、Elastic、Graylog、S3+Athena等）中查找数据
- **1:00** - 阐述"3C妥协飞轮"概念：成本（Cost）→覆盖范围（Coverage）→复杂性（Complexity）的恶性循环
- **1:30** - 说明传统日志方案在规模化后成本成为主要制约因素
- **2:00** - 描述常见应对措施：将数据保留期从30天缩短至7天甚至3天
- **2:30** - 进一步削减数据源：CDN数据、调试日志等"噪音"数据被舍弃
- **3:00** - 导致基础设施可见性出现盲区，如同阅读撕掉几章的小说

### Bronto平台介绍 (3:30 - 8:00)

- **3:30** - 团队为填补可见性盲区而部署临时解决方案，导致工具激增
- **4:00** - 工具激增增加总拥有成本和工程师在不同系统间切换的摩擦成本
- **4:30** - Bronto定位：打破3C妥协飞轮的日志优先可观测性平台
- **5:00** - 核心特性：默认12个月热数据保留，经过PB级规模测试
- **5:30** - 定价模式：入门价格为每GB几美分而非几美元
- **6:00** - 高效架构实现成本优势
- **6:30** - 提供异常透明的使用量和账单信息，用户始终了解费用增长原因
- **7:00** - 支持任何代理集成（New Relic、Datadog、OpenTelemetry、Fluent Bit等），无专有代理
- **7:30** - 支持任何HTTP协议的数据发送，甚至可以通过curl命令发送日志

### AI功能与产品特性 (8:00 - 12:00)

- **8:00** - AI功能已在生产环境中可用，非路线图演示
- **8:30** - 能够对多TB数据集实现亚秒级搜索性能
- **9:00** - 展示产品界面：左侧为CDN数据仪表板（按POP的缓存命中率、按地理位置的请求等）
- **9:30** - 右侧为使用量浏览器（Usage Explorer），回答三个关键问题：摄入多少数据、哪些团队在摄入、是否有人实际使用这些数据
- **10:00** - 提供搜索和摄入指标的细粒度可见性
- **10:30** - AI仪表板创建：通过自然语言提示创建仪表板（如"显示所有服务的500错误"）
- **11:00** - AI生成解析器：自动识别数据格式并创建解析器，无需编写正则表达式或Grok模式
- **11:30** - AI调查功能（Brontoscope）：不仅解释错误，还识别关键字段、自动启动查询、建议根本原因分析

### 创新技术：Statement IDs (12:00 - 14:00)

- **12:00** - 生成额外查询以继续调查和了解影响范围
- **12:30** - 将调查时间从15-30分钟缩短至15秒
- **13:00** - Statement IDs：Bronto独有技术，为每条日志消息关联唯一指纹
- **13:30** - 功能一：从日志行直接跳转到GitHub中生成该日志的代码，实现从发现到修复的快速通道
- **14:00** - 功能二：识别日志模式，找出最频繁和最罕见的消息，发现异常和新出现的消息

### 分布式追踪与命名功能 (14:00 - 15:30)

- **14:00** - 识别事务或序列中的日志变化
- **14:30** - 本季度发布分布式追踪功能，特别是跨服务关联
- **15:00** - 强调"日志优先但非日志唯一"，追踪帮助理解问题发生位置，日志帮助理解原因
- **15:30** - AI自动命名功能：为告警、解析器、仪表板等自动生成名称，减轻凌晨3点查看监控定义的负担

### 架构深度解析 (15:30 - 21:00)

- **15:30** - Bronto完全基于AWS构建
- **16:00** - 核心架构：存储与计算分离，这是成本效率的关键
- **16:30** - 数据摄入流程：通过HTTP接收数据，流向负载均衡器后的EC2实例
- **17:00** - 数据流向MSK（Managed Streaming for Kafka），然后以专有格式写入S3
- **17:30** - Web UI和API：使用EC2和CloudFront组合提供服务
- **18:00** - 存储层：使用S3的专有优化格式，专门针对日志数据优化
- **18:30** - 采用现代分析引擎技术：激进压缩、列式存储、布隆过滤器、数据分区
- **19:00** - 专有格式实现其他工具无法达到的查询速度
- **19:30** - Lambda作为查询体验的支柱：提供强大能力同时保持成本效率
- **20:00** - 查询大量数据时并行启动数百个Lambda，仅为实际使用的计算付费
- **20:30** - 避免过度配置，保持成本优势并传递给客户

### 安全与成本模型 (21:00 - 23:00)

- **21:00** - 安全措施：使用Cognito进行身份验证，Verified Permissions实现基于属性的访问控制（ABAC）
- **21:30** - 漏洞管理：使用AWS Inspector和GuardDuty
- **22:00** - 成本模型难以被竞争对手复制，因为传统工具假设每GB都有昂贵的索引成本
- **22:30** - Bronto从根本上采用不同架构，假设成本应为几美分而非几美元

### 性能基准测试 (23:00 - 24:30)

- **23:00** - 性能图表展示：X轴为查询数据集大小（GB），Y轴为查询持续时间（毫秒）
- **23:30** - 各种查询类型：计数日志事件、检测SQL注入攻击、查找罕见UUID、列出慢响应时间事件
- **24:00** - 所有查询在5TB数据集上均在500毫秒内完成
- **24:30** - 这种性能体验是架构解锁的能力

### teamwork.com案例研究 (24:30 - 32:00)

- **24:30** - AO Mahoney介绍teamwork.com：总部位于爱尔兰科克，成立于2007年
- **25:00** - 创始人Peter和Dan曾经营代理公司，发现项目管理解决方案的市场需求
- **25:30** - 产品定位：易用的项目管理与流程化运营
- **26:00** - 多年自筹资金，近年获得7000万美元投资以扩大规模
- **26:30** - 目前拥有超过20,000家全球客户，大量日常用户带来日志挑战
- **27:00** - 产品功能：项目管理、资源管理、财务管理、报告、集成、自动化、AI功能
- **27:30** - 即将发布名为"Teammates"的AI代理功能
- **28:00** - 其他产品：Teamwork Desk（帮助台）、Spaces（知识库）、Team Connect（BI工具集成）

### 迁移前的挑战 (28:00 - 30:30)

- **28:00** - 迁移前的日志挑战：复杂基础设施，混合自建开源、云端和定制解决方案
- **28:30** - 查询结构化和非结构化数据困难，索引问题严重
- **29:00** - 每月约33TB日志，来自不同系统的数十亿条日志
- **29:30** - 运维开销巨大，运行在三个AWS区域（美国和欧盟两个生产区域，一个复制的测试环境）
- **30:00** - 自建系统维护工作量大，需要在不同账户间复制Graylog配置
- **30:30** - 覆盖范围有限：CloudWatch仅保留两周客户流量日志

### 迁移前的痛点 (30:30 - 32:00)

- **30:30** - 开发者日志存储在大型Graylog中，由OpenSearch支持
- **31:00** - 由于成本原因限制OpenSearch节点大小，实际变成先进先出的日志存储
- **31:30** - 噪音大的团队会导致日志过期，无法依赖长期日志视图
- **32:00** - 无法了解哪个团队使用了多少日志分配，成本效率低下且系统脆弱

### 使用Bronto后的改进 (32:00 - 35:00)

- **32:00** - 简化：统一日志解决方案替代了Graylog、CloudWatch和定制方案
- **32:30** - 无需索引管理，不再有OpenSearch索引崩溃问题
- **33:00** - 更长的保留期：标准90天，客户流量日志12个月
- **33:30** - 获得客户长期行为的详细视图
- **34:00** - 仅软件成本就节省42%，不包括维护工作量节省
- **34:30** - 释放SRE工程师，无需维护定制解决方案
- **35:00** - 与其他SaaS方案对比：某些供应商仅摄入成本就超过Bronto全年运营成本

### 新功能与客户体验 (35:00 - 37:00)

- **35:00** - 从价格角度看体验非常积极
- **35:30** - 使用量浏览器：详细了解哪些团队创建日志以及系统中的实际使用情况
- **36:00** - 更重要的改进：可以让非技术团队和员工使用日志界面
- **36:30** - 支持团队和产品经理现在可以更轻松地查询日志，减轻工程师准备日志输出的负担
- **37:00** - 客户体验优秀：功能请求响应迅速，合作体验极佳

### 总结与行动号召 (37:00 - 37:30)

- **37:00** - Mike感谢AO的分享
- **37:15** - 邀请参会者访问1757号展位
- **37:30** - 可在bronto.io注册免费试用，无需信用卡