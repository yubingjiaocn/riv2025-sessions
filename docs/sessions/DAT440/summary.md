# AWS re:Invent 2025 DynamoDB Global Tables 会议总结

## 会议概述

本次技术会议由AWS工程师Somu Perianayagam和DynamoDB高级首席工程师Amrith Kumar主讲，深入探讨了DynamoDB Global Tables的两种复制模式及其适用场景。会议重点介绍了异步复制模式和多区域强一致性(MRSC)模式的技术原理、一致性保证和故障处理机制。

演讲者通过详细的技术架构图、时序图和现场演示，展示了两种模式在不同工作负载下的性能表现和权衡考量。会议特别强调了在构建多区域应用时需要考虑的延迟、一致性和可用性之间的平衡，以及如何根据业务需求选择合适的复制策略。

## 详细时间线与关键要点

### 00:00-05:00 会议开场与背景介绍
- 介绍演讲者：Somu Perianayagam(AWS工程师)和Amrith Kumar(DynamoDB高级首席工程师)
- 阐述多区域数据需求：低延迟访问、合规要求、高可用性
- 强调多区域架构的复杂性：跨洋延迟差异(弗吉尼亚到东京数百毫秒 vs 弗吉尼亚到俄亥俄20毫秒)
- 提出核心权衡：性能 vs 一致性，RPO vs RTO

### 05:00-15:00 一致性模型基础概念
- 详解四种一致性模型：
  - 强一致性：写入后所有读取立即可见
  - 最终一致性：写入后数据最终收敛
  - 读写一致性：写入者可立即读取自己的写入
  - 单调读取：时间始终向前推进
- DynamoDB架构概览：请求路由器、存储节点、三副本机制
- 最终一致性读取 vs 强一致性读取的区别

### 15:00-25:00 异步Global Tables复制机制
- 复制流程：本地写入 → DynamoDB Streams → 复制器 → 目标区域
- 多区域架构：每个区域对应独立的单向复制器
- 传播延迟和独立故障域设计
- 按项目(per-item)顺序保证，跨项目无顺序保证

### 25:00-35:00 冲突解决与故障模式
- 最后写入者获胜(Last Writer Wins)机制
- 基于时间戳的冲突解决
- 三种故障场景分析：
  - 单区域离线：其他区域正常复制
  - 网络分区：本地数据服务，恢复后追赶
  - 部分网络中断：不进行中继转发
- DynamoDB Streams通知机制

### 35:00-42:00 多区域强一致性(MRSC) Global Tables
- 解决客户痛点：指定主区域方案的局限性
- 多区域日志(Multi-region Journal)架构
- 写入流程：GT复制引擎 → 日志条目 → 多区域日志 → 回调应用
- 并发写入序列化机制

### 42:00-47:00 强一致性读取与故障处理
- 读取栅栏(Read Fence)机制：心跳日志条目确保完整性
- 强一致性读取延迟接近写入延迟
- 见证区域(Witness Region)概念：降低运营成本
- 故障场景对比：区域隔离、网络分区的不同表现

### 47:00-50:00 现场演示与总结
- 单写入者场景演示：
  - 异步模式：本地读取延迟低(80ms)，数据最终一致
  - MRSC模式：强一致性读取延迟高(200ms)，数据立即一致
- 多写入者场景演示：
  - 异步模式：各区域独立计数，最终值相同
  - MRSC模式：全局序列化，存在重试机制和延迟增加
- 选择建议：根据RPO要求、延迟容忍度和一致性需求选择合适模式
- 强调故障注入测试的重要性