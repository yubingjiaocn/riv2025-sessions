# AWS re:Invent 2025 - ISV404: 构建弹性SaaS：多账户弹性测试模式

## 会议概述

本次会议由AWS高级解决方案架构师Kanniah VJ主讲，重点介绍如何使用AWS故障注入服务(FIS)为多租户SaaS架构构建弹性测试模式。会议深入探讨了SaaS架构的核心原则，包括租户隔离、噪声邻居缓解、身份访问管理等六大关键支柱。

演讲者通过实际的AWS参考架构演示了两个SaaS解决方案：电商解决方案和检索增强生成(RAG)解决方案，展示了如何在多账户环境中进行受控的故障注入实验。会议强调了弹性测试不是制造混乱，而是通过受控实验来验证系统假设，减少爆炸半径，确保不影响关键工作负载。

## 详细时间线与关键要点

### 00:00-05:00 会议开场与背景介绍
- 介绍会议主题ISV404：构建弹性SaaS多账户弹性测试模式
- 演讲者自我介绍：Kanniah VJ，AWS英国ISV团队高级解决方案架构师
- 提出核心问题：如何主动验证多账户弹性架构以防止多租户SaaS注册失败

### 05:00-10:00 SaaS架构核心原则
- 介绍构建弹性SaaS架构的六大关键支柱：
  - 强大的租户隔离防止安全和数据泄露
  - 噪声邻居缓解维持一致的用户体验
  - 全面的身份访问管理确保安全租户边界
  - 租户感知可观测性
  - 战略分层服务多样化客户群体
  - 成本感知跟踪机制
- 将SaaS基础与AWS Well-Architected可靠性支柱相关联

### 10:00-15:00 AWS弹性生命周期框架
- 介绍五个关键阶段的弹性生命周期：
  - 设定目标：理解工作负载所需的弹性级别
  - 设计和实施：预测各种故障模式
  - 评估和测试：执行弹性测试
  - 操作：关注可观测性工具
  - 响应和学习：基于事件制定缓解策略

### 15:00-20:00 弹性实验阶段
- 详细解释弹性实验的四个阶段：
  - 稳定状态：测量工作负载的正常行为基线
  - 假设：定义要验证的系统弱点场景
  - 运行实验：基于假设注入特定故障
  - 改进：评估结果并改进架构

### 20:00-25:00 AWS故障注入服务(FIS)介绍
- FIS作为完全托管服务的优势
- 实验模板的三个关键组件：
  - 操作：要执行的故障活动
  - 目标：AWS资源架构模式
  - FIS安全防护：定义实验停止条件
- 与第三方可观测性工具的集成能力

### 25:00-30:00 真实世界SaaS工作负载架构
- 介绍两个关键角色：SaaS提供商和租户
- AWS SaaS参考架构包括：
  - 控制平面：租户管理、管理员管理、计费指标、身份验证
  - 应用平面：EKS应用平面、无服务器应用平面、生成式AI应用

### 30:00-35:00 多账户结构设置
- 展示跨US East 1和US West 2两个区域的多账户设置
- 四个不同账户的角色：
  - 账户1：FIS实验编排的单一控制面板
  - 账户2：控制平面和电商应用平面
  - 账户3：RAG解决方案
  - 账户4：使用CloudWatch进行跨账户可观测性

### 35:00-40:00 模式一：多租户噪声邻居演示
- 实际演示噪声邻居场景
- 配置API网关使用计划限制每个租户请求
- 通过Lambda授权器进行租户特定令牌限制验证
- 演示故障注入：禁用EventBridge规则和删除CloudWatch日志流

### 40:00-45:00 模式一结果分析与其他模式介绍
- 分析故障注入后租户能够绕过限制的行为
- 介绍其他弹性测试模式：
  - 模式二：租户隔离（使用基于属性的访问控制）
  - 模式三：无服务器应用程序超时场景
  - 模式四：EKS应用程序高可用性

### 45:00-51:00 关键要点与总结
- 强调理解工作负载架构的重要性
- 识别弹性测试的关键目标
- 将弹性测试作为持续迭代过程集成到CI/CD中
- 提供AWS技能构建器和AWS Village展台的学习资源信息