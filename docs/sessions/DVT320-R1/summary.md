# AWS re:Invent 2025 Kira 会话总结

## 会话概述

本次会话是关于 AWS 新推出的开发工具 Kira 的技术演示。两位来自 AWS 下一代开发者体验团队的专家解决方案架构师 Ryan Yanchel 和 Ryan Bachmann 主持了这场互动式代码演示会议。

Kira 是 AWS 在 2025 年发布的一款创新型 AI 辅助开发工具,在会议前两周刚刚正式发布(GA)。该工具的核心创新在于引入了"规格驱动开发"(Spec-Driven Development)方法,解决了传统生成式 AI 开发工具在企业级应用中面临的三大挑战:规模化问题、控制力不足和代码质量不稳定。与其他 AI 编码工具直接生成代码不同,Kira 采用了软件工程的最佳实践,先生成需求文档、设计文档和项目计划,让开发者在实际编码前有机会审查和调整所有技术决策。

在演示环节中,演讲者现场根据观众建议构建了一个健身追踪 Web 应用,完整展示了从一句话需求到生成详细规格文档的全过程,生动诠释了 Kira 如何帮助开发团队在大型项目中保持一致性和可控性。

## 详细时间线与关键要点

### 开场介绍 (00:00 - 05:30)
- **00:00** - 会议开始,介绍演讲者身份:两位 Ryan 均来自 AWS 下一代开发者体验团队,专注于帮助客户在组织内部署生成式 AI 开发工具
- **01:20** - 说明这是一场互动式代码演示会议(Code Talk),鼓励观众提问和参与
- **02:15** - 宣布将根据观众建议现场构建应用程序
- **03:45** - 介绍 Kira 是相对较新的产品,在会议前约两周刚刚正式发布(GA)

### Kira 产品背景与核心理念 (05:30 - 12:00)
- **05:30** - 解释为什么要构建另一个 AI 开发工具:回顾生成式 AI 工具的演进历程
  - 第一阶段:简单的自动补全和聊天功能
  - 第二阶段:针对特定任务的辅助功能
  - 第三阶段:代理式开发(Agentic Development),处理复杂的多步骤任务
- **07:45** - 阐述代理式开发的三大承诺:自主性、协作性、高质量代码
- **08:30** - 指出现有工具在生产环境中的三大挑战:
  1. **规模化问题**:如何处理拥有 120 万行代码和 150 名开发者的大型项目
  2. **控制力不足**:LLM 会自行填补提示中缺失的细节,可能做出错误决策
  3. **代码质量**:非确定性导致不同开发者获得不一致的结果

### 规格驱动开发方法论 (12:00 - 15:30)
- **12:00** - 介绍规格驱动开发(Spec-Driven Development)概念:回归软件开发的基本原则
- **12:45** - 传统软件开发流程:需求文档 → 设计文档 → 项目计划 → 实施
- **13:30** - Kira 的方法:先生成需求文档、设计文档和项目计划,让开发者审查后再开始编码
- **14:20** - 强调这种方法适用于单人绿地项目和 100 人团队的大型项目,因为都基于相同的上下文工作

### 现场演示准备 (15:30 - 18:00)
- **15:30** - 开始征集观众建议,决定构建什么应用
- **16:00** - 观众提出建议:健身应用、活动管理应用、酒店礼宾应用
- **17:00** - 最终决定构建健身追踪应用
- **17:30** - 输入提示:"我想构建一个 Web 应用来管理我的健身活动,并确定我是否真的完成了这些活动以及消耗了多少卡路里"

### Kira 界面与功能介绍 (18:00 - 22:00)
- **18:00** - 展示 Kira 界面,说明它是 VS Code 的分支版本
- **18:30** - 介绍两种模式:
  - **Vibe 模式**:类似传统 AI 工具,直接开始编码
  - **Spec 模式**:先生成规格文档
- **19:15** - 指出提示中缺失的细节:未指定技术栈(React/Python/.NET)、是否需要身份验证、应用架构等
- **20:00** - 选择 Spec 模式并启动生成过程

### 需求文档生成 (22:00 - 28:00)
- **22:00** - Kira 开始生成需求文档(requirements.md)
- **22:30** - 需求文档包含:
  - 高层次介绍和概述
  - 术语表:定义用户、活动、活动类型、卡路里计算、活动日志等
- **24:00** - 生成了 7 个用户故事,每个包含验收标准
- **25:00** - 用户故事遵循 EARS(易于访问的需求规范)行业标准格式
- **26:00** - 示例用户故事:"作为用户,我想创建和管理健身活动,以便规划和追踪我的锻炼计划"
- **27:00** - 演示如何手动编辑需求文档,例如添加"位置"属性

### 设计文档生成 (28:00 - 33:00)
- **28:00** - 进入设计阶段,Kira 开始生成设计文档
- **28:30** - 说明设计文档将定义技术实现细节:编程语言、库、身份验证、错误处理、测试策略等
- **29:00** - 介绍属性基础测试(Property-Based Testing):不仅测试正常路径,还测试边界情况
- **30:00** - 设计文档内容:
  - 架构层次:基础层、业务层、数据访问层
  - 技术栈:React + TypeScript
  - 状态管理:React Context API
  - UI 框架:Tailwind CSS
  - 数据存储:浏览器本地存储
- **31:30** - 包含错误处理、输入验证、业务逻辑错误处理策略
- **32:00** - 测试策略:单元测试、集成测试、属性基础测试

### MCP 服务器与代理引导问答 (33:00 - 40:00)
- **33:00** - 观众提问:MCP 服务器是否默认安装?什么是代理引导(Agent Steering)?
- **33:30** - 回答:MCP 服务器需要手动安装,可以在用户级别或项目级别安装
- **34:00** - 支持本地和远程 MCP 服务器,可通过 OAuth 连接
- **35:00** - 解释代理引导:类似于其他工具中的"规则"或"上下文"概念
- **36:00** - 生成引导文档功能:为现有代码库自动生成文档
  - 反向分析现有代码
  - 生成三个关键文件:
    1. **Product 文件**:代码的自然语言摘要
    2. **Tech 文件**:技术栈、库、错误处理策略、测试命令等
    3. **Roadmap 文件**:目录结构、文件说明、模块依赖关系、变更影响范围(爆炸半径)
- **38:30** - 引导目录是开放式的,可以添加自定义规则、第三方 API 文档等
- **39:00** - 所有引导文件存储在项目根目录的 .kira 目录中

### 上下文窗口与团队协作问答 (40:00 - 45:00)
- **40:00** - 观众提问:是否存在技术上的上下文限制?
- **40:30** - 回答:Kira 当前有 20 万 token 的上下文窗口,未来计划扩大
- **41:00** - 当上下文窗口满时,Kira 会询问是否压缩当前会话
- **41:30** - 强调规格文件和引导文档的优势:
  - 信息已记录在 Markdown 文件中
  - 可以重置会话而不丢失重要信息
  - 可以跨团队共享文件
  - 团队成员可以从任何机器继续工作
- **43:00** - 观众提问:如何与 Jira 等项目管理工具集成?
- **43:30** - 回答:通过 MCP 服务器集成 Jira
  - 可以在提示中引用 Jira 用户故事
  - Kira 会获取 Jira 信息并用于生成规格

### 代理钩子(Agent Hooks)功能 (45:00 - 48:00)
- **45:00** - 介绍代理钩子:事件驱动的提示机制
- **45:30** - 示例用例:当需求文档发生变化时,自动将更改同步回 Jira
- **46:00** - 工作原理:
  - 监听文件保存事件(如 requirements.md)
  - 自动执行预定义的提示
  - 总结变更并推送到相应的 Jira 用户故事
- **47:00** - 解决了多个真实来源的问题,避免 Jira 和代码库之间的数据漂移

### 实施计划生成 (48:00 - 结束)
- **48:00** - 继续演示,进入实施计划阶段
- 演示继续进行,展示 Kira 如何将需求和设计转化为可执行的项目计划

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


关键特性总结:
- Kira 是基于 VS Code 的分支
- 核心创新:规格驱动开发方法
- 支持 MCP 服务器集成
- 自动生成引导文档用于现有代码库
- 代理钩子实现自动化工作流
- 20 万 token 上下文窗口
- 所有规格和引导文件以 Markdown 格式存储,便于版本控制和团队协作