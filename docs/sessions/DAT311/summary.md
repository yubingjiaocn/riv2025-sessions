# AWS re:Invent 2025 DynamoDB 数据建模会议总结

## 会议概述

本次会议由AWS首席解决方案架构师Jason Hunter主讲，专注于DynamoDB数据建模技术。这是一场300级别的技术会议，面向对DynamoDB有一定了解但希望深入学习的开发者。Hunter通过图书馆电话簿的类比来解释DynamoDB的工作原理，然后通过构建聊天机器人历史记录应用的实际案例，深入讲解了数据建模的核心概念和高级技巧。

会议涵盖了从基础概念到企业级扩展的完整内容，包括分区策略、索引设计、成本优化、数据压缩、流处理以及与OpenSearch的集成。Hunter特别强调了在高并发场景下的分片技术和Point in Time Recovery的重要性，为开发者提供了实用的最佳实践指导。

## 详细时间线与关键要点

### 00:00-05:00 会议开场与图书馆类比
- Jason Hunter自我介绍，AWS DynamoDB专业解决方案架构师
- 使用图书馆电话簿类比解释DynamoDB基本概念
- 分区键(PK)类似城市名，排序键(SK)类似姓名排序
- 解释基础表、本地二级索引(LSI)和全局二级索引(GSI)的概念

### 05:00-10:00 索引机制详解
- LSI：相同分区键，不同排序键（如黄页按行业分类）
- GSI：不同分区键和排序键（如按邮编分类的电话簿）
- 强一致性读取 vs 最终一致性读取的区别
- 三个可用区的数据复制机制

### 10:00-15:00 分区工作原理
- 默认按需表创建4个分区
- 使用哈希而非字母顺序分配数据，确保均匀分布
- 分区分裂机制：10GB大小限制，热点分裂
- 每个分区的硬限制：3000读容量单位，1000写容量单位

### 15:00-20:00 数据建模基础
- 分区键和排序键的命名约定（PK/SK）
- 多值分区键的构建方法
- 新功能：GSI支持多属性分区键和排序键
- 常见排序键模式：类型前缀、时间戳、层次结构

### 20:00-25:00 聊天机器人应用案例
- 需求分析：用户ID查询所有线程、特定线程、最近线程
- 数据模型设计：UserID作为分区键，时间戳+线程ID作为排序键
- 使用NoSQL Workbench进行数据可视化
- 稀疏GSI的应用：仅索引元数据项

### 25:00-30:00 高级建模技术
- 处理新需求：仅查询线程元数据
- 稀疏GSI vs LSI vs 双写 vs 事务写入的权衡
- 最终一致性的处理策略
- 事务成本是普通操作的两倍

### 30:00-35:00 成本优化策略
- 数据压缩：gzip和lz4比较，推荐lz4
- 静态与动态数据分离，减少更新成本
- 写入成本按项目大小计算的影响
- 游戏背包存储的设计考量

### 35:00-40:00 企业级扩展技术
- 软删除模式的实现
- 分片技术解决热分区问题
- 删除状态GSI的分区键设计
- 支持每秒10000+删除操作的架构

### 40:00-45:00 高级集成与恢复
- DynamoDB Streams与Lambda集成进行实时计费
- 确保Lambda处理的幂等性
- 与OpenSearch的Zero-ETL集成实现全文搜索
- Point in Time Recovery和增量导出的成本对比：$150/TB vs $0.10/GB