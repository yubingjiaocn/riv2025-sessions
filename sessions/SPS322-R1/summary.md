# AWS re:Invent 2025 会议总结：使用编码代理构建智能系统

## 会议概述

本次会议由AWS专业服务团队的Ator和Istan主讲,分享了他们在AWS专业服务组织中采用编码代理(Coding Agent)的实践经验和经验教训。

会议的核心主题是解决"盲目编码代理问题"(Blindfolded Coding Agent Problem)。演讲者指出,虽然编码代理能够快速生成代码,但如果没有提供足够的上下文信息和约束条件,生成的代码往往无法满足企业的实际需求。快速的代码不一定是好代码,好代码也不一定是适合特定组织的正确代码。为了解决这个问题,团队开发了一套完整的方法论,通过规范驱动开发(Spec-driven Development)、钩子(Hooks)、指导文档(Steering Docs)和模型上下文协议(MCP)等功能,将人类上下文转化为代理可理解的上下文,从而实现精确的代码生成。

会议还深入探讨了智能代理架构,包括如何处理内部知识和外部知识。通过数据代理层、专家代理面板和深度研究框架(Deep Research Framework),系统能够评估可重用组件,并从互联网获取最新信息。这种多代理架构确保了生成的解决方案不仅技术上正确,而且符合组织的具体要求和最佳实践。演讲者通过实际演示展示了整个工作流程,从原始需求文档到功能需求提取,再到系统架构生成的完整过程。

## 详细时间线

### 开场与问题陈述 (00:00 - 05:30)
- **00:00** - 演讲者Ator和Istan介绍自己,来自AWS专业服务团队
- **00:45** - 介绍会议主题:帮助AWS专业服务组织采用编码代理的经验
- **01:30** - 提出核心问题:盲目编码代理问题(Blindfolded Coding Agent Problem)
- **02:15** - 场景演示:要求代理为电商平台生成认证系统
- **03:00** - 问题展现:代码看起来不错,但不遵循企业的会话管理要求
- **03:45** - 核心观点:快速代码不等于好代码,好代码不等于正确代码
- **04:30** - 比喻说明:没有足够上下文的代理就像蒙眼导航,难以到达目标

### Kiro功能介绍 (05:30 - 12:00)
- **05:30** - 介绍Kiro的内置功能来最小化偏离目标的可能性
- **06:00** - 规范驱动开发(Spec-driven Development):将复杂问题分解为明确的成功标准和任务
- **06:45** - 钩子(Hooks):定义不可协商的要求,类似GPS重新规划路线
- **07:30** - 指导文档(Steering Docs):定义组织的内在知识和设计原则
- **08:15** - MCP(模型上下文协议):访问工具和动态数据
- **09:00** - 区分Steering Docs和MCP:前者是持久的设计原则,后者是动态数据
- **10:00** - 核心问题:如何达到精确水平,避免代理偏离客户需求
- **11:00** - 解决方案:从原始笔记开始,将人类上下文转化为代理可理解的上下文
- **11:45** - 平衡问题:上下文太少导致模糊,太多导致信息过载和冲突

### Kiro环境演示 (12:00 - 20:00)
- **12:00** - 打开Kiro开发环境进行演示
- **12:30** - 展示Kiro界面:左侧项目,右侧会话窗口
- **13:00** - 演示Spec、Hooks、Steering Docs和MCP组件
- **13:45** - 询问Kiro"你能为我做什么?"展示基本交互
- **14:30** - 演示Spec文档结构:需求、设计和任务列表
- **15:30** - 创建Hooks示例:自动更新文档的规则
- **16:15** - 展示Hooks如何在保存文件时触发README更新
- **17:00** - 演示Steering Docs:协作工作流程文档
- **17:45** - Steering Docs内容:推回不良实践、深入问题根源、确认关键操作
- **18:30** - 展示包含模式:always(总是加载)vs manual(按需加载)
- **19:15** - 演示MCP:知识MCP服务器,可搜索AWS文档、博客、GitHub示例

### 实际项目场景 (20:00 - 28:00)
- **20:00** - 切换到示例项目演示
- **20:30** - 场景设定:参加re:invent峰会后整理笔记的需求
- **21:15** - 问题描述:笔记分散在邮件、Slack、会议记录、白板等多处
- **22:00** - 项目目标:创建系统整合截图和笔记,代理帮助回答问题
- **23:00** - 展示原始输入文件夹:包含邮件、Slack讨论、会议记录等
- **24:00** - 介绍设计代理(Design Agent):处理原始笔记的Spec文档
- **25:00** - 执行设计代理任务:读取输入数据,提取需求
- **26:00** - 展示生成的输出:功能需求、非功能需求、用户故事
- **27:00** - 功能需求示例:内容上传界面、AI摘要功能等
- **27:45** - 每个需求包含:优先级、来源引用、成功标准

### 上下文管理策略 (28:00 - 32:00)
- **28:00** - 展示非功能需求:响应时间、可扩展性、存储要求
- **28:45** - 业务目标分解:组织会议学习、改进知识、回答问题等
- **29:30** - 用户故事生成:将需求分解为可执行的工作流
- **30:15** - 知识表示决策框架说明
- **30:45** - Spec使用场景:结构化工作流程,需要追溯标准到需求
- **31:15** - Hooks使用场景:事件驱动自动化,避免无限循环
- **31:45** - Steering Docs使用场景:设计原则,权衡分析决策

### 智能差距问题 (32:00 - 38:00)
- **32:00** - Istan接手演讲,介绍智能差距问题
- **32:30** - 场景:代理提供通用OAuth 2.0而非企业批准的IDP集成模式
- **33:15** - 场景:代理无法提供最新AWS定价信息
- **34:00** - 问题定义:技术正确但上下文不相关的建议
- **35:00** - 内部知识问题:架构决策记录、内部Wiki、团队标准被锁定
- **36:00** - 外部知识问题:训练数据截止时间限制,缺少最新服务功能
- **36:45** - 缺少安全漏洞和补丁信息影响技术栈选择
- **37:30** - 解决方案:将静态知识库转变为智能系统

### 智能代理架构 (38:00 - 45:00)
- **38:00** - 展示智能代理架构图:左侧内部知识,右侧外部数据
- **38:45** - 数据代理层:连接内部系统的专用代理
- **39:30** - 数据代理访问:可重用工件、代码仓库、内部Wiki
- **40:15** - 专家代理面板:功能适配、架构适配、安全、运维专家
- **41:00** - 每个专家评分0-100,评估组件与目标架构的契合度
- **42:00** - 专家产出:评分和差距分析摘要
- **42:45** - 排名和评分阶段:聚合评分,形成组件候选列表
- **43:30** - 外部知识处理:深度研究框架实现
- **44:15** - 深度研究框架来源:Anthropic、LangChain、Mira Flow白皮书

### 深度研究框架 (45:00 - 52:00)
- **45:00** - 深度研究三个主要步骤:规划、执行子任务、生成聚合结果
- **45:45** - 协调器/主代理:将复杂查询拆分为独立任务
- **46:30** - 推理工具帮助协调器规划活动
- **47:15** - 子代理:处理各自的子任务,配备专用工具
- **48:00** - 子代理完成后,形成中间结果返回协调器
- **48:45** - 协调器聚合、清理结果,生成最终输出
- **49:30** - 工具介绍:互联网搜索、浏览器(Chromium/Playwright)
- **50:15** - 文件系统访问:中间结果处理和状态管理
- **50:45** - 专用数据源:GitHub代码仓库通过MCP服务器访问
- **51:30** - Stren Agent可将任何MCP服务器包装为工具

### 经验教训 (52:00 - 55:00)
- **52:00** - 教训1:可观测性是关键,深度研究是复杂系统
- **52:45** - 需要回答:每个子代理在做什么?使用哪些工具?产生什么结果?
- **53:30** - 教训2:理解工具使用方式,代理可能以意外方式使用工具
- **54:15** - 教训3:优化平衡,在资源消耗和输出质量之间找平衡
- **54:45** - 可能花费数小时和数百万token而质量无显著提升
- **55:00** - 需要灵活配置深度研究的深度和广度

### 实际演示 (55:00 - 结束)
- **55:00** - 切换到演示环节
- **55:30** - 回顾前两个阶段:分析输入文档,生成需求和用户故事
- **56:15** - 继续第三阶段:生成系统架构文档
- **56:45** - 代理检查Intelligence Hub MCP服务器的可用性
- **57:30** - 提交功能和非功能需求到后端
- **58:00** - 代理接收作业ID,定期检查状态
- **58:45** - 快进展示:代理等待作业完成
- **59:30** - 作业完成后,代理获取结果
- **60:00** - 结果包含两部分:内部数据和外部数据
- **60:30** - 展示组件评估:Agent Core运行时蓝图被评为最佳匹配
- **61:15** - 每个组件显示专家评估细分和适配性摘要
- **62:00** - 文档末尾包含深度研究分析数据块