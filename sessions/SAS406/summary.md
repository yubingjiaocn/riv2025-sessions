# AWS re:Invent 2025 会议总结：SAS 406 - Hero meets SAS

## 一、会议概述

本次会议由AWS专业服务云架构师Aman和高级解决方案架构师Anthony共同主讲，主题为"Hero meets SAS"（400级别技术讲座）。会议的核心目标是展示如何使用AI工具Kiro结合AWS SAS Builder Toolkit和Well-Architected Framework，快速构建一个生产级的多租户SaaS平台，并在控制平面和租户应用中嵌入AI代理。

演讲者接受了一个看似需要大型团队和六个月时间的挑战：构建一个完整的多租户SaaS控制平面，开发一个服务管理演示应用（支持工单创建、评论和知识库搜索），并在两个层面都集成AI代理功能。整个项目严格遵循Well-Architected原则，实现租户隔离、安全性和可扩展性。会议详细展示了如何通过Kiro的规范驱动开发、代理钩子和MCP服务器等功能，将复杂的SaaS架构开发过程大幅简化，同时保持高质量标准。

演讲强调了AI辅助开发的关键不在于快速构建，而在于快速构建"正确的东西"。通过将SAS Well-Architected Lens作为指导原则，使用SAS Builder Toolkit作为加速器，并利用Kiro的深度上下文理解能力，团队成功实现了从规划到实施的完整开发流程，展示了AI如何成为真正的开发伙伴而非黑盒工具。

## 二、详细时间线与关键要点

### **开场与目标设定 (00:00 - 05:30)**
- **00:00** - Aman自我介绍，说明这是400级别的技术讲座，假设观众具备SaaS和AI工具知识
- **01:15** - 互动环节：询问有多少人在会议中听过"让我们加个AI代理"的建议（大量举手）
- **01:45** - 询问有多少人被要求"顺便把它做成多租户"（较少人举手）
- **02:30** - 宣布会议目标：构建真正的多租户SaaS控制平面，不是原型或演示，而是生产级别的解决方案
- **03:15** - 项目范围：包括租户应用（服务管理产品）、AI代理集成、使用SAS Builder Toolkit和Well-Architected Framework
- **04:00** - 提出核心问题：这听起来像六个月的项目，但有没有更好的方法？

### **SaaS挑战与架构概览 (05:30 - 12:00)**
- **05:30** - 展示会议路线图：目标、SaaS挑战、工具介绍、实际构建过程、经验教训
- **06:15** - 阐述SaaS构建的根本困境：需要快速创新同时管理复杂架构、租户隔离、数据分区
- **07:00** - 展示控制平面架构：React应用托管在S3+CloudFront、API Gateway+Cognito身份验证
- **08:00** - 控制平面服务：租户注册/注销、用户管理、Lambda代理连接Amazon Bedrock Agent Core
- **09:00** - 配置引擎：通过EventBridge连接API到Step Functions，触发CodeBuild作业运行CDK代码
- **10:00** - 租户应用平面：服务管理产品使用无服务器技术，集成AI代理
- **11:00** - 完整架构展示：左侧控制平面服务，右侧租户应用平面

### **Kiro工具介绍与演示 (12:00 - 28:00)**
- **12:00** - 引入Kiro：不仅能构建待办事项应用，更能构建安全的多租户SaaS平台
- **12:45** - Kiro三大核心能力：规范驱动开发、代理钩子（自动化工作流）、MCP服务器连接
- **13:30** - 开始Kiro演示：展示Ghost图标菜单，包括specs、hooks、steering documents、MCP服务器管理
- **14:15** - 演示"生成steering docs"功能：Kiro逆向工程项目源代码（HTML/Python/SQLite）
- **15:00** - 生成的文档：product.md（功能叙述）、tech.md（技术组件）、structure.md（代码结构路线图）
- **16:30** - 创建自定义steering文件：要求Kiro基于PEP 8标准创建Python样式指南
- **17:00** - Kiro使用fetch MCP服务器检索PEP 8信息并创建style-guide.md
- **18:00** - 规范驱动工作流演示：从简单提示生成详细需求、设计文档和项目计划
- **19:00** - requirements.md使用EARS格式（Easy Approach to Requirements Syntax）
- **20:00** - design.md包含架构、数据模型、错误处理技术
- **21:00** - 任务分解：每个任务链接回具体需求，状态跟踪
- **22:30** - 代理钩子演示：监控Python/HTML文件变化，自动生成changelog.md
- **24:00** - 新功能介绍：基于属性的测试（Property-based testing）
- **25:00** - Kiro CLI：将AI代理扩展到终端
- **26:00** - 多仓库支持：在Kiro工作区打开多个代码库
- **27:00** - 检查点功能：会话内自动保存，可回滚
- **27:30** - Kiro Powers：动态加载MCP服务器（如Neo下载功能）

### **Well-Architected Lens与爬虫实现 (28:00 - 38:00)**
- **28:00** - 强调AI风险：不是不能构建，而是会快速构建错误的东西
- **28:45** - 在多租户SaaS中，错误代价高昂：租户隔离漏洞是安全事件
- **29:30** - 引入SAS Well-Architected Lens作为指导原则
- **30:00** - 五大支柱如何塑造需求：
  - 卓越运营：租户感知监控
  - 安全性：租户隔离是绝对基础
  - 可靠性：爆炸半径控制
  - 性能效率：基于租户的扩展
  - 成本优化：保护业务底线
- **31:30** - 挑战：如何将SAS Lens放入Kiro上下文
- **32:00** - 解决方案：使用Crawl4AI开源网络爬虫（55,000+ stars）
- **32:45** - Crawl4AI优势：Markdown原生、快速异步、处理无限滚动、免费开源
- **33:30** - 演示：要求Kiro使用Crawl4AI爬取SAS Well-Architected Lens
- **34:00** - Kiro安装Python依赖、编写爬虫脚本、获取支持链接
- **35:00** - 数据清理：移除cookie偏好等无关文本
- **36:00** - 最终结果：SAS Well-Architected Lens作为steering文档
- **37:00** - 配置MCP服务器：添加Strands、AWS文档、Amazon Bedrock Agent Core
- **37:45** - 创建MCP优先方法的steering文档

### **SAS Builder Toolkit集成 (38:00 - 45:00)**
- **38:00** - 知道原则不等于要重复构建相同内容，需要加速器
- **38:30** - 引入SAS Builder Toolkit（SBT）：开源基础设施工具
- **39:00** - SBT解决常见问题：租户入职、用户管理、隔离、计量
- **39:45** - SBT架构：控制平面处理SaaS管理操作，应用平面是实际应用代码
- **40:30** - SBT完全不限定应用代码，只要订阅控制平面消息并遵守契约
- **41:00** - SBT工具加速常见任务：租户配置/取消配置、用户管理
- **41:30** - Core Utils：添加应用特定配置、租户配置逻辑、身份设置、授权规则
- **42:00** - Amazon EventBridge：连接控制平面和应用平面的事件总线
- **43:00** - 挑战：如何给Kiro足够深的SBT上下文
- **43:30** - 使用Git MCP：将任何Git仓库转换为MCP服务器
- **44:00** - 演示：生成Git MCP URL，要求Kiro添加到mcp.json
- **44:45** - Kiro获取信息、更新MCP配置和steering文档

### **MCP服务器资源分享 (45:00 - 48:00)**
- **45:00** - 分享"秘密"MCP资源列表
- **45:15** - AWS Knowledge MCP：AWS最佳实践、博客、白皮书
- **45:45** - AWS Lab CDK服务器：深度CDK上下文、CDK Nag支持
- **46:15** - Terraform MCP：避免资源名称幻觉
- **46:45** - AWS API MCP：运行CLI命令、查询AWS账户、搜索日志、列出S3存储桶
- **47:15** - Context7：Next.js、NestJS、FastAPI等框架的最新信息
- **47:45** - Chrome DevTools：打开无头浏览器、遍历检查构建内容（还能订便宜机票）
- **48:15** - GitHub MCP：处理复杂Git命令、解决冲突

### **实际构建过程 - Anthony部分 (48:00 - 结束)**
- **48:00** - Anthony接手：从绿地项目开始，不是简单提示
- **48:45** - 与Kiro进行协作规划会话，概述复杂多组件SaaS应用愿景
- **49:30** - Kiro响应：项目计划（需求、设计、任务）
- **50:00** - 分解为七个独立可部署组件：SBT基础设施、AI帮助台、租户入职服务
- **51:00** - 元级规划的重要性：可视化架构、识别集成点、节省返工时间
- **52:00** - Kiro生成详细架构图：租户管理代理vs帮助台代理的清晰分离
- **53:00** - 租户上下文层：包含数据隔离执行器（直接来自Well-Architected Lens理解）
- **54:00** - 共享AI模型：通过Amazon Bedrock
- **55:00** - 从蓝图到实施：关注规模化的质量和一致性
- **56:00** - 日常开发流程：
  1. 审查规范文档
  2. 与Kiro逐步执行任务
  3. 使用代理钩子强制版本控制
  4. 根据发现的漏洞增强需求
  5. 建立自动化测试策略
- **57:00** - 强调"人在回路"理念的重要性
- **58:00** - 迭代方法：专注特定组件，确保高标准
- **59:00** - Kiro生成代码并提供持续反馈

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


会议核心价值：展示了如何将AI工具（Kiro）、架构原则（Well-Architected Lens）和加速器（SAS Builder Toolkit）结合，实现快速且高质量的多租户SaaS平台开发，同时保持安全性、隔离性和可扩展性。