1
00:00:02,858 --> 00:00:03,660
OK, good morning,

2
00:00:03,939 --> 00:00:06,379
everybody. Thank you for joining us

3
00:00:06,379 --> 00:00:08,470
today. So just uh

4
00:00:08,470 --> 00:00:10,618
I wanna start off with this just sort of a quick bit of

5
00:00:10,618 --> 00:00:12,759
interactivity, get a sense of who's in in the

6
00:00:12,759 --> 00:00:15,038
room. How many of you are actively

7
00:00:15,038 --> 00:00:17,120
developing in a in a multi-cloud environment at this

8
00:00:17,120 --> 00:00:19,359
point? Good, good. And

9
00:00:19,359 --> 00:00:21,359
those of you who, OK, keep your hands up for a second, those of you who

10
00:00:21,359 --> 00:00:23,440
are actively in a multi-cloud environment, how

11
00:00:23,440 --> 00:00:25,719
many of you just love all the fun new

12
00:00:25,719 --> 00:00:27,719
stuff and tools and things you have to deal with?

13
00:00:28,039 --> 00:00:28,780
Yeah, very few,

14
00:00:29,158 --> 00:00:30,739
right? Good. Well, that's awesome.

15
00:00:31,000 --> 00:00:33,020
Uh, I'm Clark Ritchie. I'm a principal

16
00:00:33,020 --> 00:00:35,240
technologist here at AWS, and

17
00:00:35,240 --> 00:00:37,359
I'm joined by Eric Weber, who's a senior, uh,

18
00:00:37,639 --> 00:00:38,779
solutions architect at AWS.

19
00:00:39,429 --> 00:00:41,179
And this is exactly the problem

20
00:00:41,478 --> 00:00:43,679
that we're here to help you with today is all

21
00:00:43,679 --> 00:00:46,039
that giant amount of of of

22
00:00:46,039 --> 00:00:48,189
tools and stress you have to deal with in

23
00:00:48,189 --> 00:00:49,279
a multi-cloud scenario.

24
00:00:50,098 --> 00:00:52,228
So we'll talk today a little bit about

25
00:00:52,228 --> 00:00:54,529
some of uh you know the goal overall for the session

26
00:00:54,829 --> 00:00:56,889
uh and the challenges that.

27
00:00:57,789 --> 00:00:59,789
You're all keenly aware of in multi-cloud,

28
00:01:00,149 --> 00:01:02,149
uh, and then we'll get into the meat of it. Eric's gonna

29
00:01:02,149 --> 00:01:03,810
talk to you about centralized node management,

30
00:01:04,129 --> 00:01:05,198
observability,

31
00:01:05,500 --> 00:01:07,549
uh, and we're gonna give you some real customer

32
00:01:07,549 --> 00:01:08,088
stories

33
00:01:08,668 --> 00:01:10,909
on how customers are actually doing this in the real

34
00:01:10,909 --> 00:01:13,019
world and of course some resources

35
00:01:13,019 --> 00:01:15,088
on where to go for next steps.

36
00:01:17,209 --> 00:01:19,250
And really again, this is about all of you, so all

37
00:01:19,250 --> 00:01:21,250
of you who quickly put your hands down

38
00:01:21,250 --> 00:01:23,290
when I asked if this was really fun to have to deal with

39
00:01:23,290 --> 00:01:25,329
all the complexity and the new things

40
00:01:25,329 --> 00:01:27,388
you have to learn and the different tool sets.

41
00:01:28,189 --> 00:01:29,558
This is to help you

42
00:01:29,980 --> 00:01:31,558
make your jobs and your life

43
00:01:31,939 --> 00:01:32,480
easier.

44
00:01:32,859 --> 00:01:34,180
We're actually gonna give you.

45
00:01:35,079 --> 00:01:37,698
Tools and techniques that are actionable

46
00:01:38,278 --> 00:01:39,379
and practical

47
00:01:39,959 --> 00:01:42,308
right now. And

48
00:01:42,569 --> 00:01:44,629
we're gonna give you examples of that after so Eric's gonna give you

49
00:01:44,629 --> 00:01:46,969
real live demos showing you how it can be done

50
00:01:46,969 --> 00:01:49,230
very simply, and we'll give you some customer stories

51
00:01:49,569 --> 00:01:51,730
that show how customers have achieved actual

52
00:01:51,730 --> 00:01:53,790
return on investment and gotten time back

53
00:01:53,930 --> 00:01:55,870
from doing exactly these things.

54
00:01:57,730 --> 00:01:59,010
So in just a level set,

55
00:01:59,278 --> 00:02:01,409
let's define multi-cloud. If I'm

56
00:02:01,409 --> 00:02:03,409
sure if I'd ask all of you, we'd get 100

57
00:02:03,409 --> 00:02:05,709
or so different answers and that's totally fine.

58
00:02:06,329 --> 00:02:08,449
Uh, for the purposes of the talk at

59
00:02:08,449 --> 00:02:10,449
AWS we define being

60
00:02:10,449 --> 00:02:12,588
multi-cloud as running.

61
00:02:14,050 --> 00:02:15,740
One or more of your

62
00:02:16,770 --> 00:02:18,899
applications in different workloads. So maybe

63
00:02:18,899 --> 00:02:21,240
run one in AWS, some one somewhere else.

64
00:02:21,538 --> 00:02:23,618
That's what we define as multi-cloud. If you

65
00:02:23,618 --> 00:02:25,740
just are using one primary cloud provider and

66
00:02:25,740 --> 00:02:27,599
say you're using a SAS service like

67
00:02:27,939 --> 00:02:29,389
Office 365,

68
00:02:29,729 --> 00:02:30,338
that's great,

69
00:02:30,659 --> 00:02:31,460
no problem there,

70
00:02:31,800 --> 00:02:33,479
but that's not what we're really talking about when

71
00:02:34,058 --> 00:02:36,020
we talk about multi-cloud here at AWS.

72
00:02:39,689 --> 00:02:41,719
And so of course as we just talked about, you know, we're all

73
00:02:41,719 --> 00:02:43,669
racing into multi-cloud,

74
00:02:44,028 --> 00:02:46,629
uh, many of us very intentionally

75
00:02:46,849 --> 00:02:47,389
to

76
00:02:48,020 --> 00:02:50,139
drive business outcomes that we're looking

77
00:02:50,139 --> 00:02:50,830
to achieve.

78
00:02:51,729 --> 00:02:53,889
And sometimes kind of multi cloud gets thrust

79
00:02:53,889 --> 00:02:56,300
upon us, right? We have mergers and acquisitions

80
00:02:56,300 --> 00:02:57,379
and next thing you know

81
00:02:58,020 --> 00:03:00,399
you're in more clouds than you ever thought possible

82
00:03:01,179 --> 00:03:03,300
and this of course requires new skill

83
00:03:03,300 --> 00:03:04,849
sets, new training,

84
00:03:05,179 --> 00:03:07,288
new tools, new run books, new

85
00:03:07,288 --> 00:03:08,000
processes,

86
00:03:08,460 --> 00:03:10,319
and we know that it can be

87
00:03:10,778 --> 00:03:11,538
a lot.

88
00:03:12,020 --> 00:03:14,419
So today we're gonna hope to give you some techniques

89
00:03:14,419 --> 00:03:15,240
and some tips

90
00:03:15,538 --> 00:03:17,069
to help you manage and deal with that

91
00:03:17,338 --> 00:03:19,490
and make your life simple. So with that I'm gonna

92
00:03:19,490 --> 00:03:20,219
turn it over to Eric.

93
00:03:21,639 --> 00:03:22,389
Awesome, thank you.

94
00:03:23,118 --> 00:03:25,349
So kind of recapping what was being mentioned,

95
00:03:25,439 --> 00:03:27,250
you know, working on different tools

96
00:03:27,550 --> 00:03:29,419
depending on the environment that we're referring to.

97
00:03:29,830 --> 00:03:32,028
So like we mentioned at the beginning, we're going to

98
00:03:32,028 --> 00:03:34,250
talk first about, you know, centralized node management,

99
00:03:34,419 --> 00:03:36,429
uh, so moving towards getting an understanding

100
00:03:36,429 --> 00:03:38,750
of where our resources are and how we can operate

101
00:03:38,750 --> 00:03:40,389
on them after they're provisioned.

102
00:03:41,050 --> 00:03:43,210
So some of the challenges that we hear in this, you

103
00:03:43,210 --> 00:03:45,250
know, multi-cloud space for node management is, of

104
00:03:45,250 --> 00:03:47,250
course, just getting an understanding of what is your

105
00:03:47,250 --> 00:03:49,409
current inventory. Where are you running servers

106
00:03:49,409 --> 00:03:51,689
and VMs? Are they EC2 on AWS?

107
00:03:51,860 --> 00:03:54,008
You know, are they VMs over in Azure or GCP?

108
00:03:54,288 --> 00:03:56,368
Are they even in an on-prem environment or even

109
00:03:56,368 --> 00:03:57,069
at the edge?

110
00:03:57,610 --> 00:04:00,069
So getting, uh, you know, that foundational

111
00:04:00,210 --> 00:04:02,368
piece of where our resources are running

112
00:04:02,368 --> 00:04:03,110
are critical.

113
00:04:04,379 --> 00:04:06,538
Once we have that established, then we need

114
00:04:06,538 --> 00:04:08,270
to start operating them,

115
00:04:08,740 --> 00:04:11,008
so we'll talk about observability in a moment, but

116
00:04:11,008 --> 00:04:13,500
some of the other challenges when you are operating these

117
00:04:13,500 --> 00:04:15,500
long standing resources or even

118
00:04:15,500 --> 00:04:16,160
short term,

119
00:04:16,500 --> 00:04:18,738
you may also have to deal with patch compliance,

120
00:04:18,939 --> 00:04:21,100
especially when we're talking about regulatory

121
00:04:21,100 --> 00:04:23,379
requirements or even just internal security

122
00:04:23,379 --> 00:04:25,653
requirements that you may need to adhere to. Do

123
00:04:25,653 --> 00:04:27,733
we use ideally a centralized

124
00:04:27,733 --> 00:04:29,975
tool to have our patch scans

125
00:04:29,975 --> 00:04:32,014
in place so we know exactly where those

126
00:04:32,014 --> 00:04:33,855
resources are noncompliant,

127
00:04:34,134 --> 00:04:36,134
how long they've been noncompliant, what is the

128
00:04:36,134 --> 00:04:38,494
upcoming patch schedule or frequency

129
00:04:38,494 --> 00:04:40,014
for when that should be remediated

130
00:04:40,295 --> 00:04:42,423
and to help alleviate some of those concerns you may have.

131
00:04:44,230 --> 00:04:46,519
Another common challenge is direct

132
00:04:46,519 --> 00:04:48,600
RDP or SSH from the

133
00:04:48,600 --> 00:04:50,678
internet. We want to improve our overall

134
00:04:50,678 --> 00:04:52,959
security footprint. We want to do away with

135
00:04:52,959 --> 00:04:55,309
direct connections to these resources.

136
00:04:55,678 --> 00:04:58,000
Remove Port 22 or 3389

137
00:04:58,000 --> 00:05:00,428
from these inbound security group rules. Insistences

138
00:05:00,428 --> 00:05:02,879
Andrew, which we'll talk about, uh, helps you accomplish

139
00:05:02,879 --> 00:05:04,920
that. And then the last

140
00:05:04,920 --> 00:05:07,009
thing is talking about, you know, improving our

141
00:05:07,009 --> 00:05:09,040
overall automations, you know,

142
00:05:09,189 --> 00:05:11,399
rather than performing every single, every single

143
00:05:11,399 --> 00:05:13,559
thing manually, you know, having that direct

144
00:05:13,559 --> 00:05:15,569
connection, you know, going and logging into a node,

145
00:05:15,678 --> 00:05:16,470
running commands.

146
00:05:16,759 --> 00:05:18,879
Let's talk about how we can actually perform this at

147
00:05:18,879 --> 00:05:21,358
scale to help speed up our DevOps

148
00:05:21,358 --> 00:05:23,720
processes. So

149
00:05:23,720 --> 00:05:26,250
what can we use to do that? Well, AWS Systemsander

150
00:05:26,250 --> 00:05:28,730
is going to be the service, you know, that we can use to manage

151
00:05:28,730 --> 00:05:29,889
resources wherever they are.

152
00:05:30,220 --> 00:05:32,250
You know, it's based off of the Systemsandra agent

153
00:05:32,250 --> 00:05:34,149
or SSM agent, as you'll hear it.

154
00:05:34,649 --> 00:05:35,670
Uh, let's go back.

155
00:05:36,129 --> 00:05:37,809
I think it might have an automatic timer, so,

156
00:05:38,129 --> 00:05:40,160
uh, for the Systemsander agent,

157
00:05:40,199 --> 00:05:42,290
we can install it on AWS Resources,

158
00:05:42,439 --> 00:05:44,528
on-prem, at the edge, or even

159
00:05:44,528 --> 00:05:46,528
other cloud providers. We'll keep this here for a

160
00:05:46,528 --> 00:05:48,528
second. And, uh, when we're

161
00:05:48,528 --> 00:05:50,769
talking about AWS, a wide variety of our AMIs

162
00:05:50,769 --> 00:05:52,379
are even going to have it pre-baked in.

163
00:05:52,928 --> 00:05:55,079
And once you have that agent in place,

164
00:05:55,678 --> 00:05:57,699
uh, you can then go ahead and perform all these

165
00:05:57,699 --> 00:05:59,970
node management related tasks or even patching

166
00:05:59,970 --> 00:06:01,600
as well as gathering that inventory.

167
00:06:02,100 --> 00:06:04,238
All right, so now we're ready to go to the slide.

168
00:06:04,858 --> 00:06:07,338
So let's kind of go through each of those four challenges

169
00:06:07,338 --> 00:06:09,399
that I highlighted at the beginning, and we can talk

170
00:06:09,399 --> 00:06:11,410
about how we can, you know, kind of get started

171
00:06:11,410 --> 00:06:13,730
as well as then automate, uh, some of these tasks,

172
00:06:13,939 --> 00:06:16,000
and then we'll even jump into the console afterwards.

173
00:06:16,838 --> 00:06:18,920
So just building out that foundation of

174
00:06:18,920 --> 00:06:20,178
a centralized inventory,

175
00:06:20,480 --> 00:06:22,858
knowing what we need to uh operate

176
00:06:22,858 --> 00:06:24,439
and where those resources reside.

177
00:06:25,149 --> 00:06:27,480
So like I was just saying, it starts with the Systemsander

178
00:06:27,480 --> 00:06:29,588
agent. Now on the left-hand side, we have

179
00:06:29,588 --> 00:06:30,928
our other cloud provider,

180
00:06:31,230 --> 00:06:32,290
on-prem environment,

181
00:06:32,629 --> 00:06:34,730
wherever this uh server or VM resides,

182
00:06:34,858 --> 00:06:36,869
and we, it starts with installing the System Xander

183
00:06:36,869 --> 00:06:37,449
agent.

184
00:06:37,910 --> 00:06:39,949
And as part of that process, you create

185
00:06:39,949 --> 00:06:42,069
what we call a hybrid activation code. Think

186
00:06:42,069 --> 00:06:44,108
of it very similar to an IM access key and

187
00:06:44,108 --> 00:06:46,670
secret key, and we're passing it as part of our installation

188
00:06:46,670 --> 00:06:48,829
to determine which account we want to register

189
00:06:48,829 --> 00:06:50,910
it with, as well as which region, and then

190
00:06:50,910 --> 00:06:51,988
also uh what IM role,

191
00:06:52,910 --> 00:06:54,790
you know, to grant permissions for that agent.

192
00:06:55,939 --> 00:06:58,019
So if you have a connection, you know, between these two

193
00:06:58,019 --> 00:07:00,019
different environments, you can privately connect rather

194
00:07:00,019 --> 00:07:01,338
than going over the public internet,

195
00:07:01,660 --> 00:07:03,778
you know, establish a connection to the Systems Manager

196
00:07:03,778 --> 00:07:04,939
VPC endpoint,

197
00:07:05,259 --> 00:07:07,139
and this will begin that registration process.

198
00:07:07,500 --> 00:07:09,579
So behind each of these SSM agents and

199
00:07:09,579 --> 00:07:11,619
these hybrid activation codes is uh

200
00:07:11,619 --> 00:07:13,660
an IM role that can be used by

201
00:07:13,660 --> 00:07:15,819
the SSM agent, as well as your other

202
00:07:15,819 --> 00:07:17,899
applications and resources that are on that same VM.

203
00:07:18,459 --> 00:07:20,548
So, It'll generate

204
00:07:21,290 --> 00:07:22,850
temporary STS tokens,

205
00:07:23,170 --> 00:07:25,209
so these are going to be ephemeral. These will be constantly

206
00:07:25,209 --> 00:07:27,439
rotated and handled by the SSM agent,

207
00:07:27,769 --> 00:07:30,088
and they're made available to the operating system.

208
00:07:30,730 --> 00:07:32,899
So if you do have other applications that need to

209
00:07:32,899 --> 00:07:34,980
access AWS resources, you know, maybe you have

210
00:07:34,980 --> 00:07:37,278
a web app that needs to access an S3 bucket

211
00:07:37,459 --> 00:07:39,178
or maybe Dynamo DB or RDS,

212
00:07:39,509 --> 00:07:42,129
you can grant that same role permissions and

213
00:07:42,129 --> 00:07:44,178
allow those applications to use the same

214
00:07:44,178 --> 00:07:46,298
temporary credentials that SSM agent

215
00:07:46,298 --> 00:07:47,119
is vending out

216
00:07:47,500 --> 00:07:49,819
uh to go ahead and access AWS resources. You don't,

217
00:07:49,858 --> 00:07:50,639
you can move away

218
00:07:51,009 --> 00:07:53,059
from having, you know, uh, long standing

219
00:07:53,059 --> 00:07:54,088
hardcoded keys.

220
00:07:56,048 --> 00:07:58,250
So, you know, that was kind of the, the manual

221
00:07:58,250 --> 00:08:00,410
process, manually installing SSM age and, creating

222
00:08:00,410 --> 00:08:02,519
that code. Let's talk about how we can automate

223
00:08:02,519 --> 00:08:03,569
this a little bit more.

224
00:08:04,088 --> 00:08:06,569
So, it starts with, you know, the servers or VMs,

225
00:08:06,850 --> 00:08:08,959
uh, we'll take a look at an example script when I flip

226
00:08:08,959 --> 00:08:11,199
over into the console, but essentially, whenever

227
00:08:11,199 --> 00:08:13,428
a new node is spun up, let's go ahead

228
00:08:13,428 --> 00:08:15,509
and uh bake in some user data

229
00:08:15,509 --> 00:08:17,608
or even just an initial startup script to

230
00:08:17,608 --> 00:08:19,649
go ahead and query, uh, what is going

231
00:08:19,649 --> 00:08:21,720
to be an API uh gateway

232
00:08:21,720 --> 00:08:23,759
endpoint. So the query

233
00:08:23,759 --> 00:08:24,670
API gateway

234
00:08:25,209 --> 00:08:27,798
behind that it's backed by lambda.

235
00:08:28,129 --> 00:08:30,559
Lambda is going to perform just a quick evaluation,

236
00:08:30,689 --> 00:08:32,690
you know, has this process been requested yet?

237
00:08:32,849 --> 00:08:34,808
If not, we'll go ahead and proceed

238
00:08:35,129 --> 00:08:37,129
and query, uh, what we're, what we're

239
00:08:37,129 --> 00:08:39,250
going to be using, which is Systems and parameter

240
00:08:39,250 --> 00:08:41,359
store. If you're not familiar with the parameter Store, the

241
00:08:41,359 --> 00:08:43,070
name is pretty straightforward. You can store,

242
00:08:43,450 --> 00:08:45,599
uh, keys and values in parameter

243
00:08:45,599 --> 00:08:47,928
Store, you know, and then access them for your resources.

244
00:08:48,769 --> 00:08:50,928
Now, the reason that this is all kind of required

245
00:08:50,928 --> 00:08:53,210
is that, you know, in order to get this hybrid activation

246
00:08:53,210 --> 00:08:55,849
code, you know, you could also store it in

247
00:08:55,849 --> 00:08:58,428
an uh an external if you have an on-premise, you know, key

248
00:08:58,428 --> 00:08:59,710
vault location,

249
00:09:00,009 --> 00:09:02,168
but if we're trying to access AWS resources like

250
00:09:02,168 --> 00:09:04,379
Parameter Store, we need AWS credentials.

251
00:09:04,690 --> 00:09:06,960
So that's why API gateway is going to be that

252
00:09:06,960 --> 00:09:09,129
intermediary part to be able to serve that

253
00:09:09,129 --> 00:09:11,389
request without having credentials in the first place.

254
00:09:12,798 --> 00:09:14,969
So once lambda verifies that the code is

255
00:09:14,969 --> 00:09:17,048
ready, it'll then deliver it back

256
00:09:17,048 --> 00:09:19,129
to those servers or VMs, and then the node can

257
00:09:19,129 --> 00:09:20,389
go ahead and register.

258
00:09:22,219 --> 00:09:24,308
And this is exactly how Rackspace is actually

259
00:09:24,308 --> 00:09:26,509
doing it. So, you know, on the left hand side

260
00:09:26,509 --> 00:09:28,509
you can see GCP, you can see Azure, you can

261
00:09:28,509 --> 00:09:29,359
see VMware,

262
00:09:29,750 --> 00:09:32,168
you know, they are going to be running these bootstrapping,

263
00:09:32,229 --> 00:09:34,298
uh, scripts that will then go ahead and query an

264
00:09:34,298 --> 00:09:35,649
API gateway endpoint.

265
00:09:35,989 --> 00:09:37,989
Behind that, you know, they have a little bit of

266
00:09:37,989 --> 00:09:40,269
a difference there, but it's going to be, you know, leveraging

267
00:09:40,269 --> 00:09:42,298
lambda to then return back that hybrid

268
00:09:42,298 --> 00:09:44,349
activation code ultimately so that all

269
00:09:44,349 --> 00:09:46,369
these VMs, you know, that are just spun up,

270
00:09:47,080 --> 00:09:48,908
uh, can go ahead and register with Systems Manager.

271
00:09:50,649 --> 00:09:52,779
And you know by doing this, Rackspace is able

272
00:09:52,779 --> 00:09:55,229
to automate their tasks across 100,000

273
00:09:55,229 --> 00:09:57,340
plus DMs on a routine basis.

274
00:09:57,580 --> 00:09:59,700
This is helping reduce the amount of manual

275
00:09:59,700 --> 00:10:00,788
effort that is required.

276
00:10:01,119 --> 00:10:03,139
You know, when you have systems and your agent installed, you can

277
00:10:03,139 --> 00:10:05,210
bootstrap those resources, keep them in a

278
00:10:05,210 --> 00:10:06,779
maintained configuration state.

279
00:10:07,099 --> 00:10:09,219
You can have all of that patching, the session management

280
00:10:09,219 --> 00:10:11,379
that we talked about, as well as just general inventory

281
00:10:11,379 --> 00:10:13,538
data and the ability to run scripts on

282
00:10:13,538 --> 00:10:14,399
them as needed.

283
00:10:15,590 --> 00:10:17,590
So let's go ahead and flip over into the

284
00:10:17,590 --> 00:10:18,509
console now.

285
00:10:21,739 --> 00:10:23,700
All right, and just to get started.

286
00:10:24,859 --> 00:10:27,070
Uh, so I just wanted to start on the Systems Andrew

287
00:10:27,070 --> 00:10:27,759
landing page.

288
00:10:28,109 --> 00:10:30,149
Now this is something, uh, that we launched last year, it's called the

289
00:10:30,149 --> 00:10:31,668
Systems Andrew Unified Console.

290
00:10:31,950 --> 00:10:34,029
You know, it's a way from a delegated administrator account

291
00:10:34,029 --> 00:10:36,349
that you can aggregate data about all these managed

292
00:10:36,349 --> 00:10:37,908
nodes into a single location.

293
00:10:38,609 --> 00:10:40,649
And if we just start on, you know, the initial

294
00:10:40,649 --> 00:10:43,200
dashboard, and we can get some quick

295
00:10:43,200 --> 00:10:45,210
information, and this node summary is going to

296
00:10:45,210 --> 00:10:47,330
highlight how many of our

297
00:10:47,330 --> 00:10:49,609
managed nodes are currently registered

298
00:10:49,609 --> 00:10:52,009
with Systems Manager. If there are any unmanaged

299
00:10:52,009 --> 00:10:54,009
EC2 instances, it'll also highlight

300
00:10:54,009 --> 00:10:56,288
those and it'll give you some options to go ahead and remediate

301
00:10:56,288 --> 00:10:58,349
that. In the middle we can then see

302
00:10:58,349 --> 00:10:59,609
an actual breakdown,

303
00:11:00,099 --> 00:11:02,769
you know, in this simple environment we're just running 11 EC2

304
00:11:02,950 --> 00:11:05,139
and we have about 18 hybrid nodes.

305
00:11:05,349 --> 00:11:07,750
Again, hybrid can mean on-prem, other cloud,

306
00:11:07,830 --> 00:11:10,109
wherever it is that's outside of AWS really.

307
00:11:11,070 --> 00:11:13,109
Following that, we just have some initial information

308
00:11:13,109 --> 00:11:15,529
about what SSM agents are out there

309
00:11:15,908 --> 00:11:17,950
and then diving, you know, into the last two is just going

310
00:11:17,950 --> 00:11:19,989
to be focused around the operating systems, you know, just

311
00:11:19,989 --> 00:11:22,259
give a quick breakdown, is it Windows or Linux,

312
00:11:22,389 --> 00:11:24,469
and then what is the actual operating system running

313
00:11:24,469 --> 00:11:25,250
on each of those.

314
00:11:26,769 --> 00:11:28,908
So from this single

315
00:11:28,960 --> 00:11:31,229
location, we can then go to explore

316
00:11:31,229 --> 00:11:33,529
our nodes and we can see the accounts and regions

317
00:11:33,529 --> 00:11:35,609
as well as the organization units, you know, have

318
00:11:35,609 --> 00:11:37,668
this centralized piece of information

319
00:11:37,668 --> 00:11:39,928
so that we can then start working with our nodes and operating

320
00:11:39,928 --> 00:11:42,058
on them. Now,

321
00:11:42,178 --> 00:11:44,330
if we were to, you know, if we have

322
00:11:44,330 --> 00:11:46,340
a new VM that we want to spin

323
00:11:46,340 --> 00:11:48,558
up, like I mentioned, we can include

324
00:11:48,558 --> 00:11:50,779
uh that bootstrapping uh script

325
00:11:50,779 --> 00:11:53,119
within our, you know, VM image,

326
00:11:53,340 --> 00:11:55,469
or ideally, you know, you can also pre-install the

327
00:11:55,469 --> 00:11:56,340
Systems Manager agent.

328
00:11:57,190 --> 00:11:59,219
And just to kind of jump through this real quick, I'm

329
00:11:59,219 --> 00:12:01,239
over into the Azure console now. I'm gonna go ahead and

330
00:12:01,239 --> 00:12:02,590
spin up an Azure VM,

331
00:12:02,960 --> 00:12:05,058
uh, and we'll, we'll take a look at,

332
00:12:05,200 --> 00:12:07,200
uh, how it is able to

333
00:12:07,200 --> 00:12:09,200
then just automatically register through that process that

334
00:12:09,200 --> 00:12:10,219
we're looking at earlier.

335
00:12:11,779 --> 00:12:14,000
So we're not going to be doing anything too special.

336
00:12:14,058 --> 00:12:16,489
We're just going to go with a lot of the, the basics

337
00:12:16,489 --> 00:12:18,500
here. Uh, so we're just gonna

338
00:12:18,500 --> 00:12:20,739
launch a new Ubuntu node. Uh,

339
00:12:20,859 --> 00:12:22,899
so this was then just going to leverage

340
00:12:22,899 --> 00:12:24,200
a key that I already have.

341
00:12:25,428 --> 00:12:27,099
And then just a few more changes.

342
00:12:29,349 --> 00:12:31,619
All right, just specifying some of the networking

343
00:12:31,619 --> 00:12:33,668
information. Now, in this environment, you know, there is that

344
00:12:33,668 --> 00:12:35,869
connection between uh my Azure VM

345
00:12:35,869 --> 00:12:38,190
or virtual network, as well as uh with database

346
00:12:38,190 --> 00:12:38,788
VPCs.

347
00:12:39,070 --> 00:12:41,149
Um, so it is communicating privately, it doesn't have

348
00:12:41,149 --> 00:12:42,509
to go over the public internet.

349
00:12:43,029 --> 00:12:45,649
Now, you know, this one is still assigning a public

350
00:12:45,649 --> 00:12:47,928
IP but we're just gonna go ahead and remove that

351
00:12:48,889 --> 00:12:50,808
entry point for 22.

352
00:12:51,389 --> 00:12:53,590
Now, the last thing, this is what I was mentioning earlier,

353
00:12:53,710 --> 00:12:56,029
you know, having, uh, that bootstrapping script.

354
00:12:56,769 --> 00:12:58,538
You know, the, the real thing in here,

355
00:12:58,849 --> 00:13:01,288
uh, is that API gateway endpoint.

356
00:13:01,808 --> 00:13:03,849
So again, you know, we need that resource to be

357
00:13:03,849 --> 00:13:05,928
able to get those uh activation codes, uh, which

358
00:13:05,928 --> 00:13:07,969
will take a look at what the an example is,

359
00:13:08,288 --> 00:13:09,269
uh, but we

360
00:13:09,570 --> 00:13:11,700
need that resource to be able to access these,

361
00:13:12,009 --> 00:13:14,389
you know, outside of uh AWS and

362
00:13:14,649 --> 00:13:16,469
prior to actually having credentials itself.

363
00:13:20,619 --> 00:13:22,750
All right. So we will go ahead and launch this, and this will probably

364
00:13:22,750 --> 00:13:24,899
take, you know, 2 to 4 minutes to actually

365
00:13:24,899 --> 00:13:27,229
go ahead and uh register the resource.

366
00:13:27,668 --> 00:13:29,668
Um, so while we are waiting for that, I

367
00:13:29,668 --> 00:13:30,889
just wanna make sure it hits

368
00:13:31,269 --> 00:13:32,408
the deployment. There we go.

369
00:13:32,989 --> 00:13:35,210
So let's take a look at that hybrid activation

370
00:13:35,210 --> 00:13:36,399
code that I've been talking about.

371
00:13:38,330 --> 00:13:40,989
So over in uh the activations

372
00:13:40,989 --> 00:13:42,119
section of the console,

373
00:13:42,418 --> 00:13:44,489
you know, this is where I have a few different codes that

374
00:13:44,489 --> 00:13:46,719
have been created, uh, but just to kind of talk

375
00:13:46,719 --> 00:13:47,869
about this a little bit more.

376
00:13:48,538 --> 00:13:50,739
Again, this is a code that's required

377
00:13:50,739 --> 00:13:52,979
for that resource to know which account and which region

378
00:13:52,979 --> 00:13:53,979
it should register with.

379
00:13:54,460 --> 00:13:56,489
If you're creating it from the CLI or

380
00:13:56,489 --> 00:13:58,500
our SDKs, you can also add some tags that

381
00:13:58,500 --> 00:14:00,538
are automatically added, so you can tag these

382
00:14:00,538 --> 00:14:03,099
hybrid nodes just the same as EC2

383
00:14:03,099 --> 00:14:03,649
instances.

384
00:14:03,940 --> 00:14:06,298
And the real important part that I was

385
00:14:06,298 --> 00:14:08,700
highlighting earlier is this IM role section.

386
00:14:09,960 --> 00:14:12,119
Now in the next section we're gonna talk about observability.

387
00:14:12,200 --> 00:14:14,700
So how do I get, uh, you know, observability

388
00:14:14,700 --> 00:14:15,779
through the cloudwatch agent?

389
00:14:16,080 --> 00:14:18,080
So how do I get credentials to that node? Well,

390
00:14:18,129 --> 00:14:20,279
I can attach cloud watch permissions to the role

391
00:14:20,279 --> 00:14:22,678
that is associated with this code, and then the cloudwatch

392
00:14:22,678 --> 00:14:24,719
agent can go ahead and uh ingest

393
00:14:24,719 --> 00:14:26,719
those credentials and, you know, be able to put

394
00:14:26,719 --> 00:14:27,798
logs and metrics.

395
00:14:29,369 --> 00:14:31,369
So if I just create this activation code,

396
00:14:31,729 --> 00:14:33,950
uh, we then just see that we have this code

397
00:14:33,950 --> 00:14:36,090
as well as an ID which we would then,

398
00:14:36,279 --> 00:14:38,210
you know, normally include within a bootup,

399
00:14:38,649 --> 00:14:40,428
or sorry, like our bootstrapping script.

400
00:14:40,769 --> 00:14:42,960
But these codes, you know, they have an expiration

401
00:14:42,960 --> 00:14:44,719
date of a maximum of 30 days.

402
00:14:45,048 --> 00:14:47,349
So that's why, you know, having some of this automation

403
00:14:47,649 --> 00:14:49,649
behind an API gateway with lambda, you know,

404
00:14:49,729 --> 00:14:50,308
can help

405
00:14:50,889 --> 00:14:53,210
speed up that process so you are not constantly

406
00:14:53,210 --> 00:14:54,668
updating your existing scripts.

407
00:14:57,820 --> 00:14:59,899
So if we go back to the explore nodes

408
00:14:59,899 --> 00:15:02,019
section, let's see if it's uh registered now. Yeah,

409
00:15:02,129 --> 00:15:04,399
so we now have 30

410
00:15:04,739 --> 00:15:07,158
managed resources uh rather than 29.

411
00:15:07,298 --> 00:15:09,298
If we jump back to Azure, let's just check

412
00:15:09,298 --> 00:15:11,288
the IP address for this new one.

413
00:15:11,859 --> 00:15:13,178
So it's 0.07.

414
00:15:15,700 --> 00:15:18,019
So if we take a look at our

415
00:15:18,019 --> 00:15:18,840
resources here.

416
00:15:20,678 --> 00:15:22,460
Mm, so there's our

417
00:15:23,200 --> 00:15:23,779
new

418
00:15:24,479 --> 00:15:26,479
Azure VM4 resource that we

419
00:15:26,479 --> 00:15:27,298
just spun up.

420
00:15:27,678 --> 00:15:29,678
So now it's going to go ahead and perform a

421
00:15:29,678 --> 00:15:31,678
few different evaluations, um, within Systems

422
00:15:31,678 --> 00:15:32,298
Manager.

423
00:15:32,879 --> 00:15:35,099
But, you know, now that we have it as a registered device,

424
00:15:35,509 --> 00:15:37,599
we can go ahead and just start running, uh, our

425
00:15:37,599 --> 00:15:38,580
different tools on it,

426
00:15:38,918 --> 00:15:41,279
you know, so there's uh, a wide variety of

427
00:15:41,279 --> 00:15:43,359
tools that are available out of the box, you know, that you can

428
00:15:43,359 --> 00:15:45,359
use, uh, to grant access,

429
00:15:45,479 --> 00:15:47,599
you know, to your day to day operators that may need

430
00:15:47,599 --> 00:15:49,099
to interact with these resources.

431
00:15:49,710 --> 00:15:51,830
Kind of the huge benefit here is that you know

432
00:15:51,830 --> 00:15:53,830
we don't have to allow actual OS

433
00:15:53,830 --> 00:15:56,320
level access, you know, they can run these commands

434
00:15:56,320 --> 00:15:58,389
from the AWS console, from the AWS CLI, from

435
00:15:58,389 --> 00:16:00,690
our APIs and SDKs,

436
00:16:00,869 --> 00:16:02,869
and interact with it without having to, you

437
00:16:02,869 --> 00:16:04,729
know, fully connect to the operating system itself.

438
00:16:06,349 --> 00:16:08,820
You know, some of the other tools here, let's go ahead and take a

439
00:16:08,820 --> 00:16:10,609
look at just some performance counters

440
00:16:10,928 --> 00:16:13,389
and if we want to just get some on-demand

441
00:16:13,389 --> 00:16:15,428
metrics, you know, get a quick view

442
00:16:15,428 --> 00:16:17,590
at the CPU utilization, maybe disk input

443
00:16:17,590 --> 00:16:18,129
output,

444
00:16:18,509 --> 00:16:20,649
memory usage, or even network traffic, you know, just

445
00:16:20,830 --> 00:16:22,830
getting a quick spot check on how

446
00:16:22,830 --> 00:16:24,918
this node is doing after being spun up just

447
00:16:24,918 --> 00:16:25,710
a few minutes ago.

448
00:16:27,099 --> 00:16:29,279
Uh, let me actually just pull up one of our other,

449
00:16:30,099 --> 00:16:32,340
uh, resources that I deployed earlier

450
00:16:32,340 --> 00:16:32,960
as well.

451
00:16:35,019 --> 00:16:36,519
So this one, if we actually check

452
00:16:36,889 --> 00:16:37,950
its processes,

453
00:16:38,219 --> 00:16:39,399
uh, so when I select,

454
00:16:39,658 --> 00:16:41,700
you know, the processes tool, it's going to uh

455
00:16:41,700 --> 00:16:43,678
establish a connection with SSM agent.

456
00:16:43,969 --> 00:16:45,840
If you're not familiar or if you're not aware,

457
00:16:46,259 --> 00:16:48,599
the SSM agent works on outbound 443

458
00:16:48,599 --> 00:16:49,139
traffic.

459
00:16:49,418 --> 00:16:51,739
So everything is done through, uh, you know, a reverse

460
00:16:51,739 --> 00:16:53,808
connection to our systems and endpoints. And again,

461
00:16:53,820 --> 00:16:56,019
if you have those VPC endpoints deployed, the

462
00:16:56,019 --> 00:16:58,099
node doesn't even have to have access to the internet

463
00:16:58,099 --> 00:17:00,099
at all, and you can still remotely connect to

464
00:17:00,099 --> 00:17:01,298
it and perform these tasks.

465
00:17:02,340 --> 00:17:04,500
So this is going to start up that session against this

466
00:17:04,500 --> 00:17:06,519
hybrid resource and now we can, you

467
00:17:06,519 --> 00:17:09,098
know, get a quick look at what are the live

468
00:17:09,098 --> 00:17:11,078
processes that are running on this node.

469
00:17:11,459 --> 00:17:13,539
Now, earlier just before the session, you know, I

470
00:17:13,539 --> 00:17:15,660
just spun up a stress NG just to go ahead

471
00:17:15,660 --> 00:17:17,068
and peg the server,

472
00:17:17,380 --> 00:17:19,459
but for any of these processes, you know, I can then go

473
00:17:19,459 --> 00:17:20,799
ahead and terminate it,

474
00:17:21,578 --> 00:17:23,578
just go ahead and, you know, stop that

475
00:17:23,578 --> 00:17:25,890
stress test, you know, this, this node can go back to,

476
00:17:26,299 --> 00:17:28,608
you know, it's typical 1 or 2%

477
00:17:28,608 --> 00:17:29,400
CPU utilization.

478
00:17:30,500 --> 00:17:32,719
So this is a great way to be able to interact

479
00:17:32,719 --> 00:17:35,160
with these resources without having to fully

480
00:17:35,160 --> 00:17:35,979
remotely connect.

481
00:17:36,818 --> 00:17:38,969
And uh just to kind of recap

482
00:17:38,969 --> 00:17:41,269
again, if we go back to, you know, the node insights,

483
00:17:41,430 --> 00:17:43,989
you know this is a great way that we can start establishing

484
00:17:43,989 --> 00:17:46,189
that centralized inventory and having these

485
00:17:46,189 --> 00:17:47,348
tools available to us.

486
00:17:51,439 --> 00:17:53,180
All right, so let's go back.

487
00:17:55,368 --> 00:17:56,880
And we'll skip through some of these, so.

488
00:17:58,380 --> 00:18:00,539
So we just talked about, you know, establishing

489
00:18:00,539 --> 00:18:02,689
that centralized inventory, you know, the next step that actually

490
00:18:02,689 --> 00:18:04,759
we actually want to go into is how we can,

491
00:18:04,818 --> 00:18:07,140
uh, you know, overcome some of these struggles with patch

492
00:18:07,140 --> 00:18:07,729
compliance.

493
00:18:08,259 --> 00:18:09,199
All right, so

494
00:18:09,578 --> 00:18:11,618
let's flip back into the console one

495
00:18:11,618 --> 00:18:14,049
more time. Well,

496
00:18:14,078 --> 00:18:15,439
actually, not one more time, but

497
00:18:15,759 --> 00:18:18,039
if we then go over to the patch manager section

498
00:18:18,039 --> 00:18:20,279
of the console, we can get a very quick glimpse

499
00:18:20,279 --> 00:18:22,219
of how we are doing at the moment.

500
00:18:22,799 --> 00:18:25,039
Now, this is very similar to that, that first

501
00:18:25,039 --> 00:18:27,358
page, you know, give us a quick glimpse of how many

502
00:18:27,358 --> 00:18:29,479
resources are registered with Systems Sander versus

503
00:18:29,479 --> 00:18:30,680
those that are unmanaged.

504
00:18:31,000 --> 00:18:32,299
You know, it looks like in this case,

505
00:18:32,559 --> 00:18:35,098
about 10 of those nodes are noncompliant

506
00:18:35,098 --> 00:18:35,858
with patching.

507
00:18:36,568 --> 00:18:37,828
You know, we can always figure out

508
00:18:38,410 --> 00:18:40,489
uh how many nodes are actually missing updates,

509
00:18:40,568 --> 00:18:42,769
how many failed to perform uh that install,

510
00:18:42,848 --> 00:18:44,469
are they pending any reboots,

511
00:18:44,769 --> 00:18:47,088
and then how long, you know, has that resource

512
00:18:47,088 --> 00:18:49,130
either been noncompliant or just never reported

513
00:18:49,130 --> 00:18:50,848
patch compliant state in the first place.

514
00:18:51,250 --> 00:18:53,410
So that brand new VM that we just launched, you

515
00:18:53,410 --> 00:18:54,469
know, it's being identified,

516
00:18:54,890 --> 00:18:56,930
hey, you don't know what the current patch compliant state

517
00:18:56,930 --> 00:18:59,430
is now in this environment, I think I have daily

518
00:18:59,430 --> 00:19:01,650
scans configured at 2 in the morning.

519
00:19:01,949 --> 00:19:04,029
So that won't be flipped for a few

520
00:19:04,029 --> 00:19:06,259
more hours, but we can see all of our resources,

521
00:19:06,348 --> 00:19:08,750
our other resources have relatively fresh

522
00:19:08,750 --> 00:19:11,549
data. So there's been patch compliance

523
00:19:11,549 --> 00:19:13,769
information generated within the last 7 days.

524
00:19:14,269 --> 00:19:16,269
We can see all of the the iterations

525
00:19:16,269 --> 00:19:18,469
or actions that have been taken, taken

526
00:19:18,469 --> 00:19:19,578
against this resource,

527
00:19:20,108 --> 00:19:22,449
uh, and if we just want to go ahead and.

528
00:19:23,299 --> 00:19:25,180
You know, scan that new Ubuntu node,

529
00:19:25,680 --> 00:19:27,239
um, we can just select that patch now,

530
00:19:27,500 --> 00:19:29,578
and this will give a few different options, uh,

531
00:19:29,660 --> 00:19:31,699
but we are just gonna go with some of the basics for

532
00:19:31,699 --> 00:19:33,900
just performing a quick scan and we'll just choose

533
00:19:33,900 --> 00:19:34,549
our node manually.

534
00:19:40,328 --> 00:19:41,368
So we will

535
00:19:41,689 --> 00:19:42,430
select

536
00:19:42,880 --> 00:19:44,868
one of those Ubuntu resources

537
00:19:45,368 --> 00:19:46,769
and if we just hit patch now,

538
00:19:47,078 --> 00:19:49,368
you know, this is going to kick off a patch scan.

539
00:19:49,489 --> 00:19:51,209
It'll probably take 30 seconds to 1 minute.

540
00:19:51,709 --> 00:19:53,769
Uh, so while we wait for that, you know, let's just go

541
00:19:53,769 --> 00:19:55,890
ahead and uh talk one more

542
00:19:55,890 --> 00:19:57,150
time about.

543
00:19:58,098 --> 00:19:59,299
What are some of those challenges?

544
00:19:59,699 --> 00:20:00,568
Uh, so,

545
00:20:00,959 --> 00:20:03,219
you know, we just took a, a very brief look at

546
00:20:03,219 --> 00:20:04,779
capturing patch compliance data,

547
00:20:05,209 --> 00:20:07,910
and you can always aggregate this information as well. Systemsander,

548
00:20:08,029 --> 00:20:10,160
uh, has what we call a resource data sync

549
00:20:10,160 --> 00:20:12,009
to ship this data to an S3 bucket,

550
00:20:12,299 --> 00:20:14,459
and there you have a centralized, you know, data source

551
00:20:14,459 --> 00:20:16,739
for what is your patch compliance state across

552
00:20:16,739 --> 00:20:18,098
AWS, Azure,

553
00:20:18,430 --> 00:20:20,279
uh, wherever that resource is

554
00:20:20,539 --> 00:20:21,098
residing.

555
00:20:23,709 --> 00:20:26,039
So moving on to our next challenge, let's

556
00:20:26,039 --> 00:20:26,910
talk about,

557
00:20:27,229 --> 00:20:29,630
you know, in case those tools or remote

558
00:20:29,630 --> 00:20:31,640
operations are not sufficient, you know, maybe

559
00:20:31,640 --> 00:20:33,640
in an incident or an on-call

560
00:20:33,640 --> 00:20:35,959
situation, you may need to actually go ahead and remotely connect.

561
00:20:36,318 --> 00:20:38,318
So how can we do that in a secure way

562
00:20:38,318 --> 00:20:38,900
rather than

563
00:20:39,838 --> 00:20:40,618
allowing that

564
00:20:41,000 --> 00:20:41,979
inbound access.

565
00:20:43,838 --> 00:20:46,269
So If

566
00:20:46,269 --> 00:20:48,549
we go back to exploring our nodes here.

567
00:20:55,449 --> 00:20:57,449
And there it is, uh, so that

568
00:20:57,449 --> 00:20:58,140
is the,

569
00:20:58,489 --> 00:20:59,868
the new VM that we just provisioned.

570
00:21:00,489 --> 00:21:02,618
So. Like what I was mentioning

571
00:21:02,618 --> 00:21:04,779
earlier, and we talked about like EC2

572
00:21:04,779 --> 00:21:07,098
instances, um, we can just go ahead and

573
00:21:07,098 --> 00:21:08,118
remotely connect to them,

574
00:21:08,459 --> 00:21:10,900
uh, so we don't have to allow inbound 22

575
00:21:10,900 --> 00:21:13,118
or 3389, we can use Systemsander as

576
00:21:13,118 --> 00:21:15,259
that, you know, essentially a network tunnel, you know, to

577
00:21:15,259 --> 00:21:17,500
be able to remotely connect and start up these interactive

578
00:21:17,500 --> 00:21:18,078
sessions.

579
00:21:18,630 --> 00:21:20,709
Now I am starting this from the Abase console, but you

580
00:21:20,709 --> 00:21:22,949
can also start up these sessions from the AWS CLI

581
00:21:22,949 --> 00:21:24,769
as well. Uh, so, however,

582
00:21:25,029 --> 00:21:26,939
you know, your users are connecting today,

583
00:21:27,229 --> 00:21:29,269
and you may be able to use Session Manager to

584
00:21:29,269 --> 00:21:31,390
improve your overall security footprint from a networking

585
00:21:31,390 --> 00:21:32,000
perspective,

586
00:21:32,269 --> 00:21:34,588
as well as then making definitions of which

587
00:21:34,588 --> 00:21:36,868
nodes someone can connect to,

588
00:21:37,108 --> 00:21:39,348
as well as the operating system user that they're connected

589
00:21:39,348 --> 00:21:41,489
with, you know, through standardized IM

590
00:21:41,489 --> 00:21:42,769
policies and roles.

591
00:21:43,930 --> 00:21:46,068
So now that I am connected, you know, I can just go ahead

592
00:21:46,068 --> 00:21:48,309
and start running, you know, all of my,

593
00:21:48,479 --> 00:21:50,199
uh, commands as needed.

594
00:21:50,489 --> 00:21:51,509
Let's just say hello,

595
00:21:52,009 --> 00:21:52,608
reinvent.

596
00:21:54,078 --> 00:21:56,279
Now the other main thing of session Manager is

597
00:21:56,279 --> 00:21:58,279
that these commands that I'm issuing, I

598
00:21:58,279 --> 00:22:00,479
can also specify for those to be logged, you

599
00:22:00,479 --> 00:22:02,559
know, I can ship it either to cloudWatch logs, I

600
00:22:02,559 --> 00:22:03,939
can ship it to an S3 bucket,

601
00:22:04,358 --> 00:22:06,680
and that makes it available so that, you know, after these sessions

602
00:22:06,680 --> 00:22:07,439
are terminated,

603
00:22:07,719 --> 00:22:10,078
I could always go back and review, you know, what commands

604
00:22:10,078 --> 00:22:11,539
were issued during that given time.

605
00:22:13,009 --> 00:22:15,170
So if we jump over into the cloudwatch

606
00:22:15,170 --> 00:22:15,828
console now.

607
00:22:17,828 --> 00:22:19,880
We can go through to the

608
00:22:19,880 --> 00:22:21,299
log management section,

609
00:22:21,680 --> 00:22:23,059
uh, and then in here,

610
00:22:23,318 --> 00:22:25,680
we have our cloud watch log group called

611
00:22:25,680 --> 00:22:26,519
Session Manager.

612
00:22:27,910 --> 00:22:29,949
So here we have all of those different streams

613
00:22:29,949 --> 00:22:32,108
uh that we've been establishing

614
00:22:32,108 --> 00:22:32,939
these sessions,

615
00:22:33,269 --> 00:22:34,088
and now,

616
00:22:34,469 --> 00:22:36,328
uh, I wish I could view this a little bit.

617
00:22:38,029 --> 00:22:40,049
That's a little bit better maybe, but,

618
00:22:40,348 --> 00:22:42,348
uh, so in here we can see that who am I

619
00:22:42,348 --> 00:22:44,598
command that I just issued, you know, the, the

620
00:22:44,598 --> 00:22:46,630
date, uh, even if we go all the way to the

621
00:22:46,630 --> 00:22:48,068
bottom, hello, reinvent,

622
00:22:48,390 --> 00:22:50,670
you know, this is a great way to have that

623
00:22:50,670 --> 00:22:52,699
information available if you need to go back and reflect what

624
00:22:52,699 --> 00:22:54,719
actions were taken by that operator during

625
00:22:54,719 --> 00:22:55,549
a given session.

626
00:22:55,868 --> 00:22:58,269
You can then also build out uh alarms

627
00:22:58,269 --> 00:23:00,509
around it as well, you know, if users are entering

628
00:23:00,509 --> 00:23:02,630
specific commands, you can kick off alarms

629
00:23:02,630 --> 00:23:03,180
against that.

630
00:23:03,759 --> 00:23:05,848
Uh, and if we, let's

631
00:23:05,848 --> 00:23:06,630
check back on our

632
00:23:07,049 --> 00:23:08,088
patch process, so.

633
00:23:08,880 --> 00:23:11,000
It, uh, it went ahead and

634
00:23:11,000 --> 00:23:12,930
performed that patch scan against that resource.

635
00:23:13,318 --> 00:23:15,400
So now if we reflect back over to patch

636
00:23:15,400 --> 00:23:17,618
manager. And

637
00:23:17,618 --> 00:23:19,118
if we go over to compliance reporting,

638
00:23:19,500 --> 00:23:21,900
let's see how many of those are actually missing.

639
00:23:23,318 --> 00:23:25,500
So we have a wide variety of resources

640
00:23:25,500 --> 00:23:27,608
again both in EC2

641
00:23:27,608 --> 00:23:29,809
instance here as well as that hybrid resource

642
00:23:30,118 --> 00:23:32,239
that is noncompliant. We can jump in

643
00:23:32,239 --> 00:23:34,640
further if we want to drill into what are the specific

644
00:23:34,640 --> 00:23:36,068
updates that are being marked as missing,

645
00:23:37,328 --> 00:23:39,719
you know, prepare any of our applications or

646
00:23:39,719 --> 00:23:40,699
app owners

647
00:23:41,068 --> 00:23:41,910
for their awareness.

648
00:23:42,189 --> 00:23:44,380
Here are those updates that are going to be installed.

649
00:23:47,680 --> 00:23:49,719
So kind of recapping, you know, those challenges

650
00:23:49,719 --> 00:23:52,338
again, uh, so now we just talked about

651
00:23:52,739 --> 00:23:55,039
creating that interactive session without having

652
00:23:55,039 --> 00:23:56,959
to access, uh, over the Internet.

653
00:23:57,479 --> 00:23:59,479
Again, we can have those VPC endpoints

654
00:23:59,479 --> 00:24:01,420
deployed if you have a connection between,

655
00:24:01,719 --> 00:24:03,858
you know, your other cloud and AWS VPC.

656
00:24:04,078 --> 00:24:06,160
It can be fully private and the node doesn't even

657
00:24:06,160 --> 00:24:07,739
need internet access at all.

658
00:24:08,920 --> 00:24:10,920
Now that last challenge, you know, being able to

659
00:24:10,920 --> 00:24:12,920
perform actions at scale, of course, you know,

660
00:24:13,000 --> 00:24:15,269
logging in like I just did, running those commands,

661
00:24:15,519 --> 00:24:17,640
that's not efficient as soon as we probably get above

662
00:24:17,640 --> 00:24:18,838
5, 10 nodes.

663
00:24:19,160 --> 00:24:21,588
So if we need to actually perform some actions at scale,

664
00:24:21,880 --> 00:24:23,469
you know, that's where Systems Sandra, uh, uh,

665
00:24:24,358 --> 00:24:25,380
can also assist.

666
00:24:26,130 --> 00:24:28,088
So if we go back into the console,

667
00:24:28,449 --> 00:24:31,049
uh, what I'm gonna show here is an automation

668
00:24:31,049 --> 00:24:33,209
runbook. Um, so if you're not familiar with

669
00:24:33,209 --> 00:24:35,029
automation or run command,

670
00:24:35,400 --> 00:24:37,598
This is a way to orchestrate a series of

671
00:24:37,598 --> 00:24:39,868
steps and you know whether you're performing

672
00:24:39,868 --> 00:24:42,108
AWBS related API calls or

673
00:24:42,108 --> 00:24:44,239
if you need to interact with the operating

674
00:24:44,239 --> 00:24:45,519
system of that managed node,

675
00:24:45,880 --> 00:24:48,199
you can perform a series of different tasks

676
00:24:48,199 --> 00:24:50,549
as required and I think as far as

677
00:24:50,549 --> 00:24:52,640
out of the box there are some

678
00:24:52,640 --> 00:24:53,779
400 plus

679
00:24:54,078 --> 00:24:56,400
database runbooks, so it's another great way

680
00:24:56,400 --> 00:24:58,719
to establish a good delegation of

681
00:24:58,719 --> 00:25:00,299
permissions to your users.

682
00:25:00,729 --> 00:25:02,858
You know, if a user needs to go and restart an EC2,

683
00:25:02,939 --> 00:25:05,299
let's not give them direct access to that EC2

684
00:25:05,299 --> 00:25:07,660
call. Let's give them access to automation

685
00:25:07,660 --> 00:25:10,189
because we know it will be performed in a well-defined

686
00:25:10,189 --> 00:25:11,500
manner, an expected manner.

687
00:25:13,009 --> 00:25:15,439
So if we go over to my favorites, I just have a, a simple

688
00:25:15,578 --> 00:25:16,439
run book here,

689
00:25:16,739 --> 00:25:18,858
you know, let's imagine that I need to run a generic

690
00:25:18,858 --> 00:25:20,900
script that just is going to be passed in

691
00:25:21,299 --> 00:25:23,660
against this fleet of resources, whether they're

692
00:25:23,660 --> 00:25:25,779
AWS, on-prem, other cloud, wherever

693
00:25:25,779 --> 00:25:28,000
they may be. I'm gonna go ahead and run a script

694
00:25:28,000 --> 00:25:29,180
on uh against them.

695
00:25:30,568 --> 00:25:32,880
If we were to just take a look at

696
00:25:33,259 --> 00:25:35,539
the authoring experience uh for

697
00:25:35,539 --> 00:25:37,739
automation, I can zoom in here a little bit and walk

698
00:25:37,739 --> 00:25:40,059
through what steps are being performed.

699
00:25:42,150 --> 00:25:44,390
So using the, the automation runbook,

700
00:25:44,630 --> 00:25:46,750
you know, visual designer, you can kind of just drag

701
00:25:46,750 --> 00:25:49,150
and drop, you know, if you need to add more steps

702
00:25:49,150 --> 00:25:51,160
uh to any of, any of your runbooks.

703
00:25:51,588 --> 00:25:53,699
Now just to kind of walk through this, we're gonna

704
00:25:53,699 --> 00:25:56,068
start with just describing a list of all of my nodes

705
00:25:56,068 --> 00:25:57,130
in this account region.

706
00:25:57,430 --> 00:25:59,509
Once we have that list, we can then loop through

707
00:25:59,509 --> 00:26:01,618
that. We're gonna make a quick

708
00:26:01,618 --> 00:26:04,019
determination is that resource a

709
00:26:04,019 --> 00:26:05,699
Windows node or is it a Linux node,

710
00:26:05,979 --> 00:26:08,078
you know, in order to then run the appropriate script,

711
00:26:08,140 --> 00:26:10,400
you know, if you want to also include some additional

712
00:26:10,979 --> 00:26:12,529
verification or branching,

713
00:26:12,828 --> 00:26:15,180
you know, then we would include that logic as

714
00:26:15,180 --> 00:26:17,338
required. In my case, if I take a look at

715
00:26:17,338 --> 00:26:19,380
some of these examples and then just uh open

716
00:26:19,380 --> 00:26:20,920
up one of these rules real quick.

717
00:26:21,390 --> 00:26:23,680
Uh, in here I'm just making two evaluation

718
00:26:23,680 --> 00:26:25,828
checks. One is the resource of Linux

719
00:26:25,828 --> 00:26:27,959
box, and then two is the node actually

720
00:26:27,959 --> 00:26:30,199
online. You know, if it's not online, we can go ahead and skip

721
00:26:30,199 --> 00:26:32,219
it. We don't need to wait for that process to

722
00:26:32,219 --> 00:26:34,299
complete. Now

723
00:26:34,299 --> 00:26:35,239
when that is complete,

724
00:26:35,939 --> 00:26:36,680
or when it,

725
00:26:37,059 --> 00:26:39,459
when the criteria is met by that branching

726
00:26:39,459 --> 00:26:41,459
option, we're then just going to run a

727
00:26:41,459 --> 00:26:43,500
simple, you know, shell script, just taking

728
00:26:43,500 --> 00:26:45,858
a look at the sys log or you know, messages

729
00:26:45,858 --> 00:26:48,059
are present on the box, and

730
00:26:48,059 --> 00:26:50,608
if so, we want to go ahead and store that

731
00:26:50,608 --> 00:26:51,739
information in Dynamo DB.

732
00:26:52,180 --> 00:26:53,598
You know, just go ahead and specify

733
00:26:53,979 --> 00:26:56,299
whether or not it's true or false if that

734
00:26:56,299 --> 00:26:57,299
file is present.

735
00:26:58,549 --> 00:27:01,390
So if we flip back and we go over to execute

736
00:27:01,390 --> 00:27:03,430
automation, this is going to use that run

737
00:27:03,430 --> 00:27:05,509
book, and I will actually

738
00:27:05,509 --> 00:27:07,549
just show the Dynamo DB table as well, just to

739
00:27:07,549 --> 00:27:09,549
verify that there's nothing in there at the moment.

740
00:27:12,239 --> 00:27:14,390
So we have this managed node log compliance

741
00:27:14,729 --> 00:27:15,348
table here.

742
00:27:15,729 --> 00:27:17,930
If we explore, you know, the

743
00:27:17,930 --> 00:27:19,630
items, it's currently empty.

744
00:27:20,009 --> 00:27:21,868
So we go back to automation

745
00:27:22,170 --> 00:27:22,989
in this case,

746
00:27:23,489 --> 00:27:25,769
you know, everything is baked in as far as

747
00:27:25,769 --> 00:27:28,170
defaults for the parameters, but we can make this very dynamic

748
00:27:28,170 --> 00:27:30,469
as needed, uh, even in passing,

749
00:27:30,549 --> 00:27:33,140
you know, uh, locations or remote

750
00:27:33,140 --> 00:27:35,289
locations for that script, so you don't necessarily

751
00:27:35,289 --> 00:27:37,289
have to have everything together. You can

752
00:27:37,289 --> 00:27:38,269
still use, um,

753
00:27:38,529 --> 00:27:40,608
you know, some CICD best practices.

754
00:27:41,549 --> 00:27:43,630
Now this is going to start iterating through all of

755
00:27:43,630 --> 00:27:45,449
those, you know, 30 nodes at this point,

756
00:27:45,900 --> 00:27:47,949
uh, within the environment, run that simple script

757
00:27:47,949 --> 00:27:50,549
and then kick off, you know, an item over into Dynamo

758
00:27:50,670 --> 00:27:52,828
if that uh or if that file

759
00:27:52,828 --> 00:27:54,009
is present or not.

760
00:27:54,509 --> 00:27:55,779
Now we're not gonna wait for,

761
00:27:56,088 --> 00:27:58,568
uh, all of these, um, but if we just,

762
00:27:59,068 --> 00:28:01,108
you know, run, we can see that we can already have a

763
00:28:01,108 --> 00:28:03,189
few of them that are populating and bringing

764
00:28:03,189 --> 00:28:04,029
in that information.

765
00:28:04,588 --> 00:28:06,640
So again, using automation run

766
00:28:06,640 --> 00:28:09,160
command as a combination you can

767
00:28:09,160 --> 00:28:11,160
perform these actions at scale across your

768
00:28:11,160 --> 00:28:11,670
resources.

769
00:28:12,239 --> 00:28:14,250
Something else that will also help

770
00:28:14,250 --> 00:28:16,318
is called a state manager association.

771
00:28:16,469 --> 00:28:18,618
Think of it as a configuration definition

772
00:28:18,868 --> 00:28:19,838
for these resources, you know,

773
00:28:20,118 --> 00:28:22,118
perform some of those bootstrapping, and we're going

774
00:28:22,118 --> 00:28:24,078
to talk about that in the next section.

775
00:28:25,439 --> 00:28:27,439
So this will go ahead and keep iterating

776
00:28:27,439 --> 00:28:29,979
through. It looks like we're already at 36

777
00:28:29,979 --> 00:28:31,890
steps if we run this one more time,

778
00:28:32,459 --> 00:28:34,900
and we now have 7 nodes that have reported,

779
00:28:35,000 --> 00:28:36,199
you know, whether or not they're compliant.

780
00:28:37,959 --> 00:28:38,489
All right.

781
00:28:40,930 --> 00:28:43,348
So we just talked about,

782
00:28:43,449 --> 00:28:45,469
you know, performing tasks at scale,

783
00:28:45,568 --> 00:28:47,608
you know, through that automation runbook as

784
00:28:47,608 --> 00:28:49,088
well as through run command task.

785
00:28:49,880 --> 00:28:51,920
Now we have a good idea of our our

786
00:28:51,920 --> 00:28:53,959
foundation of node management at this case, you

787
00:28:53,959 --> 00:28:56,299
know, we have an idea of where our resources are

788
00:28:56,549 --> 00:28:58,670
and we have an idea of performing our patch

789
00:28:58,670 --> 00:29:00,719
compliance current state and we

790
00:29:00,719 --> 00:29:02,719
talked about how we can securely connect to

791
00:29:02,719 --> 00:29:04,939
these nodes and then perform actions at scale.

792
00:29:05,959 --> 00:29:07,750
So that brings us into the second section.

793
00:29:08,088 --> 00:29:09,229
Now that we have this good foundation,

794
00:29:09,559 --> 00:29:11,568
we need to be able to monitor those resources,

795
00:29:11,650 --> 00:29:12,890
make sure they're in a healthy state,

796
00:29:13,170 --> 00:29:14,759
you know, gather log information.

797
00:29:15,049 --> 00:29:17,170
Is my application up and running? Are there currently

798
00:29:17,170 --> 00:29:19,250
any issues? And then you could always go back

799
00:29:19,250 --> 00:29:21,489
to that same run command task and

800
00:29:21,489 --> 00:29:22,828
resolve them remotely.

801
00:29:23,390 --> 00:29:25,920
So what are some of the challenges that we hear in a multi-cloud

802
00:29:25,920 --> 00:29:28,469
scenario with regards to observability?

803
00:29:28,680 --> 00:29:29,818
The first is just

804
00:29:30,118 --> 00:29:32,039
very similar to that centralized inventory,

805
00:29:32,318 --> 00:29:34,078
you know, our resources are unmonitored.

806
00:29:34,358 --> 00:29:36,439
They're being spun up, you know, they may not have

807
00:29:36,439 --> 00:29:38,779
the appropriate bootstrapping configurations.

808
00:29:39,078 --> 00:29:41,279
Maybe our application owners are still a little bit

809
00:29:41,279 --> 00:29:43,598
new to thinking about observability.

810
00:29:43,750 --> 00:29:46,400
You know, they may not be building their application with observability

811
00:29:46,400 --> 00:29:46,920
in mind,

812
00:29:47,279 --> 00:29:49,318
so we can have Systems Manager, you know, help

813
00:29:49,318 --> 00:29:51,680
with that process and put in place some initial

814
00:29:51,680 --> 00:29:53,180
configurations for monitoring.

815
00:29:54,939 --> 00:29:57,338
Similar to that, you know, beyond just our metrics,

816
00:29:57,459 --> 00:29:58,160
spans,

817
00:29:58,420 --> 00:30:00,459
traces, and we need to also think about our

818
00:30:00,459 --> 00:30:02,779
logs both for these remote resources

819
00:30:02,779 --> 00:30:05,059
as well as just logs in general that we may be shipping.

820
00:30:05,500 --> 00:30:07,739
They may be scattered across accounts and regions,

821
00:30:07,858 --> 00:30:10,068
and we work with customers that are running on

822
00:30:10,068 --> 00:30:11,949
just a handful of database accounts.

823
00:30:12,219 --> 00:30:14,709
It may be a handful of regions all the way up to hundreds

824
00:30:14,709 --> 00:30:15,838
of database accounts,

825
00:30:16,189 --> 00:30:17,299
multiple different regions.

826
00:30:17,630 --> 00:30:19,709
So how do we bring this into a centralized

827
00:30:19,709 --> 00:30:21,709
location so we can easily query it and get

828
00:30:21,709 --> 00:30:23,848
the information that is needed to help reduce

829
00:30:23,848 --> 00:30:25,750
things like mean time to resolution.

830
00:30:27,118 --> 00:30:29,269
And then finally, how can we actually expose

831
00:30:29,269 --> 00:30:31,289
these operational metrics outside of

832
00:30:31,289 --> 00:30:32,250
the database console,

833
00:30:32,529 --> 00:30:34,608
you know, uh, typically we'll hear from our

834
00:30:34,608 --> 00:30:36,729
customers that they want, you know, to expose

835
00:30:36,729 --> 00:30:38,900
these operational metrics, you know, to their business

836
00:30:38,900 --> 00:30:40,549
leaders or, you know, uh,

837
00:30:41,000 --> 00:30:43,269
higher level reporters that need

838
00:30:43,269 --> 00:30:44,660
to be able to access this data,

839
00:30:44,930 --> 00:30:47,049
but maybe they're not familiar with the database console

840
00:30:47,049 --> 00:30:49,108
or we just don't want them logging in,

841
00:30:49,479 --> 00:30:51,309
you know, uh, considering what else

842
00:30:51,769 --> 00:30:53,729
or what other actions they may perform.

843
00:30:54,299 --> 00:30:56,729
So how can we expose these operational metrics

844
00:30:56,729 --> 00:30:57,838
in an easier way?

845
00:30:59,269 --> 00:31:01,358
So let's uh take a look, oops,

846
00:31:01,828 --> 00:31:02,989
I'll jump over there in a moment.

847
00:31:03,328 --> 00:31:05,390
So talking about uh resources being

848
00:31:05,390 --> 00:31:06,150
unmonitored.

849
00:31:06,979 --> 00:31:09,019
So kind of going back to the assistant manager agent

850
00:31:09,019 --> 00:31:11,059
that we were talking about earlier, if you recall, we

851
00:31:11,059 --> 00:31:13,039
have those temporary credentials that we can use,

852
00:31:13,559 --> 00:31:15,818
uh, so we'll work through an example

853
00:31:15,818 --> 00:31:17,969
here of how we can bootstrap one of these

854
00:31:17,969 --> 00:31:20,219
nodes to have the cloudWatch agent installed

855
00:31:20,219 --> 00:31:22,299
automatically and report metrics and logs

856
00:31:22,299 --> 00:31:24,299
for us. So it still starts as the

857
00:31:24,299 --> 00:31:26,449
exact same, you know, going through that hybrid

858
00:31:26,449 --> 00:31:28,459
activation code process and registering

859
00:31:28,459 --> 00:31:29,199
with systems manager.

860
00:31:29,699 --> 00:31:31,900
And at that point when a node first checks in, it's

861
00:31:31,900 --> 00:31:33,979
going to go ahead and query state manager

862
00:31:33,979 --> 00:31:34,880
for any associations.

863
00:31:35,578 --> 00:31:37,588
Again, associations, think of it as just as

864
00:31:37,588 --> 00:31:40,189
a configuration tool and make a definition

865
00:31:40,189 --> 00:31:42,469
of what scripts or actions you want taken

866
00:31:42,469 --> 00:31:44,549
on that node and put it in place and

867
00:31:44,549 --> 00:31:46,630
then maybe periodically check once a day,

868
00:31:46,750 --> 00:31:48,828
once a week, you know, whatever the appropriate

869
00:31:48,828 --> 00:31:49,608
frequency is.

870
00:31:50,828 --> 00:31:51,529
So here

871
00:31:51,979 --> 00:31:54,009
it's referencing that it's going to go ahead and run

872
00:31:54,009 --> 00:31:56,500
a series of steps to install the cloudWatch

873
00:31:56,500 --> 00:31:58,930
agent using Run command,

874
00:31:59,189 --> 00:32:01,549
and then that that will put in place the cloudWatch

875
00:32:01,549 --> 00:32:03,549
agent. It'll put in place the configuration

876
00:32:03,549 --> 00:32:05,588
for it and then go ahead and start up the

877
00:32:05,588 --> 00:32:07,588
agent as well, so it is then able

878
00:32:07,588 --> 00:32:09,750
to leverage those same temporary

879
00:32:09,750 --> 00:32:11,750
security credentials that the SSM agent is

880
00:32:11,750 --> 00:32:13,068
periodically vending,

881
00:32:13,358 --> 00:32:15,618
and it will be able to report back all of that

882
00:32:15,618 --> 00:32:16,750
information into CloudWatch.

883
00:32:18,259 --> 00:32:20,568
So let's take a look in the console

884
00:32:20,568 --> 00:32:23,858
again. So

885
00:32:23,858 --> 00:32:26,118
that same node, um, let's

886
00:32:26,699 --> 00:32:27,959
close some of these windows.

887
00:32:29,910 --> 00:32:31,949
So that same node that we launched

888
00:32:31,949 --> 00:32:33,989
earlier, that uh Azure

889
00:32:33,989 --> 00:32:34,969
VM4.

890
00:32:36,309 --> 00:32:38,380
If we go back to our explorer nodes and

891
00:32:38,380 --> 00:32:39,088
we pull up

892
00:32:39,390 --> 00:32:41,049
that same resource.

893
00:32:45,650 --> 00:32:47,689
So one of the things that I'll I'll

894
00:32:47,689 --> 00:32:49,890
note here is, you know, this association status. So that's

895
00:32:49,890 --> 00:32:51,170
exactly what I was just talking about,

896
00:32:51,449 --> 00:32:53,689
you know, perform that bootstrapping operation. If

897
00:32:53,689 --> 00:32:55,689
we go down into this association's list,

898
00:32:55,769 --> 00:32:57,868
we can see a few of them that have been

899
00:32:57,868 --> 00:32:59,318
applied against this node.

900
00:32:59,689 --> 00:33:01,930
Now the first one is just going to gather

901
00:33:01,930 --> 00:33:04,039
some inventory data, what applications

902
00:33:04,039 --> 00:33:05,930
are running, what drivers are running on the box.

903
00:33:06,209 --> 00:33:08,279
The second one is performing, you know, that patch

904
00:33:08,279 --> 00:33:10,368
scan. The third one is keeping the SSM

905
00:33:10,368 --> 00:33:11,180
agent up to date.

906
00:33:11,459 --> 00:33:13,779
And then the last one is to go ahead and install

907
00:33:13,779 --> 00:33:15,630
and configure the cloudwatch agent.

908
00:33:16,279 --> 00:33:17,759
So we see that it was successful,

909
00:33:18,019 --> 00:33:19,078
uh, if we.

910
00:33:20,289 --> 00:33:21,430
Then go over,

911
00:33:21,769 --> 00:33:22,969
uh, it's it's.

912
00:33:24,479 --> 00:33:26,509
Let's take a look at that association as

913
00:33:26,509 --> 00:33:33,029
well. So

914
00:33:33,029 --> 00:33:35,029
over here in the state manager section of

915
00:33:35,029 --> 00:33:35,868
the console,

916
00:33:36,229 --> 00:33:36,789
uh,

917
00:33:37,750 --> 00:33:40,019
let's take a look at that install cloud Watch

918
00:33:40,019 --> 00:33:40,910
Association.

919
00:33:42,680 --> 00:33:45,519
Now in here, you know, there's just some basic definitions

920
00:33:45,959 --> 00:33:48,348
we can go ahead and run this once every 7 days.

921
00:33:48,630 --> 00:33:50,719
Again, as soon as a node first checks in with

922
00:33:50,719 --> 00:33:52,779
Systemsandra, it's going to go ahead and query, see that,

923
00:33:52,838 --> 00:33:54,118
hey, I need to apply this.

924
00:33:54,430 --> 00:33:56,519
This is based off of just some tags on

925
00:33:56,519 --> 00:33:58,920
the node. If it's provider and then Azure,

926
00:33:59,189 --> 00:34:01,059
let's go ahead and point to this configuration.

927
00:34:02,799 --> 00:34:04,949
Now what are the the steps that this is actually

928
00:34:04,949 --> 00:34:05,459
performing?

929
00:34:06,250 --> 00:34:08,559
Uh, if we take a look at our underlying

930
00:34:08,559 --> 00:34:10,599
document, it performs, uh, just

931
00:34:10,599 --> 00:34:11,878
3 simple steps.

932
00:34:12,449 --> 00:34:14,188
Uh, so this is going to look a little bit different,

933
00:34:14,478 --> 00:34:16,050
uh, but if I zoom in.

934
00:34:17,309 --> 00:34:19,398
The first step here is just to go ahead

935
00:34:19,398 --> 00:34:21,239
and install the cloudWatch agent.

936
00:34:21,679 --> 00:34:24,000
Uh, the second, you know, this is a simple

937
00:34:24,000 --> 00:34:26,199
shell script, you know, that I've configured to

938
00:34:26,199 --> 00:34:28,438
essentially point the cloudWatch agent to the,

939
00:34:28,639 --> 00:34:30,639
uh, hybrid credentials that the agent or

940
00:34:30,639 --> 00:34:32,699
sorry that the system center agent is vending.

941
00:34:33,349 --> 00:34:35,438
And then down at the bottom just

942
00:34:35,438 --> 00:34:37,639
specifying that we want to use this common

943
00:34:37,639 --> 00:34:39,389
parameter store value

944
00:34:39,800 --> 00:34:41,898
so. When we

945
00:34:41,898 --> 00:34:43,619
are configuring the cloud watch agent.

946
00:34:45,219 --> 00:34:47,168
So if we go over to parameter store.

947
00:34:48,889 --> 00:34:50,228
Let's zoom back out a little bit.

948
00:34:54,548 --> 00:34:56,867
And over here in Parameter store we then have,

949
00:34:57,028 --> 00:34:59,059
you know, the exact configuration that our cloud

950
00:34:59,059 --> 00:35:00,309
watch agent is going to use.

951
00:35:00,878 --> 00:35:03,188
So when you are, you know, building out

952
00:35:03,188 --> 00:35:05,617
what metrics are important for your business

953
00:35:05,617 --> 00:35:07,338
or your applications that are running,

954
00:35:07,668 --> 00:35:09,958
um, you know, you can store this configuration

955
00:35:09,958 --> 00:35:12,438
within parameter store. You can even use, uh, multi-account

956
00:35:12,438 --> 00:35:14,559
sharing, you know, for parameter source. So

957
00:35:14,559 --> 00:35:17,188
from a central location we can make those definitions.

958
00:35:17,438 --> 00:35:19,438
We can then have these nodes, you know, based off

959
00:35:19,438 --> 00:35:20,739
of resource tags,

960
00:35:21,039 --> 00:35:23,378
make the determination of what, uh.

961
00:35:24,208 --> 00:35:26,219
Or sorry, which metrics or which logs in the

962
00:35:26,219 --> 00:35:28,300
OS we actually want to report back

963
00:35:28,300 --> 00:35:29,039
to Cloud Watch.

964
00:35:30,719 --> 00:35:32,938
So if we go over to Cloud Watch now.

965
00:35:34,360 --> 00:35:36,639
And we scroll down, we can go to our metrics

966
00:35:36,639 --> 00:35:42,000
here. And

967
00:35:42,000 --> 00:35:44,099
we'll just, let's see if I can.

968
00:35:46,099 --> 00:35:46,750
Here we go.

969
00:35:47,059 --> 00:35:48,918
So we want Azure VM4,

970
00:35:49,219 --> 00:35:51,500
and now all these are all of those metrics,

971
00:35:51,510 --> 00:35:53,579
you know, that are uh running on the box

972
00:35:53,579 --> 00:35:55,639
now. Um, so the cloudwatch agent

973
00:35:55,639 --> 00:35:57,699
is using those credentials that the

974
00:35:57,699 --> 00:35:59,699
SSM agent vends out. It's able

975
00:35:59,699 --> 00:36:01,860
to uh leverage those to then interact

976
00:36:01,860 --> 00:36:04,010
with AWS, push metrics, push logs,

977
00:36:04,289 --> 00:36:05,659
you know, to this location.

978
00:36:08,708 --> 00:36:10,840
And one last thing that I also want to show is,

979
00:36:10,918 --> 00:36:12,918
you know, beyond just the operating

980
00:36:12,918 --> 00:36:14,949
system, uh, metrics or logs

981
00:36:14,949 --> 00:36:17,219
that we need to collect, you know, there may be other metrics,

982
00:36:17,228 --> 00:36:19,260
uh, over in Azure that I also want to bring in.

983
00:36:19,800 --> 00:36:22,320
So I also want to highlight over in the cloudwaatch settings

984
00:36:22,320 --> 00:36:24,349
section of the console, you can go over to

985
00:36:24,349 --> 00:36:26,398
metric data sources, and you know, this

986
00:36:26,398 --> 00:36:28,559
is where I have a direct connection with Azure

987
00:36:28,559 --> 00:36:30,769
Monitor. So if there are infrastructure related

988
00:36:30,769 --> 00:36:31,360
metrics, you know,

989
00:36:31,760 --> 00:36:34,179
outside of the OS that I also want to be able to query

990
00:36:34,559 --> 00:36:36,559
uh from using CloudWatch, you know, and have this

991
00:36:36,559 --> 00:36:38,500
centralized data set essentially.

992
00:36:38,800 --> 00:36:40,800
Uh, we can go ahead and create some

993
00:36:40,800 --> 00:36:41,719
new data sources.

994
00:36:42,119 --> 00:36:44,320
Now, I'm not going to walk through this process

995
00:36:44,320 --> 00:36:46,639
entirely, but when we go through configuring

996
00:36:46,639 --> 00:36:48,639
the data source for Azure Monitor, you know, we

997
00:36:48,639 --> 00:36:50,918
pass in a few different credentials for our tenant,

998
00:36:51,079 --> 00:36:53,289
our client ID, and then the client's secret.

999
00:36:53,719 --> 00:36:55,958
This, uh, underneath is then going to spin up a cloud

1000
00:36:55,958 --> 00:36:58,228
formation template which will put in place a lambda

1001
00:36:58,228 --> 00:37:00,360
function so you can query this information,

1002
00:37:00,599 --> 00:37:01,438
you know, as needed.

1003
00:37:02,559 --> 00:37:04,679
So if we look at the one that is already in place,

1004
00:37:04,769 --> 00:37:07,090
if we hit query from CloudWatch now,

1005
00:37:07,449 --> 00:37:10,030
uh, we can then select my Azure subscription

1006
00:37:10,208 --> 00:37:11,639
where I have this uh configured.

1007
00:37:11,969 --> 00:37:13,269
I can select my resource group.

1008
00:37:14,728 --> 00:37:16,739
And we can select that same, you know, Azure

1009
00:37:16,739 --> 00:37:17,789
VM4

1010
00:37:18,128 --> 00:37:20,289
node. Now in this case

1011
00:37:20,289 --> 00:37:22,389
I'm going to be taking a look at that same

1012
00:37:22,389 --> 00:37:23,320
percent CPU

1013
00:37:24,119 --> 00:37:25,228
average in this case,

1014
00:37:25,889 --> 00:37:28,128
but Like I was mentioning,

1015
00:37:28,168 --> 00:37:29,530
you know, this is where we can then,

1016
00:37:29,809 --> 00:37:30,668
uh, monitor any

1017
00:37:31,570 --> 00:37:33,789
metric that is being provided by Azure Monitor

1018
00:37:33,789 --> 00:37:36,510
and bring it into a central location over in CloudWatch.

1019
00:37:40,550 --> 00:37:41,219
All right.

1020
00:37:42,510 --> 00:37:43,289
So

1021
00:37:45,090 --> 00:37:48,168
So now we got an idea of

1022
00:37:48,168 --> 00:37:50,179
having our resources monitored wherever they may

1023
00:37:50,179 --> 00:37:52,219
be, you know, as soon as they are spun

1024
00:37:52,219 --> 00:37:54,260
up, let's go ahead and get that

1025
00:37:54,260 --> 00:37:56,059
information collected into a central location.

1026
00:37:57,550 --> 00:37:59,708
Now the second challenge, you know, very similar,

1027
00:37:59,829 --> 00:38:02,148
uh, but in this case we're gonna be talking about

1028
00:38:02,148 --> 00:38:03,340
our logs are scattered,

1029
00:38:03,599 --> 00:38:05,708
you know, they're in our dev environment, they're in our

1030
00:38:05,708 --> 00:38:07,829
production environment. When users are responding

1031
00:38:07,829 --> 00:38:09,989
to an incident, they have to make sure, am I logging

1032
00:38:09,989 --> 00:38:11,829
into the right account at this time.

1033
00:38:12,349 --> 00:38:14,369
Now that's an unnecessary burden

1034
00:38:14,369 --> 00:38:16,409
and, uh, actually just a few weeks back,

1035
00:38:16,429 --> 00:38:18,510
um, what we're gonna be taking a look at is

1036
00:38:18,510 --> 00:38:20,510
a way that you can define rules

1037
00:38:20,510 --> 00:38:22,750
to bring this information into a centralized account.

1038
00:38:23,559 --> 00:38:25,628
So very simple example, let's just say that

1039
00:38:25,628 --> 00:38:27,929
we're gonna be building out some rules that we want to say

1040
00:38:27,929 --> 00:38:30,030
for our production logs as well as

1041
00:38:30,030 --> 00:38:30,949
our development logs.

1042
00:38:31,269 --> 00:38:33,369
Let's, let's bring those into our

1043
00:38:33,369 --> 00:38:34,849
observability account.

1044
00:38:35,969 --> 00:38:38,179
And you can also specify that you want that

1045
00:38:38,179 --> 00:38:40,418
same log information to be sent to a

1046
00:38:40,418 --> 00:38:41,309
backup region.

1047
00:38:41,840 --> 00:38:43,898
Uh, so the awesome thing about this is bringing

1048
00:38:43,898 --> 00:38:46,039
it into that first destination region is

1049
00:38:46,039 --> 00:38:48,059
available at no additional charges, so you can

1050
00:38:48,059 --> 00:38:50,139
have all of this information readily available

1051
00:38:50,139 --> 00:38:52,418
for you, that you can then use the various

1052
00:38:52,418 --> 00:38:54,570
suite of, you know, cloud watch functionality to

1053
00:38:54,570 --> 00:38:56,898
then interact with those logs, whether you need to go

1054
00:38:56,898 --> 00:38:58,159
use log insights,

1055
00:38:58,418 --> 00:39:00,340
uh, if you want to establish some data protection to,

1056
00:39:01,860 --> 00:39:04,219
you know, uh, take a look for any PII

1057
00:39:04,489 --> 00:39:06,679
information. Or if you want to then just query

1058
00:39:06,679 --> 00:39:08,969
it using, you know, other log analytics tools

1059
00:39:08,969 --> 00:39:09,829
like OpenSearch.

1060
00:39:11,489 --> 00:39:12,349
So if we

1061
00:39:12,789 --> 00:39:14,530
flip into the console again.

1062
00:39:17,530 --> 00:39:18,179
So

1063
00:39:19,360 --> 00:39:21,389
Uh, let's go back over

1064
00:39:21,389 --> 00:39:22,530
to cloud Watch.

1065
00:39:24,938 --> 00:39:27,050
So earlier this week, we also

1066
00:39:27,050 --> 00:39:29,050
announced the, you know, unified

1067
00:39:29,050 --> 00:39:31,289
data storage experience within CloudWatch

1068
00:39:31,610 --> 00:39:33,860
and of course, you know, I wanted to just kind of show that

1069
00:39:33,860 --> 00:39:36,128
uh along, you know, the same demonstration.

1070
00:39:36,949 --> 00:39:39,039
So from this observability account, you

1071
00:39:39,039 --> 00:39:40,869
know, from this delegated admin account,

1072
00:39:41,159 --> 00:39:43,360
we can get a quick glimpse of where

1073
00:39:43,360 --> 00:39:45,579
all of our logs are being ingested by CloudWatch,

1074
00:39:45,809 --> 00:39:47,378
you know, across different accounts, OU,

1075
00:39:47,679 --> 00:39:49,840
regions, you know, get some initial

1076
00:39:49,840 --> 00:39:52,148
metrics around it, any anomalies

1077
00:39:52,148 --> 00:39:53,139
that have been detected,

1078
00:39:53,590 --> 00:39:55,760
you know, really just kind of see the entire

1079
00:39:55,760 --> 00:39:57,958
state of all of our logs as

1080
00:39:57,958 --> 00:40:00,099
required. And if we go over

1081
00:40:00,099 --> 00:40:01,559
to these data sources section,

1082
00:40:01,898 --> 00:40:04,179
um, this is where you can, if I hit enable

1083
00:40:04,179 --> 00:40:04,800
here,

1084
00:40:05,188 --> 00:40:07,719
you know, this also launched with a variety

1085
00:40:07,719 --> 00:40:10,199
of third party data sources that you can also

1086
00:40:10,199 --> 00:40:12,570
establish a connection with and establish

1087
00:40:12,570 --> 00:40:13,449
these pipelines.

1088
00:40:14,800 --> 00:40:15,699
So if we just filter,

1089
00:40:15,978 --> 00:40:18,000
you know, for our third party ones, you can

1090
00:40:18,000 --> 00:40:18,918
bring in data from these,

1091
00:40:20,010 --> 00:40:22,349
you know, various third party sources like CrowdStrike,

1092
00:40:22,429 --> 00:40:23,849
Microsoft 365,

1093
00:40:24,119 --> 00:40:26,159
you know, Palo Alto, GitHub, Octa, and

1094
00:40:26,159 --> 00:40:28,389
so on. So we can have all of this

1095
00:40:28,389 --> 00:40:30,639
information flow in through these cloudwatch pipelines.

1096
00:40:30,878 --> 00:40:32,958
The other major thing that you can do is that you can perform

1097
00:40:32,958 --> 00:40:34,958
transformation on them. So if those logs

1098
00:40:34,958 --> 00:40:35,500
need to be

1099
00:40:36,949 --> 00:40:38,958
transformed into a well defined structure like

1100
00:40:38,958 --> 00:40:39,719
OCSF,

1101
00:40:40,119 --> 00:40:42,438
uh, you can have that as part of your pipeline

1102
00:40:42,438 --> 00:40:44,510
process. Now the rules

1103
00:40:44,510 --> 00:40:46,579
that I wanted to show, this is how we can establish

1104
00:40:46,579 --> 00:40:47,500
uh both

1105
00:40:48,059 --> 00:40:50,159
uh some telemetry rules, you know, here is

1106
00:40:50,159 --> 00:40:52,159
an example where I'm specifying

1107
00:40:52,159 --> 00:40:54,239
that cloud trail should be enabled. We're

1108
00:40:54,239 --> 00:40:56,320
going to report it back to a

1109
00:40:56,320 --> 00:40:57,360
law group here

1110
00:40:57,639 --> 00:40:59,679
and then some retention information. So this is a

1111
00:40:59,679 --> 00:41:01,800
great way to kind of establish uh

1112
00:41:01,800 --> 00:41:03,958
some uh governance around

1113
00:41:03,958 --> 00:41:06,019
those accounts, you know, make sure cloud trail is

1114
00:41:06,019 --> 00:41:07,579
enabled in those

1115
00:41:07,840 --> 00:41:09,958
account regions, make sure, you know, VPC

1116
00:41:09,958 --> 00:41:12,159
flow logs are being defined as

1117
00:41:12,159 --> 00:41:12,760
configured.

1118
00:41:13,289 --> 00:41:15,079
And if we jump

1119
00:41:15,659 --> 00:41:17,739
over into our organization settings, we

1120
00:41:17,739 --> 00:41:20,099
can then see those rules, you know, to actually centralize

1121
00:41:20,099 --> 00:41:21,099
the log information.

1122
00:41:26,019 --> 00:41:28,059
So here uh in this example rule I'm

1123
00:41:28,059 --> 00:41:30,059
just defining, you know, for the most

1124
00:41:30,059 --> 00:41:32,059
part that I just want to gather every single

1125
00:41:32,059 --> 00:41:34,179
law group, uh, within my environment.

1126
00:41:34,409 --> 00:41:36,648
Now you can of course, you know, provide filters, uh,

1127
00:41:36,659 --> 00:41:38,780
so if you only want to capture specific law

1128
00:41:38,780 --> 00:41:40,938
groups, you know, down here at the bottom you can

1129
00:41:40,938 --> 00:41:43,019
see my example, uh, which is just

1130
00:41:43,019 --> 00:41:45,059
saying, you know, if it's a cloud trail

1131
00:41:45,059 --> 00:41:47,519
law group, you know, we don't, we don't need to, to centralize

1132
00:41:47,519 --> 00:41:49,539
it, uh, but you can also use that

1133
00:41:49,539 --> 00:41:51,289
as an example, you know, for your other,

1134
00:41:51,659 --> 00:41:52,199
um,

1135
00:41:52,458 --> 00:41:53,760
law groups as needed, so.

1136
00:41:54,500 --> 00:41:56,579
You know, the, the real important part here is

1137
00:41:56,579 --> 00:41:59,010
that when we talk about uh querying,

1138
00:41:59,260 --> 00:42:00,800
you know, let's just be, uh,

1139
00:42:01,260 --> 00:42:03,019
extreme and say that we just do a select start.

1140
00:42:03,280 --> 00:42:05,458
Yeah, we don't need to query all of our law groups. There's

1141
00:42:05,458 --> 00:42:08,090
going to be some that are more important for our security

1142
00:42:08,090 --> 00:42:10,369
operations or just, you know, day to day

1143
00:42:10,369 --> 00:42:13,168
operations that need to be pulled in versus

1144
00:42:13,168 --> 00:42:15,219
application owners, you know, they may have a different set of law groups

1145
00:42:15,219 --> 00:42:16,820
that they are interested in.

1146
00:42:18,329 --> 00:42:20,688
So pulling in all of this information, if we were now

1147
00:42:20,688 --> 00:42:22,449
to go back to that log management section.

1148
00:42:23,148 --> 00:42:25,340
Uh, if I go to that same

1149
00:42:25,340 --> 00:42:27,418
session manager log group,

1150
00:42:27,469 --> 00:42:29,739
uh, that is located in my other account,

1151
00:42:30,000 --> 00:42:32,199
uh, we can then see, you know, that

1152
00:42:32,199 --> 00:42:32,898
same data,

1153
00:42:33,320 --> 00:42:34,260
uh, so

1154
00:42:34,800 --> 00:42:37,199
hard to tell, but, you know, in that log stream

1155
00:42:37,199 --> 00:42:39,398
name, uh, that I have highlighted right now,

1156
00:42:39,478 --> 00:42:41,719
that is for that member account, you know, where that

1157
00:42:41,719 --> 00:42:44,349
new Ubuntu resource, uh, was registered,

1158
00:42:44,519 --> 00:42:46,668
and now I'm in my delegated 9750

1159
00:42:46,668 --> 00:42:47,289
account instead.

1160
00:42:48,320 --> 00:42:50,369
So I can see all of those same commands that were

1161
00:42:50,369 --> 00:42:52,409
just issued in that member account so

1162
00:42:52,409 --> 00:42:54,489
I can just go ahead and get that

1163
00:42:54,489 --> 00:42:56,570
information as soon as possible when I am

1164
00:42:56,570 --> 00:42:58,469
responding to incidents that are occurring.

1165
00:42:58,728 --> 00:43:00,849
I don't have to worry about jumping between different

1166
00:43:00,849 --> 00:43:03,010
accounts, making sure I have access to those accounts

1167
00:43:03,010 --> 00:43:03,898
or those roles,

1168
00:43:04,228 --> 00:43:06,369
and we can have all of this information pulled in centrally

1169
00:43:06,369 --> 00:43:07,648
and made available for us.

1170
00:43:10,458 --> 00:43:11,280
All right,

1171
00:43:11,739 --> 00:43:12,309
and.

1172
00:43:12,978 --> 00:43:15,099
You know, so we just talked about how we can bring all of

1173
00:43:15,099 --> 00:43:17,179
those logs uh across our accounts and

1174
00:43:17,179 --> 00:43:17,688
regions,

1175
00:43:17,978 --> 00:43:20,119
and the last thing is, you know, now that we have this data

1176
00:43:20,119 --> 00:43:22,219
in CloudWatch, what, what do we do with it?

1177
00:43:22,340 --> 00:43:25,119
How can we expose this information to our key stakeholders,

1178
00:43:25,820 --> 00:43:27,949
so. We will flip

1179
00:43:27,949 --> 00:43:29,340
back very quickly into.

1180
00:43:31,260 --> 00:43:33,489
Uh, Amazonrifana workspace.

1181
00:43:33,539 --> 00:43:35,579
So we're gonna take a look at a Graffana workspace now. This is

1182
00:43:35,579 --> 00:43:36,938
the Amazon managedrifana,

1183
00:43:37,219 --> 00:43:39,378
but of course, you know, if you are using the open source Grafana,

1184
00:43:39,389 --> 00:43:41,320
that is perfectly suitable as well.

1185
00:43:41,659 --> 00:43:42,478
Uh, so if we.

1186
00:43:43,728 --> 00:43:44,500
Log into Crifana.

1187
00:43:47,530 --> 00:43:49,610
Oh, it is asking me to

1188
00:43:49,610 --> 00:43:51,349
grab my authenticator, so

1189
00:43:51,849 --> 00:43:52,590
let's.

1190
00:43:58,659 --> 00:44:00,860
Now, again, the, the reason that you may want to use

1191
00:44:00,860 --> 00:44:03,050
Grafana is really just to be able to uh

1192
00:44:03,050 --> 00:44:05,139
integrate, you know, with your IDPs, this

1193
00:44:05,139 --> 00:44:06,378
example just being Octa.

1194
00:44:06,780 --> 00:44:07,760
Uh, so,

1195
00:44:08,659 --> 00:44:11,188
the main important part is that you're able to expose

1196
00:44:11,188 --> 00:44:12,458
all of this information.

1197
00:44:12,938 --> 00:44:15,059
Let me grab my password, very secure.

1198
00:44:19,760 --> 00:44:21,860
You know, how can we expose this information without

1199
00:44:22,958 --> 00:44:24,989
requiring that the user is able to connect to

1200
00:44:24,989 --> 00:44:27,239
the AWS console, you know, go

1201
00:44:27,239 --> 00:44:29,320
about our different service pages, you know, kind of

1202
00:44:29,320 --> 00:44:31,418
make it as simple as possible for some of those

1203
00:44:31,418 --> 00:44:32,300
key stakeholders.

1204
00:44:32,719 --> 00:44:35,228
So here we just have a few different example dashboards,

1205
00:44:35,239 --> 00:44:37,360
but I'm just gonna pull up one for the

1206
00:44:37,360 --> 00:44:40,329
moment. Now this is based off of

1207
00:44:40,469 --> 00:44:42,539
our one observability workshop, you know,

1208
00:44:42,668 --> 00:44:44,679
there we have a sample pet site

1209
00:44:44,679 --> 00:44:46,869
application we can monitor our

1210
00:44:46,869 --> 00:44:49,070
metrics and logs about how is our pet site

1211
00:44:49,070 --> 00:44:51,030
doing. Are pets getting adopted,

1212
00:44:51,668 --> 00:44:53,708
you know, are they, are they experiencing any

1213
00:44:53,708 --> 00:44:55,719
issues with that entire

1214
00:44:55,719 --> 00:44:58,079
process, you know, as they work through the adoption phase,

1215
00:44:58,429 --> 00:45:00,668
and you know we can make all of this information

1216
00:45:00,668 --> 00:45:03,148
available to, you know, all of those stakeholders.

1217
00:45:03,188 --> 00:45:05,550
So just some simple EKS and ECS

1218
00:45:05,550 --> 00:45:06,110
metrics.

1219
00:45:06,429 --> 00:45:08,478
If we go over to our connections

1220
00:45:08,478 --> 00:45:10,679
here, we can even see that we have, you

1221
00:45:10,679 --> 00:45:12,918
know, a few different data sources that are configured right now,

1222
00:45:12,929 --> 00:45:15,070
including cloudWatch, X-ray, and then Azure

1223
00:45:15,070 --> 00:45:15,579
Monitor.

1224
00:45:16,820 --> 00:45:19,378
So if we go to explore our

1225
00:45:19,378 --> 00:45:19,958
information now,

1226
00:45:20,519 --> 00:45:22,579
yeah, so this is uh still selecting that Azure

1227
00:45:22,579 --> 00:45:24,539
monitor metric source.

1228
00:45:24,860 --> 00:45:25,579
If we

1229
00:45:25,978 --> 00:45:27,519
drill down here,

1230
00:45:28,300 --> 00:45:29,398
we're going to select that same,

1231
00:45:29,668 --> 00:45:32,260
uh, actually, we're gonna select VM2.

1232
00:45:32,539 --> 00:45:34,809
This is the one that I was running those stress tests

1233
00:45:34,809 --> 00:45:35,628
on earlier.

1234
00:45:37,208 --> 00:45:39,378
So if we then refresh, we can see when

1235
00:45:39,378 --> 00:45:41,699
we use Systems Editor to kill that

1236
00:45:41,699 --> 00:45:43,780
process, now the node is returning back to its

1237
00:45:43,780 --> 00:45:45,918
normal day to day boring

1238
00:45:46,059 --> 00:45:49,019
CPU usage of only 0.7%.

1239
00:45:49,958 --> 00:45:53,860
All right. So

1240
00:45:54,239 --> 00:45:56,360
let's kind of go back and just recap

1241
00:45:56,360 --> 00:45:57,139
one more time,

1242
00:45:57,398 --> 00:45:59,438
uh, sorry, one more, just a

1243
00:45:59,438 --> 00:46:01,478
moment. So talking about, you know, how

1244
00:46:01,478 --> 00:46:03,949
we can set up some central centralized observability,

1245
00:46:04,079 --> 00:46:06,079
it starts with putting in place, you know, getting

1246
00:46:06,079 --> 00:46:08,079
an understanding of our applications,

1247
00:46:08,159 --> 00:46:10,398
our metrics, our logs, you know, using Systemsander

1248
00:46:10,398 --> 00:46:12,159
as a bootstrapping tool to get.

1249
00:46:12,500 --> 00:46:14,628
Uh, the agent in place and ready to report.

1250
00:46:15,110 --> 00:46:17,228
Following that, we can use cloudWatch log rule

1251
00:46:17,228 --> 00:46:19,510
centralization to bring all of this data

1252
00:46:19,510 --> 00:46:21,789
into a single account, uh, so we can easily

1253
00:46:21,789 --> 00:46:23,829
access it, and then we can expose those metrics, you

1254
00:46:23,829 --> 00:46:25,878
know, using things like Amazon managedrifana,

1255
00:46:26,269 --> 00:46:28,280
uh, or even any other dashboards

1256
00:46:28,280 --> 00:46:29,059
that are needed.

1257
00:46:29,389 --> 00:46:31,550
And Clark is now going to talk about how

1258
00:46:31,550 --> 00:46:32,728
Philip 66

1259
00:46:33,228 --> 00:46:35,369
was able to achieve some success with this.

1260
00:46:35,889 --> 00:46:37,989
Uh, thank you, Eric. That was fantastic. I, I love seeing

1261
00:46:37,989 --> 00:46:39,099
those, those demos.

1262
00:46:39,469 --> 00:46:41,570
So as we promised, these are real.

1263
00:46:42,059 --> 00:46:44,228
Actionable techniques and tools you can start

1264
00:46:44,228 --> 00:46:46,010
using today or

1265
00:46:46,269 --> 00:46:47,139
when you leave here,

1266
00:46:47,429 --> 00:46:49,539
right? And Phillips 66 is

1267
00:46:49,539 --> 00:46:51,590
just another example of a customer who's

1268
00:46:51,590 --> 00:46:53,429
done this successfully and really

1269
00:46:54,030 --> 00:46:55,458
achieved some significant benefits.

1270
00:46:55,829 --> 00:46:57,889
So you see that they've increased their visibility

1271
00:46:58,469 --> 00:47:00,789
and their productivity by using managed grafana

1272
00:47:01,019 --> 00:47:01,878
and Amazon,

1273
00:47:02,708 --> 00:47:04,128
Amazon managed

1274
00:47:04,389 --> 00:47:06,030
services for Prometheus.

1275
00:47:07,269 --> 00:47:09,309
So up to 30% reduction

1276
00:47:09,309 --> 00:47:11,269
in their mean time to recover.

1277
00:47:11,668 --> 00:47:13,869
So when they do have an impairment, they're able to recover

1278
00:47:13,869 --> 00:47:14,849
much more quickly.

1279
00:47:15,269 --> 00:47:17,349
That of course has a significant impact to their

1280
00:47:17,349 --> 00:47:19,489
business and brings them tremendous value.

1281
00:47:19,909 --> 00:47:22,208
And that now they have a single pane of glass

1282
00:47:22,989 --> 00:47:25,469
for their observability for all of their services.

1283
00:47:27,449 --> 00:47:29,728
Of course we got that single pane of glass, it makes

1284
00:47:29,728 --> 00:47:31,840
everything easier. You don't have to start switching

1285
00:47:31,840 --> 00:47:33,469
between different views.

1286
00:47:33,728 --> 00:47:35,969
You don't get confused about where you're actually looking

1287
00:47:35,969 --> 00:47:38,168
at and it allows you to resolve things

1288
00:47:38,168 --> 00:47:40,250
quicker, understand what's happening in

1289
00:47:40,250 --> 00:47:40,829
a much

1290
00:47:41,090 --> 00:47:41,679
faster way.

1291
00:47:44,309 --> 00:47:45,769
And with fewer tools,

1292
00:47:46,070 --> 00:47:48,070
you have fewer headaches, fewer things to worry

1293
00:47:48,070 --> 00:47:50,188
about, fewer things you need to train all

1294
00:47:50,188 --> 00:47:52,510
of your DevOps, your SREs, your engineers

1295
00:47:52,510 --> 00:47:54,510
on. And this is also gonna give you a

1296
00:47:54,510 --> 00:47:55,289
cost optimization.

1297
00:47:55,550 --> 00:47:56,469
Fewer tools,

1298
00:47:56,869 --> 00:47:57,668
fewer costs.

1299
00:47:59,728 --> 00:48:01,780
And of course, if you can observe things centrally

1300
00:48:01,780 --> 00:48:03,539
and you can manage them centrally,

1301
00:48:04,059 --> 00:48:05,019
including your security.

1302
00:48:05,708 --> 00:48:07,708
This is going to increase your security posture.

1303
00:48:08,409 --> 00:48:10,539
If you can clearly see what

1304
00:48:10,539 --> 00:48:12,938
things are compliant, what are not compliant, where are patches,

1305
00:48:13,059 --> 00:48:14,769
where your security policies applied,

1306
00:48:15,309 --> 00:48:17,559
ensure that they're done correctly by having it in one central place,

1307
00:48:18,260 --> 00:48:20,860
that's gonna give you the ability to have a much greatly

1308
00:48:20,860 --> 00:48:21,398
improved

1309
00:48:21,860 --> 00:48:22,619
security posture.

1310
00:48:25,539 --> 00:48:27,478
And of course you can use both cloud native

1311
00:48:27,739 --> 00:48:28,280
and

1312
00:48:28,539 --> 00:48:30,579
open source managed services, so we showed

1313
00:48:30,579 --> 00:48:32,110
you the managedrifana,

1314
00:48:32,458 --> 00:48:34,619
but as Eric mentioned, you can use the open source version

1315
00:48:34,619 --> 00:48:36,719
as well, so you have the flexibility

1316
00:48:36,889 --> 00:48:39,309
to use whatever tool set meets your

1317
00:48:39,309 --> 00:48:40,079
organizational needs.

1318
00:48:43,619 --> 00:48:45,769
Eric showed you a couple of tools, but we

1319
00:48:45,769 --> 00:48:47,929
of course have other ways that we can help you with this at

1320
00:48:47,929 --> 00:48:48,869
AWS.

1321
00:48:50,599 --> 00:48:52,849
And believe it or not, this is not the first

1322
00:48:52,849 --> 00:48:55,010
year we've done multi-cloud at AWS.

1323
00:48:55,090 --> 00:48:56,668
I know you've probably heard a lot

1324
00:48:57,090 --> 00:48:58,250
about multi-cloud this year,

1325
00:48:58,530 --> 00:49:00,728
but we've been doing multi-cloud at AWS in

1326
00:49:00,728 --> 00:49:02,878
one way or another since 2016,

1327
00:49:02,889 --> 00:49:04,309
as you can see in this timeline.

1328
00:49:04,688 --> 00:49:05,389
Of course

1329
00:49:05,648 --> 00:49:07,929
we're continuing to add new capabilities,

1330
00:49:08,289 --> 00:49:10,829
new features, new services, new functionality

1331
00:49:10,978 --> 00:49:13,250
to help all of you manage your systems as you

1332
00:49:13,250 --> 00:49:14,550
grow into multi-cloud

1333
00:49:14,969 --> 00:49:15,610
customers.

1334
00:49:16,039 --> 00:49:18,039
Um, and so here again we're just highlighting a few

1335
00:49:18,039 --> 00:49:20,128
of those, but really again the key is we're

1336
00:49:20,128 --> 00:49:22,280
continuing to grow this list, so expect

1337
00:49:22,280 --> 00:49:24,360
more and more developments in the multi-cloud

1338
00:49:24,360 --> 00:49:26,458
front as we continue to build services

1339
00:49:26,719 --> 00:49:28,438
to support you and your business.

1340
00:49:31,739 --> 00:49:33,938
So what next? Hopefully you really enjoyed this

1341
00:49:33,938 --> 00:49:36,179
talk. Uh, we have some QR

1342
00:49:36,179 --> 00:49:38,478
codes here that you can go ahead and scan to get more

1343
00:49:38,478 --> 00:49:40,780
information, uh, including information on our hybrid

1344
00:49:40,780 --> 00:49:42,039
multi-cloud solutions,

1345
00:49:42,500 --> 00:49:44,500
uh, as well as our Amazon.com

1346
00:49:44,500 --> 00:49:45,458
blogs site.

1347
00:49:46,809 --> 00:49:48,849
Yep, so go ahead and take a, take a moment there. You can see all the

1348
00:49:48,849 --> 00:49:51,329
newest posts, you can filter them by category

1349
00:49:51,329 --> 00:49:53,128
or tags and search for them, etc.

1350
00:49:53,648 --> 00:49:55,688
I see a lot of phones up, so I'm gonna give you a

1351
00:49:55,688 --> 00:49:56,789
minute to look at those.

1352
00:49:57,719 --> 00:50:00,438
Uh, we also do have, uh, some booths

1353
00:50:00,438 --> 00:50:01,878
in the, uh, studio.

1354
00:50:02,760 --> 00:50:04,559
So here we can go.

1355
00:50:09,369 --> 00:50:11,458
So some very specific blogs we do wanna call out

1356
00:50:11,458 --> 00:50:13,570
again though, so, um, one of our searching

1357
00:50:13,570 --> 00:50:15,750
through session manager as as Eric showed you today

1358
00:50:15,929 --> 00:50:17,909
and as well another one on observability

1359
00:50:18,168 --> 00:50:20,789
uh with uh Azure using CloudWatch.

1360
00:50:26,099 --> 00:50:27,699
We've got a cloud ops kiosk as well.

1361
00:50:28,010 --> 00:50:30,458
Please stop by and see us. I know we're only open until 4 o'clock

1362
00:50:30,458 --> 00:50:32,500
today. So, uh, if you get time,

1363
00:50:32,539 --> 00:50:34,659
we've got socks and we've got demos

1364
00:50:34,659 --> 00:50:36,659
and stickers and fun stuff like that.

1365
00:50:36,860 --> 00:50:39,019
And if you have any kind of questions or anything like that,

1366
00:50:39,219 --> 00:50:41,219
there's always gonna be somebody there who's more

1367
00:50:41,219 --> 00:50:42,260
than happy to help you.

1368
00:50:42,860 --> 00:50:45,300
So with that, I would do wanna thank you and please encourage

1369
00:50:45,300 --> 00:50:47,659
you to take a moment and fill out your survey

1370
00:50:47,659 --> 00:50:48,539
in your application.

1371
00:50:48,938 --> 00:50:49,860
We take your feedback.

