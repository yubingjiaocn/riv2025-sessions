# AWS re:Invent 2025 技术会议总结

## 会议概述

本次会议由来自 DXC 的解决方案架构师分享了在实际项目中遇到的架构失败案例和经验教训。演讲者以"架构师也会失败"为主题，强调了理论上完美的架构设计在遇到现实场景时往往会暴露出各种问题。会议重点讨论了三个核心支柱：弹性（Resilience）、安全性（Security）、运营卓越（Operational Excellence），以及多账户管理和成本效率优化。

演讲者通过真实客户案例展示了常见的架构陷阱，包括巴西某电商履行平台的可用性问题、企业银行的 EKS 集群升级事故，以及缺乏成本管理导致的资源浪费。这些案例揭示了一个核心问题：架构师往往专注于设计和实施，但忽略了实际测试、治理流程和跨团队沟通的重要性。演讲者强调，可用性是一个架构决策而非简单的勾选项，需要根据业务需求进行权衡取舍。

## 详细时间线

开场介绍
- 演讲者自我介绍为 DXC 的解决方案架构师
- 介绍会议议程：弹性、安全性、运营卓越、多账户管理和成本效率

第一个失败案例：电商平台的弹性问题
- **客户背景**：巴西电商履行平台，托管多家主要移动公司销售手机（iPhone、配件、摩托罗拉等）
- **流量规模**：日均 3000 次访问，B2B 和 B2C 混合客户
- **原始架构问题**：
  - 采用基础的三层架构（负载均衡器、Web 层、数据库层）
  - 手动扩展，没有自动伸缩
  - 所有实例集中在单个可用区，仅有一个实例在另一个可用区
  - RDS 主数据库与大部分实例不在同一可用区
  - 没有缓存策略
  - 没有黄金镜像，需要手动创建和配置新实例
 
- **架构缺陷分析**：
  - 单可用区故障会导致整个应用宕机
  - 手动扩展无法应对黑色星期五等流量高峰
  - 大量产品图片直接从实例提供，性能低下
  - 每次客户访问都查询数据库获取图片信息

- **优化方案**：
  - 在多个可用区间均衡分布实例
  - 实施自动伸缩和启动模板
  - 添加 CloudFront 缓存静态图片内容
  - 在应用层添加缓存减少数据库查询
  - 性能提升：响应时间减少 80 毫秒

- **业务成果**：成功支撑 iPhone 14 发布时的黑色星期五流量高峰（此前类似活动曾导致网站宕机和收入损失）

- **核心教训**：可用性是架构决策而非简单勾选项，需要根据业务需求权衡。日均 2000-3000 访问量不需要跨区域部署，但需要多可用区分布

第二个失败案例：EKS 集群升级事故
- **客户背景**：企业银行，运行关键任务工作负载和客户服务平台
- **安全配置**：启用了 Security Hub，遵循基础安全最佳实践
- **问题根源**：
  - Security Hub 持续告警 EKS 版本过期需要升级
  - 团队长期忽略和抑制告警
  - 未建立升级测试流程和治理机制
 
- **事故经过**：
  - 团队在没有充分测试的情况下直接升级生产环境 EKS 集群
  - 升级后应用无法正常运行，导致业务中断和收入损失
  - 联系 AWS 支持进行集群降级恢复

- **根本原因**：
  - 缺乏 DevOps 流水线验证机制
  - 没有升级治理流程
  - 团队间沟通不畅，存在信息孤岛
  - 架构师未参与治理流程设计

- **核心教训**：当流程失败时，架构也会失败。架构师的职责不仅是设计系统，还包括建立有效的治理和沟通机制

第三个失败案例：成本优化缺失
- **问题描述**：
  - 非生产环境（开发、测试）使用与生产环境相同的实例规格
  - 没有实施关机策略或运维时间窗口
  - 缺乏成本治理和优化意识

- **成本影响**：
  - 月度浪费：60,000 美元
  - 年度潜在节省：720,000 美元

- **核心教训**：缺乏明确的成本管理策略会导致严重的资源浪费

总结
- 演讲者提供 LinkedIn 联系方式供进一步交流
- 强调从失败中学习的重要性