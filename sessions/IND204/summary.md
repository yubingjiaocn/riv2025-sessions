# AWS re:Invent 2025：EA Apex Legends 迁移至 Amazon GameLift 服务器技术分享

## 会议概述

本次技术分享会详细介绍了 EA 旗下热门游戏《Apex Legends》从传统游戏服务器架构迁移至 Amazon GameLift 的完整过程。主讲人包括 AWS 的 Trevor Moore（EA 与 AWS 关系负责人）、Code Wizards 的 Tom Penrose（首席在线服务官）以及 EA Apex Legends 的 Jared Cugno（技术负责人）。

这次迁移不仅仅是一个技术平台的转换，更是一个关于动机、挑战、学习和解决方案的完整故事。《Apex Legends》作为一款拥有超过 5000 万玩家、营收超过 20 亿美元的大型多人在线游戏，其迁移过程展现了现代多人游戏构建和扩展方式的重大转变。整个迁移项目最终实现了 10 天零停机时间的平滑过渡，并显著改善了玩家体验。

## 详细时间线与关键要点

### 00:00-05:00 开场介绍与背景
- Trevor Moore 介绍会议议程和演讲嘉宾
- 阐述 AWS 与 EA 超过 10 年的战略合作关系
- 强调三大合作支柱：战略伙伴关系、创新驱动、玩家体验优先
- 介绍 EA 作为联邦式运营模式，各工作室可自主选择技术栈

### 05:00-10:00 Apex Legends 游戏背景
- Respawn Entertainment 工作室历史：2017 年被 EA 收购
- 《Apex Legends》2019 年发布，24 小时内达到 200 万玩家
- 一个月内突破 5000 万玩家，累计营收超过 20 亿美元
- 游戏特点：大逃杀模式、高移动性、低延迟敏感、每 3 个月更新季度内容
- 2023 年末 Respawn 开始寻求新的托管解决方案

### 10:00-15:00 多人游戏架构挑战
- Tom Penrose 详细解析多人游戏复杂架构
- 游戏后端服务：权限管理、经济系统、成就排行榜、分析数据、远程配置
- 多人游戏后端：匹配系统、大厅服务、扩展管理
- 开发环境：CI/CD 流水线、每天 4-6 次构建部署
- 玩家容量波动：24 小时周期性变化、季度发布带来的大幅增长

### 15:00-20:00 Amazon GameLift 服务介绍
- Trevor 介绍 GameLift 作为专为多人游戏设计的托管解决方案
- 关键特性：全球覆盖、弹性扩展、混合部署选项、GameLift Anywhere 本地测试
- Flex Match 匹配服务、容器支持、后端插件集成
- 遥测指标和性能监控功能
- 全球 55 个本地区域和可用区的覆盖计划

### 20:00-25:00 GameLift 性能数据展示
- Tom 展示 GameLift 服务可用性数据：长期保持 99.99% 可用性
- 处理大规模请求量变化，包括季度发布期间的流量峰值
- 近 4 个月新功能发布：SSM 控制台、遥测指标、本地区域扩展、新操作系统支持
- AWS、Code Wizards 和 Respawn 三方合作模式介绍

### 25:00-30:00 迁移架构设计
- 核心设计原则：不修改游戏服务器或客户端代码
- Portal 组件：API 代理，模拟原有提供商 API
- Switcher 组件：精细控制流量分配，支持按区域和游戏类型分流
- Wrapper 组件：Go 语言实现的 GameLift SDK 包装器（已开源）
- 架构设计支持渐进式迁移和快速回滚

### 30:00-35:00 测试策略与实施
- 三阶段测试方法：组件测试、功能测试、大规模测试
- 使用 K6 工具进行生产级负载测试
- 功能测试：24-72 小时连续运行，检测内存泄漏和端口绑定问题
- 大规模测试：验证生产级别扩展能力，包括零停机补丁测试
- 建立基准 SLO：队列时间、匹配成功率、延迟等关键指标

### 35:00-40:00 迁移执行策略
- 10 天零停机迁移计划，实际可在 1-2 天完成
- 按区域逐步迁移，从 1% 流量开始渐进增加
- 30 秒快速回滚能力
- 精心安排迁移时间，避免与补丁发布和季度更新冲突
- 容量预热和时区考虑

### 40:00-45:00 迁移结果与改进
- Jared Cugno 分享迁移成果
- 玩家完全无感知迁移过程
- 游戏服务器降级事件显著减少
- 获得更灵活的区域部署能力
- 改进的遥测和监控能力支持新功能开发

### 45:00-49:30 总结与经验分享
- 迁移后持续改进：新区域部署、自定义工具开发、成本优化
- 关键经验总结：
  - 全面测试（组件、功能、大规模）
  - 重视可观测性和指标监控
  - 避免大爆炸式迁移，采用精细化流量控制
  - 建立紧密合作的专业团队
- 会议结束，邀请现场交流