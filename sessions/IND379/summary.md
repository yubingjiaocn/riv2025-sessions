# AWS re:Invent 2025 RTB Fabric 会议总结

## 会议概述

本次会议由AWS RTB Fabric团队负责人Sergio Sah主讲,介绍了AWS专为实时竞价(RTB)工作负载打造的全新服务——RTB Fabric。会议重点解决了广告技术行业面临的两大核心挑战:云计算成本过高和延迟问题。

Sergio Sah是广告技术行业资深人士,最近加入AWS负责RTB Fabric服务。他与解决方案架构师Fernando Gamero以及客户代表ILMO公司的首席技术官Duke Chowo共同展示了这项服务的技术架构、实施方法和实际应用效果。RTB Fabric作为首个专为RTB工作负载设计的云服务,承诺可降低高达80%的云基础设施和网络成本,同时提供毫秒级的超低延迟。

会议通过详细的技术讲解和真实客户案例,展示了RTB Fabric如何通过简化集成流程、优化网络架构和提供模块化功能,帮助需求方平台(DSP)和供应方平台(SSP)实现更高效、更经济的广告交易。ILMO作为早期采用者,分享了在生产环境中使用RTB Fabric后获得的显著改进,包括降低超时率、提高竞价成功率和增加收入等实际成果。

## 详细时间线与关键要点

### 开场与行业挑战介绍 (00:00 - 08:30)

00:00 - 01:30 - 开场互动
- Sergio Sah进行现场调查,询问与会者对云计算成本和延迟问题的看法
- 介绍自己作为广告技术行业资深人士最近加入AWS的背景
- 介绍演讲团队成员:Fernando Gamero(高级解决方案架构师)和Duke Chowo(ILMO公司CTO)

01:30 - 03:00 - 会议议程概览
- 广告技术行业关键挑战分析
- RTB Fabric架构深入讲解
- 服务上线流程演示
- 可观测性和指标监控能力
- 成本节省分析
- 客户案例分享(ILMO)
- 关键洞察和学习总结

03:00 - 08:30 - 广告技术生态系统的核心挑战
- **需求与供应发现问题**:DSP需要找到合适的SSP和发布商,SSP需要找到专注于特定垂直领域的DSP
- **集成复杂性**:新的合作伙伴集成需要3-4周到5个月不等的时间,包括法律、商务和技术层面
- **延迟优化难题**:如何确保与合作伙伴工作负载的物理位置尽可能接近以降低延迟
- **透明度缺失**:行业从第二价格拍卖转向第一价格拍卖,但交易过程仍存在黑箱问题
- **数据碎片化**:需求方了解广告主需求但不了解供应情况,供应方了解用户和广告位但不了解需求格局
- **模型优化挑战**:DSP和SSP都需要优化机器学习模型,包括ROI优化、预算控制、收益优化等
- **成本优化**:行业通用指标是"每十亿次请求的成本"(cost per billion)

### RTB Fabric服务介绍 (08:30 - 13:00)

08:30 - 10:00 - RTB Fabric核心优势
- **快速连接**:从数周或数月缩短到数小时即可完成新合作伙伴对接
- **显著成本节省**:相比传统云基础设施和网络成本,可节省高达80%
- **超低延迟**:提供毫秒级响应时间,P99延迟为500-550微秒
- **第三方集成**:通过"模块"(Modules)概念实现与第三方应用的快速集成
- **区域化服务**:支持区域内通信,也支持与公网上的合作伙伴通信

10:00 - 13:00 - RTB Fabric关键组件
- **RTB网关**:分为请求方网关(Requester Gateway)和响应方网关(Responder Gateway),抽象化传统术语
- **内置负载均衡**:响应方网关包含轻量级DNS流量分发层,无需额外的负载均衡器
- **高级流量管理模块**:
  - OpenRTB过滤器:可根据OpenRTB路径的任何选择器过滤请求
  - 速率限制器:为每个链接设置特定的QPS限制
  - 错误屏蔽:在部署期间将错误包装为204(无竞价)响应,避免供应波动

### 架构深入讲解 (13:00 - 35:00)

13:00 - 16:00 - 程序化广告生态系统概述(Fernando主讲)
- 发布商寻找最佳合作伙伴和性价比高的平台
- 广告代理商管理广告活动的发布和分发
- SSP连接发布商,DSP连接广告代理商
- RTB Fabric作为中间层简化生态系统连接

16:00 - 20:00 - 网关架构详解
- **请求方网关**:SSP应用继续接收来自发布商的流量,但通过RTB Fabric创建的网络接口进行通信,实现毫秒级低延迟
- **响应方网关**:DSP应用保持现有端点配置,通过网络接口与RTB Fabric连接,仍可利用现有负载均衡器

20:00 - 24:00 - 链接(Links)机制
- **内部标准链接**:当双方合作伙伴都在AWS上并已接入RTB Fabric且位于同一区域时使用
- 需要一方发起链接,另一方接受
- 提供私密安全的连接,流量在RTB Fabric服务内流动
- 单毫秒级延迟,支持每秒数百万次查询

24:00 - 26:00 - 外部链接
- **外部出站链接**:请求方网关与AWS外部或未接入RTB Fabric的DSP通信
- **外部入站链接**:响应方网关接收来自AWS外部供应合作伙伴的流量

26:00 - 29:00 - 模块(Modules)详解
- 可配置的流量管理组件,在链接网络路径中运行
- 支持容器化应用,可引入机器学习模型或生成式AI代理
- 附加到链接的每一侧,各合作伙伴可独立配置
- 发布时提供三个内置模块:速率限制器、OpenRTB过滤器、错误屏蔽模块

29:00 - 32:00 - 托管端点(Managed Endpoints)
- 完全移除负载均衡器需求,进一步降低成本
- 支持EKS集群或EC2自动扩展组
- 通过查询EKS端点或自动扩展组获取节点/实例IP地址
- 在Route 53私有托管区域中记录,响应方网关直接将流量分发到节点

32:00 - 34:00 - 安全性
- 所有流量默认加密,请求方网关始终提供HTTPS端点
- 请求方和响应方网关之间的流量私密且加密
- 支持最后一英里使用HTTP(需明确选择)
- 端到端加密需要在节点上维护TLS证书
- 使用私有CA时需提供CA证书供网关进行TLS验证

### 上线流程演示 (34:00 - 45:00)

34:00 - 36:00 - 三步上线流程概述
1. 创建网关
2. 创建链接
3. 开始路由流量

36:00 - 40:00 - 详细上线步骤
- **步骤1 - 创建请求方网关**:
  - 识别SSP应用所在的VPC和子网
  - 创建安全组
  - 获得域名用于转发流量
 
- **步骤2 - 创建响应方网关**:
  - 提供VPC和子网信息
  - 指定DSP应用监听的协议和端口
  - 提供域名(如负载均衡器DNS名称)
  - 创建安全组

- **步骤3 - 创建链接**:
  - 双方交换网关ID
  - 请求方使用对等网关ID创建链接
  - 默认端到端加密,如需HTTP需明确选择
  - 响应方接受链接

40:00 - 42:00 - 流量路由配置
- 修改SSP应用端点配置
- URL格式:网关域名 + 链接ID + 原始请求路径
- 开始通过RTB Fabric发送流量

42:00 - 45:00 - 模块附加和外部链接创建
- 各方可独立附加模块到链接
- 可指定模块执行顺序
- 创建外部出站链接:指定外部DSP的公共端点
- 创建外部入站链接:获得域名供外部SSP使用

### 可观测性与监控 (45:00 - 48:00)

45:00 - 46:30 - 日志记录
- 使用CloudWatch日志传输(Log Delivery)
- 在链接级别配置
- 支持采样和过滤以应对高流量
- 可发送到CloudWatch Logs、Amazon S3或Kinesis Firehose
- 默认不启用,需手动配置

46:30 - 48:00 - 指标监控
- 默认启用并传输到客户账户
- 为每个链接提供指标
- **维度包括**:
  - HTTP状态码(200、204、500等)
  - 统计数据(P90、P99)
  - 链接流量(总请求数、延迟等)
- 可构建自定义仪表板和告警

### 成本与性能 (48:00 - 52:00)

48:00 - 50:30 - 定价模型
- 按RTB经济学设计,专注高交易量
- 网关创建免费,仅为发送的请求付费(不包括接收的请求)
- 无预付费承诺
- 按每月发送的请求/响应数量计费,以每百万次为单位
- 根据链接类型(内部或外部)定价不同
- 基于交易量的分层折扣:前2万亿次交易和超过2万亿次交易价格不同
- 每次RTB交易包含2KB免费数据
- 超过2KB的负载按每GB计费
- 无竞价交易费率更低

50:30 - 52:00 - 性能指标
- 一致的个位数毫秒延迟
- 支持每秒数百万次查询
- 传统集成通常为50-100毫秒延迟,RTB Fabric可稳定提供低于10毫秒的延迟
- 跨多个区域可用,支持全球规模

### 客户案例分享 - ILMO (52:00 - 58:00)

52:00 - 54:00 - ILMO公司背景(Duke Chowo主讲)
- Duke Chowo自1999年起从事广告技术行业
- 见证了多种技术趋势的兴衰(OpenRTB、Prebid成为标准,Flash等技术消失)
- 强调成功标准的共同点:建立在坚实的基础设施之上
- RTB Fabric提供了这样的坚实基础

54:00 - 56:00 - 三方共赢成果
- **需求方合作伙伴**:看到更多竞价机会,为客户提供更好的结果
- **ILMO(中间方)**:提高竞价效率,降低超时率,提高胜率,增加收入
- **供应方**:提高收益,为客户提供更好的广告体验,形成飞轮效应

56:00 - 58:00 - "竞价之上"与"竞价之下"概念
- **竞价之上**:广告投放方式、广告匹配、安全性、隐私、创意优化等
- **竞价之下**:基础设施层面,RTB Fabric专注于此,提供坚实基础以支持上层创新

### 会议总结

本次会议全面展示了AWS RTB Fabric作为首个专为实时竞价工作负载设计的云服务,如何通过创新的架构设计、简化的集成流程和显著的成本优势,解决广告技术行业长期面临的挑战。通过客户实际案例验证了服务的有效性,为行业提供了一个可靠的基础设施平台。