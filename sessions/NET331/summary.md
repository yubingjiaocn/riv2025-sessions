# AWS Cloud WAN MCP 服务器技术会议总结

## 会议概述

本次AWS re:Invent 2025技术会议（NET331）由Andy和Jose主讲，主题为"AWS Cloud WAN MCP服务器"。会议采用互动形式，重点介绍了如何使用模型上下文协议（MCP）和AI代理来简化复杂AWS网络环境的管理和故障排除。

演讲者通过实际案例展示了从传统脚本方法向AI驱动网络管理的转变。他们开发了AWS网络MCP服务器，该服务器能够自动化网络路径追踪、IP地址查找和网络配置分析等复杂任务。会议强调了将小型专用工具与AI代理相结合的设计理念，让LLM负责决策制定，而不是将所有逻辑构建在脚本中。

## 详细时间线与关键要点

### 开场介绍 (00:00-05:00)
- Andy介绍会议主题和互动形式
- 现场调研：核心网络工程师、DevOps工程师和两者兼具的参与者比例
- 观察到越来越多人开始涉足网络和DevOps两个领域

### 问题背景与挑战 (05:00-10:00)
- 展示复杂网络架构案例：双核心网络、多区域、检查VPC、网络功能组
- 传统故障排除方法的局限性：
  - AWS控制台：难以记忆和重复
  - AWS CLI：脚本变得复杂且脆弱
  - Python Boto3：需要开发技能
- 战略目标：创建类似traceroute的工具，显示A到B的完整路径

### AI代理和MCP概念介绍 (10:00-20:00)
- Jose解释AI代理的工作原理和代理循环（agentic loop）
- 模型上下文协议（MCP）的定义和作用
- 现场调研：使用脚本管理AWS网络 vs 使用AI管理网络的人数对比
- 脚本适用于已知输出场景，AI适用于复杂或未知查询

### 代码演示环境介绍 (20:00-25:00)
- 演示环境包含AWS Cloud WAN网络、Transit Gateway、VPC和AWS网络防火墙
- 使用Kiro CLI作为AI代理
- 加载AWS网络MCP服务器和AWS知识MCP服务器

### MCP工具代码分析 (25:00-35:00)
- 详细分析get_cloud_wan_details工具的结构
- 四个参数：core_network_id、core_network_region、next_token、profile_name
- 设计选择：让LLM控制区域和账户切换
- 工具描述和文档字符串的重要性
- 错误处理策略：将所有错误返回给LLM进行推理

### 实时演示：核心网络查询 (35:00-40:00)
- 演示list_core_networks工具查找US West 2的核心网络
- 使用get_cloud_wan_details获取详细信息
- 展示错误处理：无效核心网络ID的处理

### MCP vs 脚本设计理念 (40:00-45:00)
- 强调使用LLM进行决策制定，而非将逻辑构建在MCP中
- 代理文件的作用：提供稳定角色、工具使用策略、引导提示
- 代理文件优势：上下文优先、工作流编排、知识专业化

### 实时编码演示：Find IP MCP (45:00-50:00)
- 使用Kiro实时创建"查找IP地址"MCP服务器
- 演示从概念到可用工具的快速开发过程
- 工具能够跨所有区域并行搜索IP地址
- 返回IP地址、区域、ENI、子网、实例等详细信息

### 路径追踪演示 (50:00-55:00)
- 展示复杂的网络路径追踪功能
- 逐跳分析网络基础设施组件
- 生成包含Mermaid图表的Markdown报告
- 包含返回路径分析、安全控制分析、连接矩阵

### 总结与开源发布 (55:00-57:30)
- AWS网络MCP服务器已开源发布
- 鼓励社区贡献和扩展
- 项目从AWS Cloud WAN MCP扩展为AWS网络MCP
- 支持多种网络服务的可扩展架构