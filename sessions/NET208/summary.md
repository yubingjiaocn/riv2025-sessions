# AWS re:Invent 2025 - NET208 AWS 网络基础：连接、安全与扩展

## 会议概述

本次会议是 AWS re:Invent 2025 的 NET208 分会场，主题为"AWS 网络基础：连接、安全与扩展"。会议由两位 AWS 专家主讲：Rohit Aswani（AWS 全球公共部门首席网络解决方案架构师）和 Dave Dico（网络专家技术客户经理）。

这是一场 200 级别的基础会议，旨在为参会者提供 AWS 云网络的基本构建模块知识。会议系统地介绍了 AWS 全球基础设施、Amazon VPC（虚拟私有云）的核心概念、多种连接选项（包括互联网连接、混合云连接、应用网络连接和远程访问）、DNS 服务、流量检测与防火墙配置，以及网络监控和可观测性等关键主题。

会议特别强调了 IPv4 和 IPv6 的双栈支持，展示了 AWS 如何帮助客户在现代云环境中实现灵活、安全和可扩展的网络架构。目前 AWS 已支持超过 150 项服务的 IPv6 功能，并提供了多种网络服务来满足不同场景的需求。

## 详细时间线与关键要点

### 开场介绍 (00:00 - 02:30)
- **00:00** - 会议开始，欢迎参会者参加 re:Invent 2025
- **00:30** - 介绍会议主题：NET208 AWS 网络基础 - 连接、安全与扩展
- **00:45** - Rohit Aswani 自我介绍：AWS 全球公共部门首席网络解决方案架构师
- **01:00** - Dave Dico 自我介绍：网络专家技术客户经理，隶属于企业支持团队
- **01:30** - 说明这是 200 级别会议，需要参会者具备 CIDR 表示法、DNS、IP 路由等基础知识
- **02:00** - 告知幻灯片将发布在 AWS 活动页面供后续访问

### 会议议程概览 (02:30 - 03:30)
- **02:30** - 介绍会议议程：全球基础设施、VPC 基础、连接选项、DNS、流量检测、监控与可观测性
- **03:00** - 涵盖内容包括：互联网连接、混合云连接、应用网络、远程访问连接

### AWS 全球基础设施 (03:30 - 06:00)
- **03:30** - 介绍 AWS 全球基础设施：38 个区域、43 个本地区域、超过 146 个 Direct Connect 接入点
- **04:00** - 所有基础设施通过 AWS 自建的骨干网络连接，这是最安全可靠的网络
- **04:30** - 提供 QR 码链接到 AWS 全球网络页面
- **05:00** - 深入讲解区域（Region）概念：全球各地的物理位置，数据中心集群通过高速、高带宽、低延迟链路互连
- **05:30** - 介绍可用区（Availability Zone）：数据中心集群，区域内通常有三个可用区，彼此通过加密的高带宽低延迟链路连接

### Amazon VPC 基础 (06:00 - 12:00)
- **06:00** - 介绍 Amazon VPC：逻辑隔离的网络部分，类似于数据中心
- **06:30** - VPC 是区域级构造，跨越多个可用区
- **07:00** - EC2 实例运行在可用区内的数据中心机架上
- **07:30** - 讲解 IPv4 和 IPv6 地址选项
- **08:00** - AWS 对公有和私有 IP 地址的定义：基于是否在互联网上广播
- **08:30** - 公有 IPv4：可从 Amazon 获取或自带（BYOIP）
- **09:00** - 私有 IPv4：RFC 1918 地址范围（10.0.0.0/8、172.16.0.0/12、192.168.0.0/16）和 CGNAT 范围
- **09:30** - 公有 IPv6：全球单播地址（GUA），可从 Amazon 获取或自带
- **10:00** - 私有 IPv6：唯一本地地址（ULA），不在互联网上广播
- **10:30** - IPv6 支持模式：双栈和纯 IPv6
- **11:00** - AWS 目前支持超过 150 项服务的 IPv6 功能
- **11:30** - 提供 QR 码链接到支持 IPv6 的 AWS 服务列表

### VPC IP 地址管理 (12:00 - 15:30)
- **12:00** - 介绍 Amazon VPC IPAM（IP 地址管理器）：自动化 IP 地址分配，规划和跟踪 AWS 上的 IP 地址
- **12:30** - IPAM 适用于多账户、多区域环境
- **13:00** - 私有 IPv4 示例：创建私有和公有作用域
- **13:30** - 顶级池示例：/12 地址块，按区域划分为 /14
- **14:00** - 按组织规则划分：开发池和生产池（/16）
- **14:30** - 与 AWS Organizations 集成，跨账户共享环境池
- **15:00** - IPv6 BYOIP 示例：将自带的 IPv6 GUA 地址放入公有作用域

### VPC 子网配置 (15:30 - 18:30)
- **15:30** - 从 IPAM 获取 IP 地址范围并分配给 VPC
- **16:00** - 创建子网：IPv4 专用、双栈、纯 IPv6 子网
- **16:30** - IPv4 子网大小支持：/28 到 /16
- **17:00** - IPv6 子网大小支持：/44 到 /64，以 /4 为增量
- **17:30** - 子网绑定到特定可用区
- **18:00** - 每个子网关联路由表，VPC 内默认添加本地路由

### VPC 资源与本地服务 (18:30 - 21:00)
- **18:30** - 在子网中启动资源：EC2 实例、RDS、负载均衡器等
- **19:00** - 每个实例获得弹性网络接口（ENI）和来自子网的 IP 地址
- **19:30** - 本地服务介绍：EC2 实例元数据服务、Amazon Time Sync 服务、Route 53 解析器服务
- **20:00** - 这些服务支持 IPv4 和 IPv6 端点
- **20:30** - IPv6 端点需要基于 Nitro 的实例类型

### VPC DNS (21:00 - 22:00)
- **21:00** - 每个 VPC 都配备专用 DNS 解析器
- **21:30** - DNS 解析器位于 VPC CIDR + 2 地址
- **22:00** - 同时支持 IPv6 地址空间

### 网络安全基础 (22:00 - 25:00)
- **22:00** - 网络访问控制列表（NACL）：无状态，子网级别，支持允许和拒绝规则
- **22:30** - 安全组：有状态，ENI/实例级别的防火墙
- **23:00** - 安全组仅支持允许规则
- **23:30** - 安全组的有状态特性：出站流量被允许时，入站响应自动允许
- **24:00** - 介绍 DNS64：为纯 IPv6 子网提供向后兼容性
- **24:30** - DNS64 工作原理：将 IPv4 地址合成为十六进制格式的 IPv6 地址（使用知名前缀 64:FF9B::/96）

### 互联网连接 - 公有子网 (25:00 - 28:00)
- **25:00** - 公有子网定义：路由表指向互联网网关
- **25:30** - 创建互联网网关并关联到 VPC
- **26:00** - 互联网网关执行 IPv4 NAT 转换（私有 IPv4 到公有/弹性 IP）
- **26:30** - 添加 IPv4 默认路由（0.0.0.0/0）到路由表
- **27:00** - 双栈子网：添加 IPv6 默认路由（::/0）
- **27:30** - 互联网网关同时支持 IPv4 和 IPv6 流量

### 互联网连接 - 纯 IPv6 公有子网 (28:00 - 30:30)
- **28:00** - 纯 IPv6 子网通过互联网网关访问 IPv6 目标
- **28:30** - 创建 NAT 网关用于 IPv4 连接
- **29:00** - NAT 网关提供网络地址转换服务
- **29:30** - 启用 DNS64，使用知名前缀 64:FF9B::/96 指向 NAT 网关
- **30:00** - NAT 网关自动识别并执行 NAT64 转换（IPv6 到 IPv4）
- **30:30** - 现有 NAT 网关无需重新创建即可支持此功能；最近还推出了区域级 NAT 网关

### 互联网连接 - 私有子网 (30:30 - 32:30)
- **30:30** - 私有子网通过公有 NAT 网关和互联网网关访问 IPv4 目标
- **31:00** - 双栈私有子网的 IPv4 流量使用相同路径
- **31:30** - IPv6 流量使用仅出口互联网网关（Egress-only Internet Gateway）
- **32:00** - 仅出口互联网网关允许从 VPC 发起到 IPv6 目标的出站连接
- **32:30** - 纯 IPv6 私有子网结合使用仅出口互联网网关和 NAT 网关（通过知名前缀）实现向后兼容

### VPC 公共访问阻止 (32:30 - 34:00)
- **32:30** - Amazon VPC 阻止公共访问（Block Public Access）功能
- **33:00** - 两种模式：双向模式（阻止入站和出站）和仅入站模式
- **33:30** - 可在 AWS 账户、组织或 OU 级别应用
- **34:00** - 支持创建排除规则，例如用于出口检查

### VPC 共享 (34:00 - 35:30)
- **34:00** - VPC 绑定到 AWS 账户，但可以共享子网
- **34:30** - 使用资源访问管理器（RAM）与不同账户共享子网
- **35:00** - 参与者可以在共享子网中创建资源
- **35:30** - 优势：节省 IPv4 地址空间，实现网络和安全团队的职责分离

### AWS 服务连接 - 网关端点 (35:30 - 37:30)
- **35:30** - 网关端点用于访问 S3 和 DynamoDB
- **36:00** - 支持双栈、纯 IPv4 和纯 IPv6
- **36:30** - 自动在 VPC 路由表中添加服务前缀列表
- **37:00** - 支持 IPv4 和 IPv6 前缀列表
- **37:30** - 通过 AWS 骨干网络提供私有安全连接，无需额外网关

### AWS 服务连接 - 接口端点 (37:30 - 39:00)
- **37:30** - 接口 VPC 端点（也称为 PrivateLink 端点）用于其他 AWS 服务
- **38:00** - 在 VPC 中创建弹性网络接口
- **38:30** - 支持 IPv4、IPv6 和双栈
- **39:00** - 支持超过 170 项 AWS 服务

### VPC 对等连接 (39:00 - 41:30)
- **39:00** - VPC 对等连接：区域内连接两个 VPC 的最简单方式
- **39:30** - 要求：非重叠 CIDR
- **40:00** - 更新 VPC 路由表，指向对等连接 ID
- **40:30** - 新功能：VPC 加密控制
- **41:00** - 两种模式：监控模式和强制模式
- **41:30** - 监控模式：使用 VPC 流日志查看未加密流量的资源；强制模式：强制服务和资源加密流量

### VPC 加密控制 (41:30 - 43:00)
- **41:30** - 在 VPC 上创建并强制加密
- **42:00** - 通过 VPC 对等连接在两个基于 Nitro 的实例之间加密流量
- **42:30** - VPC 对等连接也支持跨区域
- **43:00** - 跨区域对等连接工作方式相同

### Transit Gateway (43:00 - 45:30)
- **43:00** - Transit Gateway：第三层虚拟路由器服务
- **43:30** - 支持连接多个 VPC，提供传递路由
- **44:00** - 定义 VPC 路由表，将 Transit Gateway 作为下一跳
- **44:30** - 支持 IPv4 和 IPv6 流量
- **45:00** - 支持同区域或跨区域对等
- **45:30** - 跨区域对等仅支持静态路由

### AWS Cloud WAN (45:30 - 48:00)
- **45:30** - 解决静态路由的挑战：添加新区域或 VPC 需要手动更新所有路由
- **46:00** - AWS Cloud WAN：构建全球广域网连接
- **46:30** - 示例：三区域部署
- **47:00** - 使用 JSON 策略文档管理网络
- **47:30** - 创建由 AWS 管理的 Transit Gateway
- **48:00** - 支持跨网络的动态路由

### Cloud WAN 分段 (48:00 - 49:30)
- **48:00** - 分段概念：类似于 VRF（虚拟路由转发）
- **48:30** - 支持全局或区域分段
- **49:00** - 连接到同一分段的 VPC 可以通信
- **49:30** - 可以通过设置标志阻止通信

### Cloud WAN 策略与路由 (49:30 - 51:00)
- **49:30** - VPC 通过策略附加到 Cloud WAN
- **50:00** - 基于标签自动关联到特定分段
- **50:30** - 分段路由共享
- **51:00** - 通过策略控制路由共享

### 混合连接 - AWS Direct Connect (51:00 - 54:30)
- **51:00** - AWS Direct Connect：从企业数据中心到 AWS 的私有专用连接，绕过互联网
- **51:30** - 连接到 AWS Direct Connect 位置
- **52:00** - 支持专用连接或托管连接，多种速度选项
- **52:30** - 在 Direct Connect 位置有 AWS 路由器
- **53:00** - 可以使用自己的路由器或与合作伙伴合作
- **53:30** - 通过交叉连接扩展到企业网络
- **54:00** - 物理连接建立后，使用虚拟接口创建逻辑连接
- **54:30** - 公有虚拟接口：访问公有服务，建立 eBGP 会话，支持 IPv4 和 IPv6

### Direct Connect Gateway (54:30 - 56:30)
- **54:30** - 使用 Direct Connect Gateway 和虚拟私有网关连接到 VPC
- **55:00** - Direct Connect Gateway 是全局构造，高可用、高冗余
- **55:30** - 支持连接到不同区域的多个 VPC
- **56:00** - 允许前缀（Allowed Prefixes）概念：广播连接的 VPC 前缀到本地
- **56:30** - 支持通过 Direct Connect Gateway 连接 Transit Gateway

### Direct Connect 与 Cloud WAN (56:30 - 57:00)
- **56:30** - Cloud WAN 也支持通过 Transit VIF 与 Direct Connect Gateway 互连
- **57:00** - 提供与 Direct Connect 的集成

### 站点到站点 VPN (57:00 - 59:30)
- **57:00** - 站点到站点 VPN：从企业数据中心到 AWS 的 IPsec 加密隧道
- **57:30** - 在 AWS 端终止于虚拟私有网关
- **58:00** - 创建两条隧道，每条 1.25 Gbps
- **58:30** - 任何时候只有一条隧道处于活动状态
- **59:00** - 不支持 ECMP（等价多路径）
- **59:30** - 支持静态和动态路由

### VPN 与 Transit Gateway (59:30 - 61:00)
- **59:30** - 在 Transit Gateway 上终止 VPN 连接以连接多个 VPC
- **60:00** - 额外优势：支持 IPv6
- **60:30** - 最近宣布支持更大带宽隧道：每条隧道最高 5 Gbps
- **61:00** - 支持 ECMP

### VPN 与 Cloud WAN (61:00 - 61:30)
- **61:00** - Cloud WAN 也支持多个 VPN 连接
- **61:30** - 支持 ECMP 和其他功能

### SD-WAN 集成 (61:30 - 63:30)
- **61:30** - 将 SD-WAN 设备与 Transit Gateway 或 Cloud WAN 集成
- **62:00** - VPC 连接到 Transit Gateway 或 Cloud WAN
- **62:30** - 在 VPC 中部署 SD-WAN 设备
- **63:00** - 使用 VPC 附件作为底层，创建 GRE 隧道
- **63:30** - SD-WAN 设备与 Transit Gateway 或 Cloud WAN 交换 BGP 前缀

### Cloud WAN 无隧道连接 (63:30 - 64:00)
- **63:30** - 如果不想管理隧道并希望获得全带宽
- **64:00** - Cloud WAN 支持无隧道连接

### 弹性负载均衡 - Application Load Balancer (64:00 - 66:00)
- **64:00** - Application Load Balancer（ALB）：第七层负载均衡器
- **64:30** - 对 HTTP 和 HTTPS 流量进行负载均衡
- **65:00** - 支持高级请求路由：基于路径、基于主机、查询字符串等
- **65:30** - 最近宣布支持标头修改功能
- **66:00** - 在将流量发送到目标之前修改标头

### 弹性负载均衡 - Network Load Balancer (66:00 - 68:00)
- **66:00** - Network Load Balancer（NLB）：第四层负载均衡器
- **66:30** - 支持静态 IP 地址
- **67:00** - 可以使用静态 IP 地址进行防火墙白名单或特定客户端访问
- **67:30** - 支持 TCP、UDP 和 TLS
- **68:00** - 最近宣布支持 QUIC 协议

### Network Load Balancer 目标 (68:00 - 69:00)
- **68:00** - 负载均衡流量到目标
- **68:30** - 支持 IPv4 和 IPv6 目标
- **69:00** - 最近宣布支持加权目标组

### 应用网络概述 (69:00 - 71:00)
- **69:00** - Dave 接手演讲
- **69:30** - 应用网络：关注资源和应用之间的连接，而非网络之间的连接
- **70:00** - 在客户端 VPC 中创建端点
- **70:30** - 配置适合提供方应用的监听器
- **71:00** - 应用对本地 VPC 呈现为原生资源

### 应用网络 - DNS 解析 (71:00 - 72:30)
- **71:00** - 客户端执行 DNS 查询时，获得端点的本地 VPC IP 地址
- **71:30** - 两种服务提供此类连接：AWS PrivateLink 和 Amazon VPC Lattice
- **72:00** - 支持基于身份的访问控制和网络控制（路由表、网络 ACL 等）
- **72:30** - 引入零信任概念

### 零信任架构 (72:30 - 73:30)
- **72:30** - 零信任定义：结合基于身份的控制和网络控制来提高安全态势
- **73:00** - 不完整朗读定义，但强调核心理念
- **73:30** - 两种服务：PrivateLink 和 VPC Lattice

### AWS PrivateLink (73:30 - 76:00)
- **73:30** - PrivateLink 可以访问 AWS 服务和自定义服务
- **74:00** - 自定义服务可用于内部使用或与第三方共享
- **74:30** - 需要 Network Load Balancer
- **75:00** - 根据不同类型定义目标组
- **75:30** - 支持 TCP 或 UDP 监听器类型（UDP 需要 IPv6 目标）
- **76:00** - 使用 VPC 接口端点从客户端访问服务

### PrivateLink 客户端支持 (76:00 - 77:00)
- **76:00** - 客户端可以是 IPv4、IPv6 或双栈
- **76:30** - 支持不同类型之间的通信
- **77:00** - 端点也可以是不同的 IPv4 或 IPv6 类型

### PrivateLink 重叠 CIDR 支持 (77:00 - 78:00)
- **77:00** - 特意强调重叠的 IPv4 CIDR
- **77:30** - PrivateLink 允许在重叠 IPv4 CIDR 的情况下仍然建立连接
- **78:00** - 客户端和服务可以在不同区域和不同账户

### PrivateLink 安全性 (78:00 - 79:30)
- **78:00** - 单向连接：提供方无法向客户端资源发起连接
- **78:30** - 客户端可以连接到资源，但提供方只能响应客户端发起的流量
- **79:00** - 提供方的额外控制：定义服务权限（IAM 策略，指定哪些主体可以访问服务）
- **79:30** - 当有人尝试连接服务时，可以允许或阻止端点创建

### PrivateLink DNS (79:30 - 81:30)
- **79:30** - PrivateLink 为每个服务创建端点特定的 DNS 主机名
- **80:00** - 客户端解析时获得本地 VPC 的 IP 地址
- **80:30** - 可以为端点服务指定自定义 DNS 名称
- **81:00** - 示例：app1.example.com
- **81:30** - 需要验证域名所有权

### PrivateLink 自定义 DNS 验证 (81:30 - 82:30)
- **81:30** - 完成验证后可以使用自定义 DNS 名称
- **82:00** - 客户端查询 app1.example.com 时，解析到 VPC 内的 PrivateLink IP 地址
- **82:30** - 所有这些都需要 Network Load Balancer

### VPC 资源端点 (82:30 - 84:30)
- **82:30** - 某些资源不需要 Network Load Balancer
- **83:00** - 可以使用 VPC 资源端点
- **83:30** - 去年 re:Invent 推出
- **84:00** - 提供相同的安全私有单向连接，无需 Network Load Balancer
- **84:30** - 使用资源网关（Resource Gateway）构造

### 资源配置 (84:30 - 86:00)
- **84:30** - 为每种资源类型定义资源配置
- **85:00** - 支持的类型：FQDN、IP 地址、按 ARN 指定资源
- **85:30** - 目前支持 RDS
- **86:00** - 在客户端 VPC 中创建资源端点以访问这些资源

### VPC 资源端点与 PrivateLink 的区别 (86:00 - 87:30)
- **86:00** - 与 PrivateLink 的区别：这些是区域构造
- **86:30** - 目前不支持跨区域
- **87:00** - 可以使用资源访问管理器跨账户共享资源配置
- **87:30** - 每个资源都有唯一的端点和唯一的 DNS 名称

### 资源端点自定义 DNS (87:30 - 89:00)
- **87:30** - DNS 名称示例显示在屏幕上
- **88:00** - 与 PrivateLink 类似，可以创建自定义域名
- **88:30** - 最近宣布支持此功能
- **89:00** - 示例：resource1.example.com，客户端可以使用并解析到端点

### 资源端点扩展性考虑 (89:00 - 90:30)
- **89:00** - 有多个资源时，添加额外资源或访问额外资源需要为每个资源创建额外端点
- **89:30** - 这实际上是点对点连接
- **90:00** - 适用于小规模或只有少数资源需要访问的情况
- **90:30** - 如果要大规模管理或有大量资源和服务需要连接，应使用 VPC Lattice

### VPC Lattice 概述 (90:30 - 92:30)
- **90:30** - VPC Lattice 可以使用相同的资源配置
- **91:00** - 还可以创建称为"服务"的构造
- **91:30** - 服务是第七层构造
- **92:00** - 类似于之前介绍的 Application Load Balancer
- **92:30** - 第七层：HTTP、HTTPS、TLS

### VPC Lattice 服务配置 (92:30 - 93:00)
- **92:30** - 为服务配置监听器和目标组
- **93:00** - 将服务与称为"服务网络"的构造关联（字幕在此处截断）

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


注： 本摘要基于提供的字幕文本生成，字幕在约 93 分钟处截断，因此后续内容（包括 DNS、流量检测、监控等主题）未包含在本摘