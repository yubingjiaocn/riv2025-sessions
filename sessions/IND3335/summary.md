# AWS re:Invent 2025 会议总结：Amazon Ads 创意 AI 代理

## 会议概述

本次会议由 Amazon Ads 团队的三位专家主讲，包括高级解决方案架构师 Ain Koluri、首席应用科学家 Yashal 和首席工程师 Fabio。会议重点介绍了 Amazon Ads 如何通过创意 AI 代理（Creative Agent）实现广告创作的民主化。

这不是一个简单的文本到图像或文本到视频的模型，而是一个完整的生产级代理系统，运行在 AWS 上并为真实客户提供服务。该系统已在 Amazon Ads 的 Unbox 活动中正式发布，获得了巨大的关注和市场反响。Amazon Ads 每月在美国的平均覆盖人数超过 3 亿，几乎覆盖了整个美国成年人口，仅流媒体电视就有超过 2 亿的覆盖人数。

创意代理系统建立在三大核心支柱之上：卓越的用户体验（支持自然对话和完整的图像视频编辑器）、深度集成（整合所有模型、Amazon 产品数据和其他功能）、以及智能化（使用多个代理代表广告商智能决策和执行）。该系统解决了广告行业的关键痛点，包括规模化内容生成、自动化与控制的平衡、快速上市时间、成本控制、专业技能需求以及内容优化等挑战。

## 详细时间线与关键要点

### 开场介绍 (0:00-2:30)
- **演讲者介绍**：Ain Koluri（AWS 高级解决方案架构师）、Yashal（Amazon Ads 首席应用科学家）、Fabio（Amazon Ads 首席工程师）
- **会议主题**：Amazon Ads 如何通过创意 AI 代理实现广告创作民主化
- **议程预告**：涵盖 Amazon Ads 概述、创意代理深度解析、科学研究、基础设施挑战及实施

### Amazon Ads 平台概述 (2:30-5:45)
- **服务规模**：Amazon Ads 已发展成为全漏斗解决方案，服务各种规模的企业
- **覆盖范围**：美国月均覆盖超过 3 亿用户，几乎覆盖整个美国成年人口
- **流媒体电视**：覆盖超过 2 亿用户
- **服务平台**：Amazon.com、Prime Video、Twitch、Audible、Fire TV、Music 及第三方发布商

### 生成式 AI 功能展示 (5:45-8:20)
- **产品历程**：过去三年推出多种生成式 AI 产品、模型和功能
- **核心功能**：图像生成、音频生成、标题生成、视频生成
- **AI 创意工作室**：允许广告商选择 Amazon 产品或上传自己的图像进行内容创作
- **功能演进**：从两年半前首次推出到持续改进，新增高清化、动画视频、多场景模板视频等功能

### 广告商的核心需求 (8:20-10:15)
- **规模化需求**：每个活动需要生成 10-50 个变体，涵盖圣诞节、黑色星期五、感恩节等多个节日
- **自动化与控制的矛盾**：需要智能自动化，但也要保持品牌指导的控制权
- **上市时间**：市场趋势快速变化，需要快速生成内容
- **成本考虑**：中小广告商无法承担 1-5 万美元的内容制作成本
- **专业技能**：需要技术创作者、内容撰写者等专业人才
- **优化需求**：需要了解哪些颜色、品牌信息能与购物者产生共鸣

### 创意代理演示 (10:15-12:30)
- **使用场景**：用户输入简单查询"为我的最新登山装备创建内容"
- **实时响应**：代理立即响应并展示实时更新
- **概念呈现**：向用户展示视频概念，用户可随时编辑和与代理对话
- **图像生成**：为选定概念生成精美图像，以故事板形式呈现
- **视频动画**：将所有图像动画化为视频，突出产品特点
- **即时可用**：生成的内容可立即在 Amazon 上投放

### 创意代理三大支柱 (12:30-14:00)
- **卓越体验**：用户可自然对话或使用完整的图像视频编辑器
- **深度集成**：整合所有模型、Amazon 产品数据和其他系统功能
- **智能化**：使用多个代理智能决策，代表广告商执行操作

### 技术挑战一：代理与路由 (14:00-18:45)
- **问题**：是将所有内容塞入单一系统提示，还是构建模块化系统？
- **单一提示的局限**：小规模可行，但随着功能增加会失败，模型会忽略指令或自行决策
- **用户查询处理**：不同查询复杂度不同，需要根据需求调整复杂度
- **实时更新平衡**：视频生成需要一分钟，图像生成仅需 3 秒，需要平衡长时间任务和实时更新
- **动态系统设计**：根据每个查询动态选择路径和调用工具

### 代理架构演进 (18:45-23:30)
- **第一步 - 基础代理**：接收用户查询、推理、响应，使用提示缓存和 KV 缓存提升速度
- **第二步 - 工具集成**：代理可以规划、使用工具和子代理执行操作、反思结果、构建循环处理多步骤流程
- **第三步 - 多级路由**：根据查询复杂度快速决策，简单问题立即响应，复杂问题进行深度推理
- **优势**：反应循环处理错误、模块化可重用、优化令牌使用

### 技术挑战二：长时间运行任务 (23:30-28:15)
- **问题场景**：复杂查询可能需要 10-50 个步骤，如何确保所有步骤正确执行？
- **上下文管理**：如何在第 49 步时仍记住第 1 步的内容？
- **并行执行**：基本设计确保所有工具并行调用
- **状态工具**：使用快速非 LLM 的归约器，无需 LLM 即可合并结果
- **子代理架构**：多个子代理并行执行，每个处理多个步骤，减少主代理的上下文负担
- **性能提升**：视频动画速度提升 8 倍，上下文减少 4 倍以上，某些工具操作从 30 秒降至几毫秒

### 技术挑战三：多模态上下文处理 (28:15-32:00)
- **挑战**：对话中包含数百张图像和视频，单个 LLM 无法支持
- **用户交互**：用户可在视频编辑器中编辑，代理需要记住所有 UI 操作
- **解决方案架构**：
  - UI 交互事件处理器：监听并处理所有 UI 事件
  - 媒体处理器：处理用户上传的图像和视频
  - 工件内存：保存处理后的内容
  - 对话内存：保存用户消息
  - 智能选择：根据请求选择相关媒体、UI 事件和对话
- **性能提升**：支持数百轮对话，图像和视频支持量提升 10 倍，成本更低、速度更快、质量更好

### 技术挑战四：评估系统 (32:00-36:30)
- **评估难点**：
  - 模糊性：什么是好的父亲节广告？不同代际有不同偏好
  - 速度需求：每周推出 10 个功能，评估速度需跟上
  - 人工评估矛盾：需要高质量人工评估，但速度太慢
- **解决方案**：
  - 适应性系统：从固定评分标准演进为适应性基准
  - 自动化基准：尽可能使用自动化评估
  - 验证而非依赖：平衡人工评估和速度需求
- **测试代理架构**：
  - 为每个功能或 bug 编写测试代理提示
  - 测试代理与真实代理进行模拟对话
  - 人工评估并优化测试代理提示
  - 测试代理提示成为测试套件的一部分
  - 构建数百个测试代理，模拟不同客户和产品经理关注的方面

### 科学研究关键要点总结 (36:30-38:00)
- **代理架构**：专业化设计，支持并行开发和部署
- **长时间任务**：并行执行，使用状态工具和工作流
- **LLM 使用原则**：虽然 LLM 可以做所有事情，但不应该用于所有事情，可以用代码处理更快的操作
- **多模态上下文**：不需要同时将所有内容传给 LLM，应尽可能卸载并智能选择
- **评估流动性**：评估不能使用固定标准，需要演进并考虑真实客户反馈

### 基础设施与工程挑战 (38:00-42:15)
- **演讲者**：Fabio（Amazon Ads 首席工程师）
- **80/20 法则**：20% 的时间实现 80% 的原型，80% 的时间优化最后 20% 并投入生产
- **核心挑战**：
  - 避免重复工作：每个团队都在构建生成式 AI 工作流
  - 保持领先：跟上行业最新技术
  - 可扩展性和延迟：从原型扩展到数百万用户
  - 拥抱非确定性：随机性是代理的特性，如何管理？

### 五层架构设计 (42:15-45:30)
- **基础设施层**：可跨项目重用的构建块组件
- **模型和服务层**：重用 Amazon 广告生态系统中的每个模型和连接
- **工具层**：创建可跨多个代理重用的工具
- **代理层**：代理、编排器、子代理及所有功能
- **服务层**：广告商看到并交互的界面（广告控制台、AI 创意工作室）
- **技能分布**：科学家更多贡献左侧（模型和代理），工程师更多贡献右侧（基础设施和服务）

### 架构实现细节 (45:30-48:45)
- **客户入口**：通过网站进入，服务网关根据工作流类型分发请求
- **核心组件**：
  - Agent SDK：实现可重用性的主要组件
  - 护栏服务：确保无有害输入或输出
  - 能力运营商：集中管理能力，一次实现全广告可用
- **注册表**：工作流注册表和模型注册表，使组件和工作流易于重用

### Agent SDK 工作原理 (48:45-51:00)
- **简单设计**：创建代理描述，导入子代理
- **子代理**：使用相同 SDK 导入工具系列
- **工具**：拥有自己的能力
- **能力**：客户端（Bedrock 客户端、SageMaker 客户端等）
- **结果**：能够在更短时间内构建复杂代理，底层能力越多，构建速度越快

### 基础功能模块 (51:00-53:30)
- **日志和监控**：标准化所有工作流的日志，在非确定性系统中至关重要
- **安全性**：集中化安全，安全团队专注于基础设施的一个部分
- **缓存**：开箱即用的提示缓存和资产存储缓存
- **检查点**：允许从 Lambda 或计算失败中恢复
- **状态管理**：跨天、月甚至永久保持对话
- **时间旅行**：理解对话中发生的事情并从之前的步骤恢复
- **分叉对话**：AB 测试不同场景，改进工具或提示
- **SDK 集成**：所有这些功能都内置在 SDK 中，新代理自动受益

### 能力运营商 (53:30-55:15)
- **功能**：使工具和能力对所有人可用
- **工作原理**：团队注册的每个能力流入此组件，编排和路由流量
- **简化使用**：团队只需知道能力 ID 或名称即可连接
- **第三方能力**：安全团队专注于此部分，所有团队无需重复工作

### 责任 AI (RAI) 挑战 (55:15-结束)
- **多模态**：需要在文本、图像、视频和音频上实现安全性
- **类别多样性**：不同类别需要不同的护栏
- **规模和延迟一致性**：审查视频通常需要很长时间，如何不破坏用户体验？

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


注：本总结基于会议字幕转录，涵盖了 Amazon Ads 创意 AI 代理的技术架构、科学研究方法和工程实施细节，展示了如何在 AWS 上构建和运行大规模生产级代理系统。