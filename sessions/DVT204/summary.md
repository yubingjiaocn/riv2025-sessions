# AWS re:Invent 2025 全栈应用开发新特性总结

## 会议概述

本次会议由来自柏林的两位全栈开发背景的演讲者 Mark 和 Si 主讲，主题聚焦于 AWS Amplify 在全栈应用开发领域的最新进展。会议深入探讨了生成式 AI 如何改变全栈开发工作流程，以及 AWS 如何通过 Amplify 框架和模型上下文协议（MCP）来提升开发效率和代码质量。

演讲者坦诚地指出，虽然生成式 AI 工具能够显著提高开发速度，但它本质上是"地球上最快的键盘"而非万能解决方案。开发者仍需要明确的意图和目标，并且必须仔细审查 AI 生成的代码。会议强调了一个关键问题：如何将 AI 生成代码的生产就绪率从 10% 提升到 90%。AWS 的解决方案是通过 Amplify 框架提供经过实战检验的组件，并通过 AWS MCP 服务器为 AI 工具提供必要的上下文信息，使其能够遵循最佳实践生成更可靠的代码。

会议还展示了 Amplify 在 2025 年发布的 31 个主要功能更新，涵盖安全性、存储、认证等多个方面。通过现场编码演示，Si 展示了如何使用 AI 辅助工具结合 Amplify 和 MCP 快速构建包含实时功能、文件上传、多因素认证等企业级特性的全栈应用。

## 详细时间线与关键要点

### 开场与背景介绍 (0:00 - 3:30)
- **0:00** - Mark 和 Si 介绍自己，两人均来自柏林，具有全栈开发背景
- **0:45** - 会议议程预告：全栈开发新特性、生成式 AI 的诚实评估、现场编码演示
- **1:15** - 现场调查：大多数参会者是全栈开发者，部分使用 AI 工具，但没有人直接提交 AI 生成的代码而不审查

### 全栈开发的挑战 (3:30 - 7:00)
- **3:30** - 定义全栈开发者：处理整个技术栈（前端、后端、数据库）的开发者
- **4:15** - 全栈开发的优势：速度快、拥有完整控制权、能够独立实现想法
- **5:00** - 全栈开发的复杂性：需要处理托管、CDN、DNS、基础设施即代码、API 网关、计算、数据库、存储、认证等
- **6:00** - 生成式 AI 的双刃剑：提高了生产力，但"更快不一定更好"

### 生成式 AI 的现实评估 (7:00 - 11:30)
- **7:00** - 生成式 AI 的本质：最快的键盘，但缺乏意图和目标
- **7:45** - AI 生成代码的问题：自信地生成大量代码，但不一定遵循最佳实践或安全标准
- **8:30** - 框架的重要性：就像过去 20 年处理复杂集成项目需要框架一样，AI 时代同样需要框架指导
- **9:15** - Amplify 框架的特点：全面的服务覆盖、全球托管、TypeScript 支持、CI/CD 管道、沙箱环境、UI 组件
- **10:30** - Amplify 的优势：7 年历史，数十万应用使用，组件经过实战检验

### Amplify 2025 年新功能 (11:30 - 16:00)
- **11:30** - 2025 年发布了 31 个主要功能，几乎每月都有多次部署
- **12:00** - CDK 集成：CDK 工具包库允许使用 L2 和 L3 构造，内置 AWS 最佳实践
- **13:00** - Storage Browser：微型站点组件，用于管理 S3 文件，支持多文件下载、缩略图、自定义验证、权限控制
- **14:00** - 安全功能：Web 应用防火墙集成、PESKY 支持、刷新令牌轮换、电子邮件 MFA
- **15:00** - Svelte 支持：由社区贡献，展示了 Amplify 作为开源项目的活力

### 生成式 AI 与 Amplify 的集成挑战 (16:00 - 21:00)
- **16:00** - 使用 AI 工具（如 Cursor）的常见问题：建议方向正确但不完全匹配意图
- **17:00** - "末日提示"（Doom Prompting）现象：反复迭代提示仍无法获得理想结果
- **18:00** - 上下文缺失问题：AI 不了解项目历史、团队讨论或最近的开发决策
- **19:00** - 第一性原理：AI 应该使用现有库和框架，而不是重新发明轮子
- **20:00** - Stack Overflow 调查：84% 的开发者日常使用或计划使用生成式 AI

### 模型上下文协议 (MCP) (21:00 - 25:00)
- **21:00** - MCP 的作用：为 AI 提供必要的上下文信息，使其能够做出正确决策
- **22:00** - AWS MCP 服务器：整合 AWS 文档、最佳实践、博客文章等资源
- **23:00** - 标准操作程序（SOPs）：预定义的工作流程，确保遵循最佳实践
- **24:00** - 问题陈述：通用 AI 工具只有 10% 的情况能生成生产就绪代码
- **24:45** - 解决方案：通过 MCP 将生产就绪率提升到 90%

### Si 的演示介绍 (25:00 - 30:00)
- **25:00** - Si 接手演示，介绍从理论到实践的转变
- **26:00** - AWS 提供的 MCP 选项：Knowledge MCP、API MCP、Frontend MCP、IaC MCP、Serverless MCP
- **27:00** - Kiro 发布：7 月中旬发布的代理式 IDE，支持规范驱动开发
- **28:00** - AWS MCP 的统一：整合多个 MCP 服务器，提供 30 多个预定义程序
- **29:00** - 目标：将成功率从 10% 提升到 90%，自动应用最佳实践，提供最新信息

### Amplify SOPs 介绍 (30:00 - 33:00)
- **30:00** - Amplify 的三个主要 SOPs：前端 MCP、后端 MCP、部署管道 MCP
- **31:00** - 前端 MCP：使用 Amplify 前端库连接后端
- **31:30** - 后端 MCP：处理复杂的数据操作，AI 可以学习文档或直接实现
- **32:00** - Amplify Hosting：简化前端部署，无需直接操作 CloudFront 和 S3

### 演示应用介绍 (33:00 - 38:00)
- **33:00** - 演示两个应用：Amplify 2025 功能展示应用和 re:Invent 地图会面应用
- **34:00** - 地图会面应用概念：允许用户分享临时位置，方便在 re:Invent 期间交流
- **35:00** - 启动 React 应用：npm run dev，端口 8081
- **36:00** - 应用功能预览：登录/注册流程、地图标记、服务选择、图片上传
- **37:00** - 演示目标：将模拟数据转换为真实数据，展示实时文件上传和认证

### 提示工程最佳实践 (38:00 - 42:00)
- **38:00** - 提示准备：强调不要使用单一大型提示
- **38:30** - 最佳实践：将提示拆分为多个小提示，像对待孩子一样明确告诉 AI 需要做什么
- **39:00** - 提示内容：使用 Amplify Gen 2 和 AWS MCP 服务器
- **40:00** - 详细要求：应用概述、后端需求、Lambda 触发器、电子邮件确认等
- **41:00** - 编号重要性：使用编号让 AI 知道优先级
- **41:30** - 添加最终要求：确保移除模拟数据并使用真实数据

### AI 代理工作流程 (42:00 - 46:00)
- **42:00** - 启动会话，AI 开始分析应用结构
- **43:00** - Steering Files：为 AI 提供应用信息，避免读取每个文件
- **44:00** - SOP 调用：AI 调用 Amplify 后端实现 SOP
- **44:30** - 多个 MCP 调用：前端库 MCP、部署 MCP、AWS CLI 调用
- **45:00** - MCP 服务器解释：像通用总线一样为 AI 提供信息的高效方式
- **45:45** - MCP 的局限性：不应用于敏感数据，主要用于扩展知识

### Amplify 应用初始化 (46:00 - 50:00)
- **46:00** - 初始化命令：npm create amplify
- **47:00** - 核心文件：amplify/backend.ts 保存基础设施信息
- **48:00** - 人类可读配置：添加存储、认证等服务
- **49:00** - 认证配置示例：电子邮件认证、多因素认证、电话号码要求
- **49:30** - 存储配置：S3 桶命名、公共/受保护/私有规则

### 认证功能演示 (50:00 - 55:00)
- **50:00** - 应用功能展示：Web 存储、电子邮件 MFA、Web 认证
- **51:00** - Passkey 演示：通过生物识别进行认证（面部识别、指纹等）
- **52:00** - Authenticator 组件：现成的 UI 组件，包含登录和创建账户功能
- **53:00** - 创建账户流程：输入电子邮件，接收确认码
- **54:00** - Passkey 注册：调用库函数直接注册 Passkey
- **54:45** - Passkey 登录演示：使用生物识别快速登录

### Storage Browser 演示 (55:00 - 58:00)
- **55:00** - Storage Browser 介绍：即插即用组件，无需额外配置即可使用 S3
- **56:00** - 上传功能：拖放图片上传
- **56:30** - 文件管理：显示、下载、删除操作
- **57:00** - 一行代码实现：所有功能通过 Amplify 方式实现
- **57:30** - amplify_outputs.json：保存所有配置信息，在组件间共享

### 多因素认证演示 (58:00 - 60:00)
- **58:00** - MFA 功能：去年发布，支持 Google Authenticator 等应用
- **58:30** - 启用 MFA：一键或一次 API 调用即可启用
- **59:00** - MFA 登录流程：登录后要求输入确认码
- **59:30** - 接收确认码：通过电子邮件接收并输入
- **60:00** - 实现方式：调用前端库 + 在认证配置中添加 MFA 设置

### 代码审查与总结 (60:00 - 结束)
- **60:00** - 检查 AI 生成的代码进度
- **60:30** - Storage Browser 代码审查：展示如何使用 UI 组件
- **61:00** - 演示继续进行中...