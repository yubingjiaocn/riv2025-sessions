# AWS re:Invent 2025 - MCP 服务器技术分享会总结

## 会议概述

本次技术分享会由 AWS 的两位首席架构师 Paul Vincent 和 Lethal Sedun 主讲,主题是"AWS MCP 服务器的意外之旅"。这是一场 400 级别的深度技术讲座,重点介绍了 AWS 开源的 Model Context Protocol (MCP) 服务器项目的设计理念、架构选择和实际应用。

该项目已经取得了显著的成果:GitHub 上获得超过 7,400 个星标,拥有 60 多个专业化的 MCP 服务器,下载量达到数百万次。社区反馈非常积极,开发者表示这些 MCP 服务器让 AWS 云开发变得更加直观和高效,就像"云开发本该有的感觉"。

MCP 服务器的核心价值在于为 AI 编码助手注入"AWS 专业知识",使其能够深入理解 AWS 服务、CDK、Terraform 等技术栈,从而大幅提升开发效率。演讲者团队原本需要 6-8 周完成的原型项目,现在只需 5 天即可完成。

## 详细时间线与关键要点

### 00:00 - 开场与致谢
- 两位 AWS 首席架构师介绍自己和会议议程
- 感谢社区对 MCP 项目的支持和贡献
- 展示项目成果:7,400+ GitHub 星标,60+ 专业化服务器,数百万下载量

### 02:30 - 社区反馈亮点
- 引用开发者 Robert Weston 的评价:"这不是完全的 AWS 自动化,而是在你真正卡住的地方帮助你...这就是云开发应该有的感觉"
- 强调 MCP 服务器让 AI 助手"知道"如何在 AWS 上构建应用

### 04:00 - 项目起源故事
- 团队背景:原型云工程团队,为客户构建 6-8 周的快速原型
- 痛点:在代码生成时代,AI 助手能生成代码但不理解 AWS 的工作方式
- 目标:让 AI 模型像《黑客帝国》中 Neo 学习功夫一样,瞬间掌握 AWS 知识

### 06:30 - MCP 协议简介
- MCP 是连接 AI 模型和外部系统的开放标准
- 类比为"模型的 HDMI 接口"或"USB 接口",实现即插即用
- 解决了之前需要为不同 API 定制不同连接方式的问题

### 08:00 - 三大服务器类别
1. 文档与知识类:AWS Knowledge Server,直接访问 AWS 文档
2. 工作负载专业化类:针对 EKS、Serverless 等特定服务的服务器
3. 开发者专业化类:CDK、Terraform、定价、图表生成、前端开发等

### 10:30 - 实时演示:业余无线电日志系统
- 展示使用 MCP 服务器自动生成架构图
- 演示 MCP Core 服务器的动态绑定功能
- 通过角色配置(如"解决方案架构师")自动加载相关 MCP 工具

### 13:00 - 架构图生成演示
- MCP 图表服务器自动分析代码并生成可视化架构图
- 准确识别多代理系统、API 集成、数据库等组件
- 无需手动绘制,完全自动化

### 15:00 - 成本估算演示
- 演示如何使用定价 MCP 服务器估算应用运行成本
- 输入场景:10,000 用户的运行成本
- 自动调用多个 AWS 定价 API,生成详细成本报告
- 支持多场景建模(10,000、100,000、1,000,000 用户)

### 18:00 - 开发生命周期集成
- **探索与规划阶段**:快速原型开发和实验
- **创建阶段**:使用 MCP 服务器深度集成 AWS 知识
- **测试与安全阶段**:Well-Architected 审查、测试用例生成
- **审查与部署阶段**:使用 CDK/Terraform MCP 服务器部署
- **运维阶段**:日志监控、故障排查、配置修复

### 20:30 - MCP 服务器设计原则(400 级深度内容)

#### 原则一:多服务器分离策略
- 60+ 服务器而非单一巨型服务器
- 用户可控的工具和上下文隔离
- 支持按需组合和重组服务器
- 示例:只做 Terraform + Agent Core 时,只需加载这两个服务器

#### 原则二:基于角色的可组合性
- MCP Core 服务器实现动态绑定
- 通过环境变量配置角色(如"解决方案架构师")
- 自动加载该角色所需的所有 MCP 服务器
- 简化配置管理,只需在 MCP.json 中配置一个 Core 服务器

#### 原则三:避免一对一 API 包装
- **反模式**:为每个 API 方法创建单独的 MCP 工具(如 describe_ec2_instance、delete_ec2_instance)
- **推荐做法**:工具应组合多个 API 调用,甚至跨多个服务
- 工具应该是工作流而非单一 API 调用
- 示例:AWS API MCP 服务器用一个工具覆盖所有 AWS API,通过参数驱动

### 28:00 - Core 服务器代码演练
- 使用 Fast MCP(Anthropic MCP SDK 的 Python 分支)
- 展示如何代理其他 MCP 服务器
- 环境变量配置示例:在 MCP.json 中设置角色
- 条件绑定逻辑:根据角色匹配导入相应服务器
- 工具名称添加前缀以标识来源

### 32:00 - 认证与权限管理
- 使用 AWS Profile 控制不同 MCP 服务器的权限
- 支持跨账户访问(如 Nova Canvas 在专用账户中)
- 遵循 Boto3 凭证链:环境变量 → credentials 文件 → config 文件
- 建议为每个 MCP 服务器配置独立 Profile

### 35:00 - 计费与成本管理(BCM)服务器深度解析
- 涵盖成本异常调查、多账户管理、成本分配标签
- 整合约 12 个 AWS 服务(Cost Explorer、Cost and Usage Reports 等)
- 支持成本优化建议(Savings Plans、Spot Instances)
- 演示如何通过一个 MCP 服务器完成复杂的 FinOps 工作流

### 38:00 - 定价计算器对比
- 观众调查:所有人都用过 AWS 简单月度计算器
- MCP 定价服务器的优势:直接分析基础设施代码,自动生成估算
- 内置智能假设提示(如 Bedrock 调用频率、Lambda 执行次数)
- 比手动使用计算器更高效准确

### 40:00 - 实际应用价值
- 将 6-8 周的原型开发周期缩短至 5 天
- 让后端开发者能够编写高质量前端代码
- 实现 CDK 到 Terraform 的即时转换
- 部署前即可获得准确的成本估算

### 42:00 - 开源贡献与社区参与
- 项目完全开源,欢迎社区贡献
- 可以提交新的角色配置建议
- AWS 服务团队也在贡献专业化 MCP 服务器
- 社区构建者和英雄撰写了大量使用教程

### 45:00 - 技术实现细节
- 所有服务器基于 Standard IO 本地运行
- 由 AI 助手(如 Kiro、Cursor)作为子进程启动
- Knowledge Server 是唯一远程运行的服务器
- 使用 Fast MCP 的代理功能实现服务器组合

### 48:00 - 最佳实践建议
- 为不同项目配置不同的角色组合
- 使用 AWS Profile 隔离权限和账户
- 避免加载不需要的 MCP 服务器以减少上下文噪音
- 工具设计应面向工作流而非单一 API

### 50:00 - 未来展望与问答准备
- 持续评估服务器数量是否合适
- 新兴标准和最佳实践仍在演进
- 鼓励开发者在企业内部构建自定义 MCP 服务器
- 将内部知识和流程注入 AI 助手

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


资源链接:
- GitHub 仓库和社区文章的 QR 码在演示中多次展示
- 建议会后立即尝试 MCP 服务器,体验开发效率提升
- 即使不使用 AWS MCP 服务器,也推荐尝试其他 MCP 工具(如 Context7)