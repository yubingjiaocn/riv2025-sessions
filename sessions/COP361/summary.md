# AWS re:Invent 2025 COP361 会议总结

## 会议概述

本次会议由AWS CloudWatch团队的首席产品经理Nikil Kapoor主持,工程总监Avin Jami和S&P Global的云解决方案工程总监Chandra共同参与。会议重点介绍了CloudWatch在统一安全和可观测性数据方面的新功能发布,旨在解决企业在处理大规模日志数据时面临的复杂性和成本挑战。

会议首先阐述了大型企业在安全分析和可观测性方面面临的共同挑战:不同团队(安全团队、可观测性团队、审计合规团队)使用各自专用的工具和数据存储,导致数据碎片化、运维开销巨大、跨团队协作困难以及成本高昂。这些问题的根源在于底层数据存储层的分散,尽管各团队使用的日志源(如AWS服务日志、CloudTrail、应用日志等)基本相同,但需要通过复杂的ETL管道将数据复制到多个不同的存储位置。

为解决这些痛点,AWS推出了CloudWatch统一存储解决方案,通过在数据收集、数据整理、灵活存储和强大分析四个层面的增强功能,帮助客户建立统一的日志数据存储。S&P Global作为早期采用者分享了他们的实践经验,通过采用新方案简化了架构设计,预计可实现20-25%的成本降低,同时满足了法务合规、安全团队和业务部门的多样化需求。

## 详细时间线与关键要点

### 开场介绍 (00:00 - 02:30)
- **00:00** - Nikil Kapoor介绍会议主题COP361,聚焦CloudWatch在统一安全和可观测性数据方面的新发布
- **00:30** - 介绍演讲嘉宾:Avin Jami(CloudWatch工程总监)和Chandra(S&P Global云解决方案工程总监)
- **01:00** - 会议议程概览:挑战回顾、解决方案介绍、S&P Global案例分享、关键要点总结

### 企业面临的挑战 (02:30 - 06:45)
- **02:30** - 现场调查:大多数与会者所在组织都有独立的安全团队、可观测性团队和审计合规团队
- **03:00** - 典型组织架构:各团队使用专用工具处理各自的职责范围
- **03:45** - 核心问题一:跨域问题发生时,团队间需要人工沟通协调,导致响应缓慢
- **04:15** - 核心问题二:工具提供的洞察是孤立的,无法跨域关联分析(例如:安全团队看到防火墙拒绝流量,应用团队看到流量激增,但双方无法快速识别这是DDoS攻击)
- **05:00** - 核心问题三:底层数据源高度重复,同样的日志(CloudTrail、VPC Flow Logs等)被复制到多个存储位置
- **05:45** - 管理这些复杂的数据管道成为运维噩梦,每次新增工作负载或区域都需要重复配置

### CloudWatch统一存储解决方案 (06:45 - 15:30)
- **06:45** - Avin Jami介绍解决方案设计理念:在数据存储层模糊安全、可观测性和审计之间的界限
- **07:30** - 构建统一存储的四个关键步骤:数据收集、数据整理、灵活存储、强大分析
- **08:00** - 数据收集层增强:
  - 新增支持30个AWS服务(包括网络负载均衡器、CloudFront、Bedrock Agent等)
  - 通过托管连接器支持第三方日志源(首批包括CrowdStrike、Okta等10个源)
  - 组织级别日志启用支持(CloudTrail、VPC、NLB等)
- **09:15** - 数据整理层增强:
  - 开箱即用的OCSF和OTel数据转换器
  - 支持Grok处理器进行自定义解析和字段级操作
  - 自动识别并传递源和类型信息,支持应用级别操作
- **10:30** - 存储层增强:
  - 跨账户跨区域集中化功能,通过规则自动聚合日志
  - 支持为集中存储和源存储设置不同的保留期和转换规则
  - 可为不同用例创建数据的不同版本
- **11:45** - 分析层增强:
  - S3 Tables集成,支持任何Apache Iceberg兼容的分析引擎
  - Facets功能:提供开箱即用的字段值分布,无需编写查询即可开始深度分析
  - 支持通过点击facets逐步细化分析,页面自动刷新
- **13:00** - 功能总结:通过在收集、整理、存储和分析四个层面的增强,将CloudWatch重新设计为灵活的统一存储

### S&P Global案例分享 (15:30 - 23:00)
- **15:30** - Chandra介绍S&P Global:成立于1800年,全球领先的金融市场基准、数据和解决方案提供商
- **16:00** - 公司规模:约40,000名员工,50个全球办公室,10个数据中心
- **16:30** - 云规模:跨多个战略AWS区域部署,拥有大量账户、VPC和云资源,产生海量日志数据
- **17:00** - 利益相关方需求:
  - 法务合规团队:需要在专用日志归档账户中保存未经修改的原始日志
  - 安全团队:需要在独立的安全工具账户中保存经过整理的日志
  - 业务部门:需要在本地账户中访问日志进行故障排查
  - 安全运营团队:需要用于威胁情报和事件响应的日志
  - SIEM优化:由于使用第三方SIEM,需要精心筛选和整理数据以控制成本
- **18:30** - 原有架构的复杂性:需要管理多个云订阅、多个S3存储桶,以及复杂的数据管道
- **19:30** - 与AWS团队合作简化架构:减少组件数量,采用CloudWatch原生功能,管道维护由AWS负责
- **20:30** - 实施成果:
  - 简化设计并降低成本
  - 实现日志存储、整理和处理的联邦模型
  - 满足所有利益相关方需求
  - 预计实现20-25%的成本降低
- **21:30** - 经验教训:
  1. 有计划地聚合:制定清晰的存储、整理和访问策略,根据用例收集和聚合日志
  2. 满足团队实际需求:将解决方案适配到现有工作流,避免强制推行一刀切的方法
  3. 迭代式推进:从小规模开始,学习后再扩展,降低风险并提高采用率

### 成本模型说明 (23:00 - 27:30)
- **23:00** - Facets功能:在标准日志类中免费提供,不支持低频访问类
- **23:45** - S3 Tables集成:无需额外的复制、存储或表维护费用,包含在CloudWatch定价中,仅按查询的数据扫描量付费
- **24:30** - 日志集中化:
  - 第一个聚合副本免费
  - 第二个副本仅收取5美分的数据传输费用,无额外注入成本
  - 存储费用仍然适用(因为是独立管理的副本)
  - 建议:在中央归档账户保留长期存储,在本地账户降低保留期
- **25:45** - 管道转换和组织级启用:无额外费用,仅支付标准的日志注入和存储费用
- **26:30** - 定价维度说明:CloudWatch有三个基础定价维度(注入、存储、查询数据扫描),这些价格保持不变
- **27:00** - 日志类说明:标准类适用于实时运维故障排查,低频访问类成本为标准类的一半,适用于合规等用例

### 部署模型 (27:30 - 30:45)
- **27:30** - 分布式集中化模型:
  - 日志源发送到本地账户(满足本地团队需求)
  - 自动复制到可观测性中心账户
  - 选择性复制到安全账户
  - 三个团队可独立使用各自工具,无需妥协
- **29:00** - 集中后分发模型(S&P Global采用):
  - 所有日志首先汇聚到一个中央合规账户
  - 作为单一真实来源和分发中心
  - 从中央账户按需分发到其他账户
  - 支持跨区域集中化,提供主备区域选项

### 现场演示 (30:45 - 35:00)
- **30:45** - 演示场景:模拟支付处理公司,跨多个账户和区域运营
- **31:15** - 问题场景:支付失败,需要快速定位问题
- **31:45** - 使用Facets功能:
  - 无需编写查询即可看到字段值分布
  - 发现有通知失败和支付错误
  - 点击错误级别facet查看错误分布
- **32:30** - 逐步细化分析:
  - 通过点击不同facets(如服务级别、区域级别)逐步缩小问题范围
  - 页面自动刷新,无需手动编写复杂查询
  - 快速识别问题发生在特定服务和区域
- **33:30** - 跨域关联分析:
  - 同时查看应用日志和安全日志
  - 发现支付失败与安全事件(如DDoS攻击)的关联
  - 演示如何通过统一存储实现跨团队协作

### 总结与资源 (35:00 - 37:00)
- **35:00** - 核心价值总结:
  - 简化数据管道管理
  - 降低运维开销和成本
  - 加快跨团队洞察和响应速度
  - 保持团队工具选择的灵活性
- **36:00** - 实施建议:
  - 从小规模试点开始
  - 根据实际用例设计聚合策略
  - 利用免费功能降低试错成本
  - 与利益相关方密切合作
- **36:45** - 可用资源和后续步骤指引
- **37:00** - 会议结束,开放问答环节