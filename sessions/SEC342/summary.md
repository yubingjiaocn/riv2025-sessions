# AWS re:Invent 2025 - SEC342: 威胁建模即代码，将威胁声明转换为攻击树

## 会议概述

本次会议由AWS Industries首席安全专家Danny和AWS Security数据科学家Christian Leo共同主讲，重点介绍了威胁建模的自动化解决方案。会议围绕Adam Shostack提出的威胁建模四问框架展开，深入探讨了如何将传统的威胁建模过程转化为可执行的代码工具。

演讲者展示了他们开发的开源工具Threat Forest，该工具能够自动生成威胁声明和攻击树，并将攻击步骤映射到MITRE ATT&CK框架。这一创新解决方案旨在帮助开发者在应用程序设计阶段就能识别和缓解安全威胁，实现"左移"安全策略。会议强调了跨职能团队协作的重要性，以及如何通过自动化工具降低安全审查时间约22-23%。

## 详细时间线与关键要点

### 0:00-5:00 - 开场介绍与威胁建模基础
- Danny介绍自己作为AWS Industries首席安全专家的角色
- Christian介绍其在AWS Security的数据科学背景
- 介绍Adam Shostack的威胁建模四问框架：
  - 我们在构建什么？
  - 可能出现什么问题？
  - 我们要如何应对？
  - 我们做得够好吗？

### 5:00-10:00 - 威胁建模的时机与价值
- 威胁建模在应用程序设计生命周期中的位置
- 早期实施威胁建模的成本效益分析
- 缺陷修复成本随开发阶段推进呈指数级增长
- "左移"安全策略的重要性
- 风险随生产环境接近而增加的现象

### 10:00-15:00 - 威胁建模的业务价值
- 促进业务、开发和安全团队的跨职能协作
- 识别重叠控制措施，如多因素认证(MFA)
- 支持新技术采用，如生成式AI聊天机器人
- AWS Guardian项目中威胁建模减少安全审查时间22-23%
- 威胁建模框架的四个核心组件详解

### 15:00-20:00 - 威胁声明结构化语法
- 威胁声明的标准化语法介绍：
  - 威胁源 + 前提条件 + 威胁行为 + 影响 + 资产目标
- 实际案例：未授权用户通过端口扫描获得应用实例访问权限
- 威胁声明如何支持优先级分析和影响评估
- 从威胁声明到攻击步骤的演进过程

### 20:00-25:00 - 攻击树理论基础
- Bruce Schneier自1999年提出的攻击树概念
- 攻击树作为描述安全威胁的正式方法论
- 从威胁声明到多路径攻击树的转换
- Threat Forest工具的开发背景和目标
- 开源工具的定位和CLI集成方案

### 25:00-30:00 - Threat Forest架构设计
- 两阶段处理流程：攻击树生成和威胁情报对齐
- 多代理架构的技术实现
- 架构理解代理、解析代理和内容提取代理
- DSPY框架的应用和遗传算法优化
- SME专家知识与科学方法的结合

### 30:00-35:00 - 威胁情报对齐技术
- MITRE ATT&CK企业矩阵的预索引图结构
- 嵌入模型在安全领域的专业化需求
- AttackBird专业安全嵌入模型的优势
- 通用嵌入模型与安全专用模型的性能对比
- 本地图引擎的设计和多TTP框架支持

### 35:00-45:00 - 实际演示环节
- Threat Forest CLI工具的完整配置流程
- AWS Bedrock集成和模型选择（Haiku vs Sonnet）
- 连接车辆解决方案的威胁建模实例
- Threat Composer文件的解析和处理
- 11个威胁声明的自动提取（6个高风险，5个中风险）
- 攻击树的可视化生成和交互式分析

### 45:00-50:00 - 代码架构深度解析
- .threatforest文件夹结构和本地图存储
- 嵌入模型的本地化部署策略
- Sentence Transformers库的应用
- 多代理系统的模块化设计
- Strands代理框架的多模态支持
- 文件读取、图像处理和智能搜索功能

### 50:00-54:00 - 总结与未来展望
- 威胁建模框架覆盖范围的完整性分析
- AWS威胁技术目录的即将集成
- 渗透测试用例生成的潜在应用
- 防御性安全运营中心的检测能力评估
- GitHub开源发布和社区反馈收集计划
- 持续更新和研究成果发布的承诺