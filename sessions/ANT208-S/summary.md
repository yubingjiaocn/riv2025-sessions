# AWS re:Invent 2025 会议总结：从 AI Agent 演示到生产环境

## 会议概述

本次会议由 Anthropic 的 Sean Faulner 和 Cal Rub 主讲，探讨了如何将 AI Agent 从演示阶段推进到生产环境这一企业普遍面临的挑战。会议指出，虽然许多企业已经构建了 AI 演示项目，但真正将其部署到生产环境的却寥寥无几。

演讲者分享了 Confluent 和 Anthropic 在与客户合作过程中积累的实践经验，重点介绍了 AI 系统架构的演进历程——从单次提示（single-turn prompts）到工作流（workflows），再到智能代理（agents）。他们强调，随着基础模型能力的快速提升，构建 AI 系统的方式也在不断演变。核心观点是：在 AI 时代，数据管道实际上就是你的软件应用，而"上下文工程"（context engineering）已经取代了传统的"提示工程"（prompt engineering），成为构建生产级 AI 系统的关键。

会议特别强调了企业数据战略的重要性——没有良好的数据战略，就很难有成功的 AI 战略。演讲者通过 Claude Code 等实际产品案例，详细阐述了如何通过优化系统提示、工具设计、数据检索和长期运行优化等方面，实现高效的上下文工程，从而构建可靠的生产级 AI 代理系统。

## 详细时间线与关键要点

开场与背景介绍
- **00:00:00** - 会议开始，Sean Faulner 和 Cal Rub 介绍本次主题：如何将 AI Agent 演示转化为生产应用
- **00:01:00** - 现场调查：大部分听众构建过 AI 演示，但只有少数人成功部署到生产环境
- **00:02:00** - 讨论 AI 技术的爆炸式发展，ChatGPT 发布三周年，整个行业格局已完全改变

AI 模型的演进与特点
- **00:03:30** - 对比两种 AI 模型：传统的专用模型（purpose-built models）vs 基础模型（foundation models）
- **00:04:30** - 专用模型的特点：针对特定任务训练，了解业务数据，但缺乏通用性
- **00:05:30** - 基础模型的特点：通用性强，但缺乏企业特定上下文，需要通过提示时组装（prompt time assembly）提供业务信息
- **00:06:30** - 企业数据挑战：数据分散在数千个数据库、SaaS 应用和 API 中，数据孤岛问题严重

上下文工程的重要性
- **00:07:30** - 强调数据战略的重要性：没有数据战略就没有 AI 战略
- **00:08:00** - Cal Rub 介绍 Anthropic Applied AI 团队的使命：帮助客户在 Claude 上构建优秀产品

Anthropic 的发展历程
- **00:09:00** - 2024 年 1 月，Anthropic 推出 Claude 2.1 模型，具有 20 万 token 的上下文窗口
- **00:09:30** - Claude 3 Opus 发布，成为当时世界上最好的模型之一，使 Anthropic 进入主流视野
- **00:10:00** - Anthropic 的核心信念：模型将快速持续改进，并对社会产生变革性影响

AI 系统架构的三个阶段
- **00:11:00** - 第一阶段：单次提示（Single-turn prompts） - 简单任务如分类产品评论、起草邮件、客服问答
- **00:12:00** - 第二阶段：工作流（Workflows） - 将复杂任务分解为多个提示链，混合确定性逻辑
- **00:13:00** - 工作流的两个问题：只能处理预设的边缘情况；中途出错难以自我纠正
- **00:14:30** - 第三阶段：智能代理（Agents） - 给予 LLM 指令和工具集，让其自主完成开放式任务

代理架构的优势
- **00:15:30** - 代理可以自主调用工具、从错误中恢复、调整执行路径
- **00:16:00** - 工作流适用于狭窄、可重复的任务；代理适用于开放式、复杂的问题
- **00:17:00** - Sean 强调软件架构的范式转变：从编码业务逻辑到通过数据和上下文引导模型

软件开发范式的转变
- **00:18:00** - 传统软件：精确的逻辑和规则；AI 系统：数据管道成为软件应用
- **00:18:30** - 测试方式转变：从单元测试到评估（evals），需要使用真实数据进行概率性测试
- **00:19:30** - 开发迭代转变：从迭代代码到迭代数据

从提示工程到上下文工程
- **00:20:30** - Cal 介绍"提示工程时代"：模型不够智能，需要精心设计提示词
- **00:21:30** - 过去的技巧：使用 XML 标签、调整示例数量、优化系统提示 vs 用户消息
- **00:22:30** - 上下文工程时代：不仅关注提示词，还包括工具、文档、助手消息、工具调用结果等
- **00:23:30** - 上下文工程的核心：管理整个信息环境，优化呈现给代理的 token 配置

上下文窗口的限制与优化
- **00:24:30** - 上下文窗口限制：API 层面限制输入 token 数量，过多文本会导致模型性能下降
- **00:25:30** - 上下文腐化（Context rot）：即使未达到限制，过多无关信息也会降低准确性
- **00:26:00** - Chroma 公司的技术报告详细分析了上下文腐化的不同失败模式
- **00:27:00** - 提示缓存（Prompt caching）：通过缓存固定前缀降低成本和延迟

上下文工程的三个优化目标
- **00:28:00** - 1) 应对上下文窗口限制；2) 减少上下文腐化；3) 利用提示缓存降低成本和延迟
- **00:29:00** - Claude Code 产品中应用了所有这些优化技术

上下文工程的四个关键领域
- **00:30:00** - 系统提示（System prompts）：给代理的指令
- **00:30:30** - 工具设计（Tools）：代理可以执行的操作
- **00:31:00** - 数据检索（Data retrieval）：如何获取业务相关信息
- **00:31:30** - 长期运行优化（Long horizon optimizations）：处理运行数分钟、数小时甚至数天的代理

系统提示的最佳实践
- **00:32:00** - 现代提示技巧：格式（JSON/Markdown/XML）已不再重要，模型已足够智能
- **00:33:00** - Cal 的最佳建议：把提示词给不了解项目的朋友看，如果他们能理解并完成任务，LLM 也能
- **00:34:00** - 常见问题：客户说"Claude 效果不好"，检查提示词后发现指令混乱，修改后立即改善
- **00:35:00** - 案例：客户将 32 页的标准操作程序（SOP）直接复制到提示词中，导致失败

提示词的两种失败模式
- **00:36:00** - 过于具体：包含复杂的 if-else 逻辑、数千 token 的详细指令，会压垮模型
- **00:37:00** - 过于模糊：指令不清晰，连人类都无法理解如何完成任务
- **00:38:00** - 黄金区间（Goldilocks zone）：提供恰当的细节，同时保持开放性，让模型发挥其处理细微差别的能力
- **00:39:00** - 应该告诉模型解决问题的一般方法和不可协商的规则，其他让模型自己决定

工具设计的最佳实践
- **00:40:00** - 工具定义实际上是额外的提示：Anthropic 将工具数组直接放在系统提示顶部
- **00:41:00** - 工具设计原则：简单准确的名称（如"search_customers"而非"XYZ12"）
- **00:41:30** - 详细的工具描述：可以包含使用示例、适用场景和不适用场景
- **00:42:00** - Cal 在开发 Claude Code 时，大部分时间都在调整工具描述而非系统提示

工具设计的常见陷阱
- **00:43:00** - 案例：Claude.ai 同时推出"search_web"和"search_drive"工具
- **00:43:30** - 问题：工具名称和描述过于相似，导致模型混淆使用场景
- **00:44:00** - 模型会在应该搜索网络时搜索 Google Drive，反之亦然
- **00:44:30** - 教训：特别是搜索工具，必须确保名称和描述有明确区分

数据检索范式的转变
- **00:45:00** - 传统方法：**RAG（检索增强生成）** - 在调用 LLM 前预先检索所有可能有用的信息
- **00:46:00** - RAG 的问题：如果检索失败，LLM 无法恢复；给出垃圾数据，模型无能为力
- **00:47:00** - 代理方案：给代理搜索工具，让其自主查询、评估结果、必要时重试
- **00:48:00** - 上下文工程思维：区分预加载信息（指令和工具）vs 按需检索信息（通过工具获取）

Claude Code 的实践案例
- **00:49:00** - Claude Code 使用 claude.mmd 文件：开发者可以添加额外的信息、指令和偏好设置

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


注：本总结基于会议字幕生成，时间戳为近似值。会议在此处字幕截断，完整内容可能包含更多关于长期运行优化和生产部署的最佳实践。