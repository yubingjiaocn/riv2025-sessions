1
00:00:00,270 --> 00:00:01,590
- Today we're gonna cover the topic

2
00:00:01,590 --> 00:00:05,640
of Amazon managing capacity,
EC2 capacity, and availability,

3
00:00:05,640 --> 00:00:07,470
and the trade-offs that come with it.

4
00:00:07,470 --> 00:00:11,070
With me, I got Brian Phillippi.

5
00:00:11,070 --> 00:00:12,480
Brian, would you like
to introduce yourself?

6
00:00:12,480 --> 00:00:13,701
- Sure.

7
00:00:13,701 --> 00:00:14,820
Hi everyone. My name's Brian Phillippi.

8
00:00:14,820 --> 00:00:18,300
I'm a Principal Product Manager at an EC2.

9
00:00:18,300 --> 00:00:21,510
I've been with AWS for
about eight years now.

10
00:00:21,510 --> 00:00:22,410
Fun fact about me.

11
00:00:22,410 --> 00:00:25,710
Today is Cyber Monday, so
don't forget to, you know,

12
00:00:25,710 --> 00:00:28,260
go to Amazon and check out the deals.

13
00:00:28,260 --> 00:00:31,350
But I used to be, when
I first started at AWS,

14
00:00:31,350 --> 00:00:33,840
I used to plan capacity for Cyber Monday.

15
00:00:33,840 --> 00:00:37,770
So I live, eat, sleep
and breathe capacity.

16
00:00:37,770 --> 00:00:40,350
So I'm really excited to be here with you.

17
00:00:40,350 --> 00:00:42,990
- And in my case, I'm
Carlos Manzanedo Rueda.

18
00:00:42,990 --> 00:00:44,670
I'm the lech lead for Compute.

19
00:00:44,670 --> 00:00:46,050
I'm an SA.

20
00:00:46,050 --> 00:00:48,720
I help organizations to
find those trade-offs,

21
00:00:48,720 --> 00:00:50,230
and especially on optimization

22
00:00:51,860 --> 00:00:52,950
and everything that
come with the trade-off

23
00:00:52,950 --> 00:00:54,120
for that optimization,

24
00:00:54,120 --> 00:00:57,180
and obviously capacity and availability,

25
00:00:57,180 --> 00:01:00,000
also together with price
performance and cost

26
00:01:00,000 --> 00:01:04,320
is among top of those things.

27
00:01:04,320 --> 00:01:06,300
Before we start with the agenda,

28
00:01:06,300 --> 00:01:07,920
I would like to cover a couple of things.

29
00:01:07,920 --> 00:01:12,840
First one, please show
hands or raise your hands

30
00:01:12,840 --> 00:01:17,520
if you are part of the
financial operation or FinOps

31
00:01:17,520 --> 00:01:19,800
or have been doing FinOps.

32
00:01:19,800 --> 00:01:22,083
Okay, I was expecting that.

33
00:01:24,194 --> 00:01:26,790
How many of you are coming from
a platform engineering team

34
00:01:26,790 --> 00:01:28,320
or basically manage capacity

35
00:01:28,320 --> 00:01:31,920
as part of either an
organization or a platform team?

36
00:01:31,920 --> 00:01:32,753
Perfect.

37
00:01:32,753 --> 00:01:37,753
So you see, again part of the
audience with you on that one.

38
00:01:37,890 --> 00:01:41,130
And finally, who of you
are application owners

39
00:01:41,130 --> 00:01:42,360
or perhaps developers

40
00:01:42,360 --> 00:01:44,910
and are basically looking at things

41
00:01:44,910 --> 00:01:46,980
as availability and so on?

42
00:01:46,980 --> 00:01:47,910
Awesome.

43
00:01:47,910 --> 00:01:49,230
So you see that more or less

44
00:01:49,230 --> 00:01:51,720
that covers pretty well the audience.

45
00:01:51,720 --> 00:01:53,760
I probably left a few personas,

46
00:01:53,760 --> 00:01:57,120
but I'm sure that you have
to balance those trade-offs

47
00:01:57,120 --> 00:01:58,290
between those things.

48
00:01:58,290 --> 00:02:01,650
And this is what this
talk is gonna be about.

49
00:02:01,650 --> 00:02:03,510
We're gonna cover first
what is the challenge,

50
00:02:03,510 --> 00:02:05,790
and again, with the framing
that we have set up,

51
00:02:05,790 --> 00:02:07,890
you more or less know
what's gonna be about.

52
00:02:07,890 --> 00:02:10,230
We're gonna cover what
are the usage models,

53
00:02:10,230 --> 00:02:12,180
EC2 usage models that will help us

54
00:02:12,180 --> 00:02:14,850
to define for different type of workloads,

55
00:02:14,850 --> 00:02:16,890
what is best for your application,

56
00:02:16,890 --> 00:02:20,430
starting with on-demand,
on-demand capacity reservation,

57
00:02:20,430 --> 00:02:23,430
capacity blocks, spot instances.

58
00:02:23,430 --> 00:02:25,230
And finally, we're gonna
introduce a few things

59
00:02:25,230 --> 00:02:29,400
that have been released
in the last two months

60
00:02:29,400 --> 00:02:33,600
or even in the last week
that are perhaps a bit new.

61
00:02:33,600 --> 00:02:36,030
This is a 300 level session

62
00:02:36,030 --> 00:02:40,080
so there's expected some
level of hands-on proficiency

63
00:02:40,080 --> 00:02:42,330
on the topics that we're gonna cover.

64
00:02:42,330 --> 00:02:46,080
For those of you that
perhaps there's new things

65
00:02:46,080 --> 00:02:47,100
that we're covering,

66
00:02:47,100 --> 00:02:49,230
this is gonna give you the
pointers to do the homework

67
00:02:49,230 --> 00:02:50,820
and learn how you can apply

68
00:02:50,820 --> 00:02:53,910
as part of basically your
day-to-day activities

69
00:02:53,910 --> 00:02:56,410
on that capacity planning,
availability and so on.

70
00:02:58,290 --> 00:03:02,823
We will end with some key takeaways.

71
00:03:04,140 --> 00:03:06,120
And let's start with that challenge first.

72
00:03:06,120 --> 00:03:07,470
We were talking about these trade-offs

73
00:03:07,470 --> 00:03:09,330
and how we apply those trade-offs.

74
00:03:09,330 --> 00:03:12,000
I'm sure that we have heard that,

75
00:03:12,000 --> 00:03:14,310
hey, cloud and capacity infinite.

76
00:03:14,310 --> 00:03:15,900
And we know that there's a reality

77
00:03:15,900 --> 00:03:19,560
and that reality is those physical limits

78
00:03:19,560 --> 00:03:22,380
of how we manage that capacity internally,

79
00:03:22,380 --> 00:03:23,760
which is what we'll cover over here.

80
00:03:23,760 --> 00:03:26,313
And there's a trade-off
that comes with that,

81
00:03:27,330 --> 00:03:29,730
that comes with how much
capacity is available

82
00:03:29,730 --> 00:03:32,280
and therefore what's
gonna be the pricing model

83
00:03:32,280 --> 00:03:34,350
and what's gonna be the
low prices that we can get

84
00:03:34,350 --> 00:03:37,320
with those, how we can
maximize that efficiency.

85
00:03:37,320 --> 00:03:39,213
Just to give you an example,

86
00:03:41,142 --> 00:03:42,942
just to give you an example of that.

87
00:03:44,850 --> 00:03:46,140
You probably have heard

88
00:03:46,140 --> 00:03:49,170
within that balance of Spot instances.

89
00:03:49,170 --> 00:03:50,700
So this is a spark capacity

90
00:03:50,700 --> 00:03:53,040
that we got in our data centers,

91
00:03:53,040 --> 00:03:55,230
availability zones and regions.

92
00:03:55,230 --> 00:03:57,690
And we put those spark capacity

93
00:03:57,690 --> 00:04:00,833
at your use for a step
discount of up to 90%.

94
00:04:02,130 --> 00:04:03,413
But the trade-off

95
00:04:03,413 --> 00:04:06,360
is that those instances
can be interrupted.

96
00:04:06,360 --> 00:04:09,260
So there's a trade-off with
that availability, as you see.

97
00:04:10,200 --> 00:04:13,410
We're gonna be exploring
all those different options

98
00:04:13,410 --> 00:04:16,110
that you got with the
different usage models

99
00:04:16,110 --> 00:04:19,170
so you can understand what
that level of capacity

100
00:04:19,170 --> 00:04:23,430
versus availability
versus utilization goes.

101
00:04:23,430 --> 00:04:26,850
Let's deep dive first
on on-demand instances.

102
00:04:26,850 --> 00:04:29,460
Probably this is the usage model

103
00:04:29,460 --> 00:04:31,060
that you are more familiar with.

104
00:04:32,220 --> 00:04:35,430
On-demand instances are basically key

105
00:04:35,430 --> 00:04:37,500
for your elasticity,

106
00:04:37,500 --> 00:04:40,220
just to get that capacity when you need it

107
00:04:40,220 --> 00:04:41,280
at the point that you need it.

108
00:04:41,280 --> 00:04:44,490
So it simplifies a bit with
the pay-as-you-go model,

109
00:04:44,490 --> 00:04:45,630
when do you need that capacity

110
00:04:45,630 --> 00:04:47,910
and what are you gonna get it.

111
00:04:47,910 --> 00:04:50,820
We got more than a thousand
instance at this point in time.

112
00:04:50,820 --> 00:04:55,080
My recommendation is go and
pick the latest generation

113
00:04:55,080 --> 00:04:56,040
of those instances.

114
00:04:56,040 --> 00:04:58,830
Typically, they will come with
the best price performance

115
00:04:58,830 --> 00:05:02,340
so that way you basically
get selection of instances

116
00:05:02,340 --> 00:05:04,260
that is easier to manage.

117
00:05:04,260 --> 00:05:05,700
And we offer those instances

118
00:05:05,700 --> 00:05:10,250
in more than 120 availability
zones and 38 regions.

119
00:05:12,000 --> 00:05:13,650
We also offer them on local zones

120
00:05:13,650 --> 00:05:17,550
so you can manage also that
capacity and availability

121
00:05:17,550 --> 00:05:20,373
in places where latency
is key for your customers.

122
00:05:21,330 --> 00:05:24,330
Now, the way that we
use on-demand instances

123
00:05:24,330 --> 00:05:27,060
is typically on stateful workloads

124
00:05:27,060 --> 00:05:30,270
that have that scaling
patterns, so cyclical patterns.

125
00:05:30,270 --> 00:05:34,170
Or perhaps you have some time of capacity

126
00:05:34,170 --> 00:05:35,790
that you needed like spurious

127
00:05:35,790 --> 00:05:37,890
or temporary short-term workloads

128
00:05:37,890 --> 00:05:39,600
that you need that capacity.

129
00:05:39,600 --> 00:05:42,990
And for those times where
you are not ready to commit

130
00:05:42,990 --> 00:05:46,320
for a longer term like saving plans

131
00:05:46,320 --> 00:05:48,090
and you like to basically testing

132
00:05:48,090 --> 00:05:49,350
and wait until fingers scale

133
00:05:49,350 --> 00:05:51,900
so you are ready to that commitment,

134
00:05:51,900 --> 00:05:55,020
it's important to understand
how those capacity pools

135
00:05:55,020 --> 00:05:56,820
for on-demand work.

136
00:05:56,820 --> 00:05:57,653
At some point,

137
00:05:57,653 --> 00:06:00,040
when you are selecting a
particular instance type,

138
00:06:00,990 --> 00:06:02,310
that pool can go down

139
00:06:02,310 --> 00:06:06,093
and you may suffer from
insufficient capacity error.

140
00:06:07,230 --> 00:06:08,580
We on the back,

141
00:06:08,580 --> 00:06:11,520
do lots of things to make
sure that doesn't happen

142
00:06:11,520 --> 00:06:13,410
and we present to you that elasticity

143
00:06:13,410 --> 00:06:14,970
that we were talking about.

144
00:06:14,970 --> 00:06:18,990
Behind the scene, we are
definitely doing that forecasting

145
00:06:18,990 --> 00:06:21,840
to get the capacity up front.

146
00:06:21,840 --> 00:06:23,910
We are doing also placement in the regions

147
00:06:23,910 --> 00:06:25,110
where that capacity is needed

148
00:06:25,110 --> 00:06:29,010
and removing the any
bottleneck to rack and stack

149
00:06:29,010 --> 00:06:30,990
as fast as we can.

150
00:06:30,990 --> 00:06:33,510
Behind the scenes, we're doing
things like pool balancing.

151
00:06:33,510 --> 00:06:36,330
For example, where you have an excess

152
00:06:36,330 --> 00:06:39,180
or we have an excess
of 16x large instances

153
00:06:39,180 --> 00:06:42,270
for a particular type of instance.

154
00:06:42,270 --> 00:06:45,420
If at some point there's a need for 4XL

155
00:06:45,420 --> 00:06:47,070
we will split those instances

156
00:06:47,070 --> 00:06:51,210
and we'll create four out
of those 4XL instances.

157
00:06:51,210 --> 00:06:53,520
We'll be creating that supply and demand.

158
00:06:53,520 --> 00:06:56,850
But still, there's gonna
be kind of at some point

159
00:06:56,850 --> 00:06:59,070
if you select only just one instance type

160
00:06:59,070 --> 00:07:01,863
a point where a particular
pool may dry out.

161
00:07:03,840 --> 00:07:05,880
Just to give an intuition
of that capacity,

162
00:07:05,880 --> 00:07:10,833
we just released M8i, so the
new Intel software, Rapid,

163
00:07:11,880 --> 00:07:13,173
about two months ago.

164
00:07:14,370 --> 00:07:18,273
About month ago, we released also the M8a,

165
00:07:19,290 --> 00:07:20,910
the Turin version.

166
00:07:20,910 --> 00:07:23,333
I would recommend you just
taking a look at those.

167
00:07:24,270 --> 00:07:25,103
As you may expect,

168
00:07:25,103 --> 00:07:28,380
even if we are racking and
stacking as fast as we can,

169
00:07:28,380 --> 00:07:29,610
these are new instances

170
00:07:29,610 --> 00:07:31,950
so there's gonna be
less capacity of those.

171
00:07:31,950 --> 00:07:34,500
Even if those are just
preferred instances,

172
00:07:34,500 --> 00:07:36,090
you need to take into consideration

173
00:07:36,090 --> 00:07:38,220
that capacity availability factor

174
00:07:38,220 --> 00:07:40,380
that we were just mentioning.

175
00:07:40,380 --> 00:07:42,894
One way of doing that is being flexible.

176
00:07:42,894 --> 00:07:47,894
And we are at Vegas so let's
use the analogy of a buffet.

177
00:07:48,180 --> 00:07:50,350
You may want to go for the ravioli

178
00:07:51,210 --> 00:07:53,250
and perhaps at that point in the buffet

179
00:07:53,250 --> 00:07:55,413
there's not gonna be ravioli so, so bad.

180
00:07:57,000 --> 00:07:58,077
I'm sure that if you are flexible

181
00:07:58,077 --> 00:07:59,670
and you like all the pastas,

182
00:07:59,670 --> 00:08:02,130
you are gonna be still
getting the right meal.

183
00:08:02,130 --> 00:08:03,810
And not only that, if you
are flexible with the rest

184
00:08:03,810 --> 00:08:06,390
of the food, you'll get even
a better meal out of it.

185
00:08:06,390 --> 00:08:08,580
So then that concept of flexibility

186
00:08:08,580 --> 00:08:12,153
that improves how you tap on
different pools of capacity,

187
00:08:13,050 --> 00:08:15,930
you can expand that to
protect yourself effectively

188
00:08:15,930 --> 00:08:17,940
when you're using on-demand instances

189
00:08:17,940 --> 00:08:19,380
and still go to your preferred instance,

190
00:08:19,380 --> 00:08:22,050
but know that you can
always protect yourself

191
00:08:22,050 --> 00:08:24,513
with ICE if you are a bit flexible.

192
00:08:25,961 --> 00:08:27,750
The way that you apply that flexibility

193
00:08:27,750 --> 00:08:31,410
is either using different
instance families

194
00:08:31,410 --> 00:08:33,720
or perhaps a different CPU manufacturer

195
00:08:33,720 --> 00:08:37,500
in x86 Intel AMD,

196
00:08:37,500 --> 00:08:40,263
different generations or different sizes.

197
00:08:41,880 --> 00:08:45,210
I understand that a few of you

198
00:08:45,210 --> 00:08:49,110
for especially large
organizations may do some level

199
00:08:49,110 --> 00:08:53,280
of qualification of instances

200
00:08:53,280 --> 00:08:55,680
just to verify that those instances

201
00:08:55,680 --> 00:08:58,770
match the service level
objectives that you need.

202
00:08:58,770 --> 00:09:02,490
When you have deterministic
workloads need,

203
00:09:02,490 --> 00:09:03,870
the deterministic performance need,

204
00:09:03,870 --> 00:09:06,030
this make a lot of sense.

205
00:09:06,030 --> 00:09:08,460
I would like you to
challenge those conceptions

206
00:09:08,460 --> 00:09:10,020
and think that in most of the cases,

207
00:09:10,020 --> 00:09:12,060
even when you qualify, what you are after

208
00:09:12,060 --> 00:09:14,280
is not at the deterministic
level of performance.

209
00:09:14,280 --> 00:09:15,810
You are after a baseline.

210
00:09:15,810 --> 00:09:18,450
And after that baseline,
you can use other instances.

211
00:09:18,450 --> 00:09:21,330
For example, if your baseline gets met

212
00:09:21,330 --> 00:09:24,000
with a generation seven instance,

213
00:09:24,000 --> 00:09:28,110
probably generation eight is
gonna be still equally valid.

214
00:09:28,110 --> 00:09:28,943
Okay?

215
00:09:28,943 --> 00:09:31,680
So you can think about
those levels of flexibility

216
00:09:31,680 --> 00:09:33,420
that we just mentioned.

217
00:09:33,420 --> 00:09:36,120
Applying that flexibility
is easier than you think.

218
00:09:36,120 --> 00:09:39,270
We have embedded all the
ways to do the heavy lifting

219
00:09:39,270 --> 00:09:42,450
both on EC2 fleet and auto scaling groups.

220
00:09:42,450 --> 00:09:44,610
And those integrates with
the rest of our service.

221
00:09:44,610 --> 00:09:46,650
For example, behind Karpenter,

222
00:09:46,650 --> 00:09:49,260
you're gonna find EC2
fleet making that selection

223
00:09:49,260 --> 00:09:51,480
and allowing you through the note pools

224
00:09:51,480 --> 00:09:56,370
to create that exact
elasticity and flexibility

225
00:09:56,370 --> 00:09:57,203
through multiple instance.

226
00:09:57,203 --> 00:10:00,060
And the same thing goes
for auto scaling groups

227
00:10:00,060 --> 00:10:04,623
that integrate with AWS
batch, with ECS and so on.

228
00:10:06,270 --> 00:10:08,400
Now, the way that use it, super simple,

229
00:10:08,400 --> 00:10:13,400
you will define or create a set
of fleet auto-scaling group,

230
00:10:13,410 --> 00:10:16,740
apply that flexibility that you're after

231
00:10:16,740 --> 00:10:19,980
and effectively let that
fleet auto-scaling group

232
00:10:19,980 --> 00:10:21,993
manage the instance lifecycle for you.

233
00:10:24,450 --> 00:10:27,570
We introduced about two
and a half years ago,

234
00:10:27,570 --> 00:10:28,650
three years ago,

235
00:10:28,650 --> 00:10:31,863
the concept of attribute-based
instant selection.

236
00:10:33,000 --> 00:10:34,260
This is a way that allows you

237
00:10:34,260 --> 00:10:37,200
to define what is your flexibility

238
00:10:37,200 --> 00:10:40,920
and your instant selection
through properties or attributes.

239
00:10:40,920 --> 00:10:41,970
For example, you can say,

240
00:10:41,970 --> 00:10:44,220
hey, I would like any type of instance

241
00:10:44,220 --> 00:10:46,980
that offers me this many CPUs,

242
00:10:46,980 --> 00:10:49,770
there's much memory on a latest generation

243
00:10:49,770 --> 00:10:54,333
or generation six on what and
on the storage type of EVS.

244
00:10:55,290 --> 00:10:57,990
And that will define the type of instances

245
00:10:57,990 --> 00:11:01,320
that create that
flexibility group for you.

246
00:11:01,320 --> 00:11:02,850
You can still define perfectly,

247
00:11:02,850 --> 00:11:07,143
that's perfectly fine to define
the instances manually too.

248
00:11:09,300 --> 00:11:10,500
When you define those instances,

249
00:11:10,500 --> 00:11:12,390
for example, just to give you a pattern

250
00:11:12,390 --> 00:11:13,860
that you can use for on-demand instance

251
00:11:13,860 --> 00:11:16,200
to protect yourself,
you can start defining

252
00:11:16,200 --> 00:11:19,440
with a prioritized allocation strategy,

253
00:11:19,440 --> 00:11:21,960
a group of instances and
you will list them in order.

254
00:11:21,960 --> 00:11:25,110
You will start saying, hey,
this is my preferred instance,

255
00:11:25,110 --> 00:11:26,850
but if I cannot get that instance,

256
00:11:26,850 --> 00:11:29,940
I'm okay to get my second
preference and my third preference

257
00:11:29,940 --> 00:11:31,380
and my fourth preference.

258
00:11:31,380 --> 00:11:33,360
The main idea is that you
are protecting yourself

259
00:11:33,360 --> 00:11:35,010
and making sure that auto scaling group,

260
00:11:35,010 --> 00:11:37,680
if you cannot find your
preferred instance,

261
00:11:37,680 --> 00:11:39,420
it will ya onto the next one

262
00:11:39,420 --> 00:11:41,430
so you'll not suffer those ICEs, right?

263
00:11:41,430 --> 00:11:43,930
So this is a pattern that
I would recommend using.

264
00:11:44,880 --> 00:11:47,400
Allocation strategies can also be used

265
00:11:47,400 --> 00:11:50,130
in the case of Spot, for example,

266
00:11:50,130 --> 00:11:52,110
as capacity optimize allocation strategies

267
00:11:52,110 --> 00:11:54,900
that will pick instances
from the deepest spools

268
00:11:54,900 --> 00:11:57,510
so they will avoid
frequency of termination

269
00:11:57,510 --> 00:12:00,300
or an increased frequency of termination.

270
00:12:00,300 --> 00:12:01,650
And if you are price sensitive,

271
00:12:01,650 --> 00:12:03,660
we have allegation strategies also

272
00:12:03,660 --> 00:12:05,280
that are driven by the price optimized.

273
00:12:05,280 --> 00:12:06,717
So you'll list all the instances

274
00:12:06,717 --> 00:12:09,390
and we'll pick the ones
that are optimizing

275
00:12:09,390 --> 00:12:10,860
for price for you.

276
00:12:10,860 --> 00:12:13,230
As an example of this
attribute-based selection

277
00:12:13,230 --> 00:12:14,490
and how you apply it,

278
00:12:14,490 --> 00:12:17,970
you got in this case,
hey, I want eight CPUs,

279
00:12:17,970 --> 00:12:22,710
eight kilobytes of RAM of
type Graviton and EBS storage.

280
00:12:22,710 --> 00:12:26,580
And that automatically will
create that flexibility group

281
00:12:26,580 --> 00:12:31,110
that includes m8g.2xlarges up to,

282
00:12:31,110 --> 00:12:35,153
as you see on the left corner down, c7gn.

283
00:12:37,050 --> 00:12:38,850
So these are network specialized instance,

284
00:12:38,850 --> 00:12:40,300
and we'll pick up from those.

285
00:12:41,520 --> 00:12:46,110
So it's easier effectively
to plug that model.

286
00:12:46,110 --> 00:12:50,760
So if you want that deterministic
level of performance

287
00:12:50,760 --> 00:12:52,500
or specific instance types,

288
00:12:52,500 --> 00:12:55,140
we're gonna move to on-demand
capacity reservations.

289
00:12:55,140 --> 00:12:56,733
Brian.
- Thank you.

290
00:13:00,630 --> 00:13:02,880
So like Carlos mentioned,

291
00:13:02,880 --> 00:13:07,140
if you really need to optimize
for a specific instance type

292
00:13:07,140 --> 00:13:09,000
and you need to have the capacity there,

293
00:13:09,000 --> 00:13:11,040
you can use a capacity reservation,

294
00:13:11,040 --> 00:13:13,380
which is kind of on the
other end of the spectrum of,

295
00:13:13,380 --> 00:13:16,590
you know, cost and availability,
capacity reservations.

296
00:13:16,590 --> 00:13:19,470
You essentially hold or
you pay for the capacity

297
00:13:19,470 --> 00:13:21,630
the entire time you hold the reservation.

298
00:13:21,630 --> 00:13:22,650
So let's talk a little bit

299
00:13:22,650 --> 00:13:26,070
about what capacity reservations are.

300
00:13:26,070 --> 00:13:29,010
So kind of the acronym
for capacity reservations

301
00:13:29,010 --> 00:13:30,500
are on-demand capacity reservations,

302
00:13:30,500 --> 00:13:33,600
or you might hear me call 'em ODCRs.

303
00:13:33,600 --> 00:13:35,400
And essentially with these

304
00:13:35,400 --> 00:13:38,730
you're actually reserving
a specific instance type

305
00:13:38,730 --> 00:13:41,700
and availability zone combination.

306
00:13:41,700 --> 00:13:42,533
So if we look kind of

307
00:13:42,533 --> 00:13:45,900
at the capacity
availability hierarchy here,

308
00:13:45,900 --> 00:13:46,920
we have on-demand.

309
00:13:46,920 --> 00:13:49,410
And on-demand I would say is world class

310
00:13:49,410 --> 00:13:51,810
in terms of the availability
that we can give to you

311
00:13:51,810 --> 00:13:54,870
with all the different
number of pools that we have.

312
00:13:54,870 --> 00:13:57,210
However, as Carlos mentioned,

313
00:13:57,210 --> 00:13:59,700
you can actually go up in
terms of your availability

314
00:13:59,700 --> 00:14:03,480
by accessing multiple
pools, by being flexible.

315
00:14:03,480 --> 00:14:05,460
And then finally if you really,

316
00:14:05,460 --> 00:14:08,010
really need to have that
capacity assurance there,

317
00:14:08,010 --> 00:14:10,830
that's when you would use
the capacity reservation.

318
00:14:10,830 --> 00:14:14,250
And the way we give you assurance

319
00:14:14,250 --> 00:14:18,270
is we are actually setting
aside that capacity for you,

320
00:14:18,270 --> 00:14:21,690
but because we're setting
aside the capacity for you,

321
00:14:21,690 --> 00:14:23,400
we're not letting anyone else use it

322
00:14:23,400 --> 00:14:25,710
or run instances on it,

323
00:14:25,710 --> 00:14:28,980
and so we charge the entire
time you hold the reservation.

324
00:14:28,980 --> 00:14:31,920
If you're running an instance
within the reservation,

325
00:14:31,920 --> 00:14:33,510
no additional cost at all.

326
00:14:33,510 --> 00:14:35,340
It just looks like a running instance

327
00:14:35,340 --> 00:14:37,200
in your cost and usage report.

328
00:14:37,200 --> 00:14:39,540
But if you're not running an instance,

329
00:14:39,540 --> 00:14:41,880
that's when you'd be charged
for an unused reservation,

330
00:14:41,880 --> 00:14:43,530
which charges basically the same thing

331
00:14:43,530 --> 00:14:44,630
as a running instance.

332
00:14:45,600 --> 00:14:47,730
But the good thing about
capacity reservations

333
00:14:47,730 --> 00:14:50,490
versus especially if any
of you have been with AWS

334
00:14:50,490 --> 00:14:53,370
for a long time, things like zonal RIs,

335
00:14:53,370 --> 00:14:57,330
with capacity reservation,
there's no commitment period.

336
00:14:57,330 --> 00:14:59,823
You can cancel it at any time you want to.

337
00:15:00,930 --> 00:15:03,750
There's no one or three
year commitment period,

338
00:15:03,750 --> 00:15:04,583
I should say.

339
00:15:06,180 --> 00:15:08,760
So when should we use an ODCR?

340
00:15:08,760 --> 00:15:11,070
First is if you don't have flexibility.

341
00:15:11,070 --> 00:15:14,733
And that picture is a picture
of me getting up this morning.

342
00:15:15,900 --> 00:15:18,000
But when you don't have flexibility,

343
00:15:18,000 --> 00:15:20,250
if you're, you know, you're at the buffet

344
00:15:20,250 --> 00:15:24,330
like Carlos mentioned, and
you really need ravioli,

345
00:15:24,330 --> 00:15:28,350
you know at 6:00 PM on a Friday
night in North Las Vegas,

346
00:15:28,350 --> 00:15:29,370
that's when you would wanna,

347
00:15:29,370 --> 00:15:31,230
you know, call and make a
reservation to make sure

348
00:15:31,230 --> 00:15:33,030
that you're able to get your food.

349
00:15:33,030 --> 00:15:35,400
And that's same thing
with capacity reservation.

350
00:15:35,400 --> 00:15:37,290
If you really need a
specific instance type

351
00:15:37,290 --> 00:15:40,953
at a specific time of day and
a specific availability zone,

352
00:15:41,820 --> 00:15:44,280
you probably need to use
a capacity reservation.

353
00:15:44,280 --> 00:15:47,640
The other time that we recommend
using capacity reservations

354
00:15:47,640 --> 00:15:51,270
is this, if your workload
is just so critical

355
00:15:51,270 --> 00:15:53,970
that you absolutely need to have,

356
00:15:53,970 --> 00:15:56,370
you need to be able to spin up instances

357
00:15:56,370 --> 00:15:57,930
or bad things happen,

358
00:15:57,930 --> 00:16:02,403
then we also would recommend
using a capacity reservation.

359
00:16:04,080 --> 00:16:05,670
So there's kind of two different ways

360
00:16:05,670 --> 00:16:07,560
you can create the capacity reservation.

361
00:16:07,560 --> 00:16:10,470
You can create it on-demand,

362
00:16:10,470 --> 00:16:12,240
which means creating it

363
00:16:12,240 --> 00:16:14,790
based on what capacity
we have in the pool.

364
00:16:14,790 --> 00:16:16,260
So when you create it on-demand,

365
00:16:16,260 --> 00:16:19,140
we'll take capacity and
set it aside for you.

366
00:16:19,140 --> 00:16:21,513
Or you can actually create
it in a future date.

367
00:16:22,380 --> 00:16:24,510
So for on-demand,

368
00:16:24,510 --> 00:16:28,590
we often see customers
creating the on-demand portion

369
00:16:28,590 --> 00:16:29,850
of the reservations

370
00:16:29,850 --> 00:16:32,790
if they have a workload
that takes a while to scale.

371
00:16:32,790 --> 00:16:35,959
So if I have a workload that it takes me,

372
00:16:35,959 --> 00:16:38,430
you know, I need to provision
single instance at a time

373
00:16:38,430 --> 00:16:39,900
or a couple instances at a time

374
00:16:39,900 --> 00:16:41,970
to be able to get up to my scale,

375
00:16:41,970 --> 00:16:44,850
it can be really frustrating to get 90%

376
00:16:44,850 --> 00:16:48,360
through my deployment and
then run out of capacity.

377
00:16:48,360 --> 00:16:49,830
So with a capacity reservation

378
00:16:49,830 --> 00:16:52,020
you can actually get a synchronous call

379
00:16:52,020 --> 00:16:53,640
to say is the capacity there,

380
00:16:53,640 --> 00:16:56,040
it basically says yes or
no, is the capacity there?

381
00:16:56,040 --> 00:16:58,710
And if it is there, it creates
the reservation for you

382
00:16:58,710 --> 00:17:01,020
so that you can just
spin up those instances

383
00:17:01,020 --> 00:17:04,020
at your leisure and know that
that it's gonna be successful.

384
00:17:04,890 --> 00:17:06,900
The other time that we see customers

385
00:17:06,900 --> 00:17:10,110
using the on-demand version
of capacity reservations

386
00:17:10,110 --> 00:17:13,410
is when they have
already running instances

387
00:17:13,410 --> 00:17:15,630
and they wanna cover
those running instances

388
00:17:15,630 --> 00:17:16,560
with a reservation.

389
00:17:16,560 --> 00:17:19,980
Like I mentioned, there's no extra cost

390
00:17:19,980 --> 00:17:22,830
for covering a running
instance with a reservation.

391
00:17:22,830 --> 00:17:26,640
But if you need to do
maintenance or bounce your fleet,

392
00:17:26,640 --> 00:17:28,200
you'll be able to to do so

393
00:17:28,200 --> 00:17:30,900
and make sure you can
get that capacity back

394
00:17:30,900 --> 00:17:34,053
when you do the reservation.

395
00:17:35,190 --> 00:17:36,510
So the other type we have

396
00:17:36,510 --> 00:17:39,360
is future data capacity reservation.

397
00:17:39,360 --> 00:17:41,820
And there are a few different use cases

398
00:17:41,820 --> 00:17:43,950
for future capacity reservation.

399
00:17:43,950 --> 00:17:47,100
One of them would be like
a peak event like Q4 peak,

400
00:17:47,100 --> 00:17:48,060
like we're having right now

401
00:17:48,060 --> 00:17:50,820
with Cyber Monday and Black Friday,

402
00:17:50,820 --> 00:17:54,300
making sure that we have
capacity for a big event.

403
00:17:54,300 --> 00:17:57,480
Another would be if you're
performing some big migration

404
00:17:57,480 --> 00:18:00,330
and you wanna switch
to a new instance type,

405
00:18:00,330 --> 00:18:03,930
a future data capacity
reservation can help you do that.

406
00:18:03,930 --> 00:18:04,763
And then finally,

407
00:18:04,763 --> 00:18:07,890
if you're increasing your
baseline, stair stepping it up,

408
00:18:07,890 --> 00:18:11,220
a future capacity
reservation also can help.

409
00:18:11,220 --> 00:18:13,890
And the way that it works is,

410
00:18:13,890 --> 00:18:15,720
it's just kinda like
you're placing an order,

411
00:18:15,720 --> 00:18:19,530
like we talked about, you're
calling the restaurant.

412
00:18:19,530 --> 00:18:22,200
So you request for a capacity reservation

413
00:18:22,200 --> 00:18:24,660
for the date that you need it.

414
00:18:24,660 --> 00:18:27,930
So it could be anywhere
between five and 120 days

415
00:18:27,930 --> 00:18:29,643
in advance of what you need.

416
00:18:30,720 --> 00:18:33,840
And then you specify how
long you are planning

417
00:18:33,840 --> 00:18:35,220
on holding the capacity,

418
00:18:35,220 --> 00:18:37,350
typically because we might be racking

419
00:18:37,350 --> 00:18:40,410
and stacking new servers for you

420
00:18:40,410 --> 00:18:42,180
or setting the servers aside,

421
00:18:42,180 --> 00:18:47,180
we ask for like 14 days of
usage after the reservation,

422
00:18:47,400 --> 00:18:48,810
but you'll get an answer

423
00:18:48,810 --> 00:18:51,150
or you'll get a reservation
created right then and there

424
00:18:51,150 --> 00:18:53,370
and it'll be in an assessing state.

425
00:18:53,370 --> 00:18:56,850
And then within about
five days we'll come back

426
00:18:56,850 --> 00:19:00,450
and put that in a schedule state for you

427
00:19:00,450 --> 00:19:03,180
and then you just need
to wait for the capacity

428
00:19:03,180 --> 00:19:06,393
to become available and you
can launch your instances.

429
00:19:08,280 --> 00:19:11,433
All right, so we've talked a lot about,

430
00:19:11,433 --> 00:19:12,450
you know, what ODCRs are,

431
00:19:12,450 --> 00:19:16,320
how to use, or how to get
them, what they're for.

432
00:19:16,320 --> 00:19:19,920
So now let's talk a little
bit about how we use them.

433
00:19:19,920 --> 00:19:21,570
So with an ODCR we kind of,

434
00:19:21,570 --> 00:19:23,760
it kind of works on this
principle of matching.

435
00:19:23,760 --> 00:19:27,090
So your instance needs
to match your reservation

436
00:19:27,090 --> 00:19:29,220
and then the two will marry up

437
00:19:29,220 --> 00:19:32,280
and you'll be able to launch
your instances with it.

438
00:19:32,280 --> 00:19:33,960
So there's four kind of primary things

439
00:19:33,960 --> 00:19:35,310
that you'll need to match

440
00:19:35,310 --> 00:19:38,010
with your instance launch
and your reservation.

441
00:19:38,010 --> 00:19:39,960
So first is instance type, whether it's,

442
00:19:39,960 --> 00:19:44,960
you know, c6i.xlarge or m7i.xlarge,

443
00:19:46,765 --> 00:19:48,713
whatever the instance type that you need,

444
00:19:50,010 --> 00:19:51,270
the instance that you're launching needs

445
00:19:51,270 --> 00:19:53,070
to match the reservation.

446
00:19:53,070 --> 00:19:57,660
We also have availability zone
platform or operating system.

447
00:19:57,660 --> 00:19:58,950
And then finally, tenancy.

448
00:19:58,950 --> 00:20:01,770
Tenancy is whether it's
single or shared tenancy.

449
00:20:01,770 --> 00:20:04,270
Most of our customers just
use the shared tenancy.

450
00:20:05,490 --> 00:20:09,420
Now optionally, if you are
using a capacity reservation

451
00:20:09,420 --> 00:20:11,170
with a cluster placement group

452
00:20:12,480 --> 00:20:13,743
also aligned with it,

453
00:20:15,540 --> 00:20:20,540
you'll need to match that
placement group ID with your ODCR.

454
00:20:21,150 --> 00:20:23,010
Basically, cluster placement groups,

455
00:20:23,010 --> 00:20:26,880
they help with things like
high performance compute.

456
00:20:26,880 --> 00:20:28,620
Makes it so we put all of the instances

457
00:20:28,620 --> 00:20:31,560
in a really close
co-location with each other

458
00:20:31,560 --> 00:20:34,350
so that you have really fast latency

459
00:20:34,350 --> 00:20:35,703
between the instance types.

460
00:20:36,810 --> 00:20:41,010
Now, finally, you have to think
about instance eligibility.

461
00:20:41,010 --> 00:20:45,543
Now, I would say for probably
80, 90% of use cases,

462
00:20:46,470 --> 00:20:47,610
your instance eligibility

463
00:20:47,610 --> 00:20:49,050
is just gonna be kind of the default

464
00:20:49,050 --> 00:20:51,090
or open instance eligibility.

465
00:20:51,090 --> 00:20:54,090
And what that does, it kind
of acts like a public pool

466
00:20:54,090 --> 00:20:56,650
of capacity that anybody can tap into

467
00:20:57,720 --> 00:20:59,820
the default when you're launch an instance

468
00:20:59,820 --> 00:21:01,830
and the default when you
create a capacity reservation

469
00:21:01,830 --> 00:21:03,090
is always gonna be open.

470
00:21:03,090 --> 00:21:06,480
And so it always just kind of
works and works like magic.

471
00:21:06,480 --> 00:21:09,600
However, if you have like
a multi-tenant account

472
00:21:09,600 --> 00:21:12,570
where you are trying to protect capacity

473
00:21:12,570 --> 00:21:16,170
from somebody else in your
account from using it,

474
00:21:16,170 --> 00:21:18,060
you would wanna use targeted.

475
00:21:18,060 --> 00:21:20,430
And targeted basically means

476
00:21:20,430 --> 00:21:21,720
when you launch an instance you have

477
00:21:21,720 --> 00:21:24,660
to specify either the reservation ID

478
00:21:24,660 --> 00:21:27,990
or a resource group that
the reservation is in

479
00:21:27,990 --> 00:21:30,000
and then that way you can kind of protect

480
00:21:30,000 --> 00:21:32,520
and create a private pool of capacity

481
00:21:32,520 --> 00:21:35,460
versus that public pool that the openness.

482
00:21:35,460 --> 00:21:37,230
But typically it's multi-tenant accounts

483
00:21:37,230 --> 00:21:38,913
that are using the targeted.

484
00:21:40,980 --> 00:21:43,470
All right, so going to kind
of back to what Carlos said,

485
00:21:43,470 --> 00:21:47,070
you know, if you
architect for flexibility,

486
00:21:47,070 --> 00:21:50,550
you still may want to
use capacity reservations

487
00:21:50,550 --> 00:21:51,383
from time to time,

488
00:21:51,383 --> 00:21:54,270
especially if you have
spare capacity reservations

489
00:21:54,270 --> 00:21:56,570
that aren't being used
but you wanna save them

490
00:21:57,510 --> 00:21:58,920
for another time.

491
00:21:58,920 --> 00:22:01,890
So with an auto-scaling group,
you know, how do we do that?

492
00:22:01,890 --> 00:22:06,150
How do we make sure that
when the auto scaling group

493
00:22:06,150 --> 00:22:07,773
picks the reservation,

494
00:22:09,851 --> 00:22:12,720
say it wants to pick m8g.2xlarge,

495
00:22:12,720 --> 00:22:14,280
that top left there,

496
00:22:14,280 --> 00:22:17,130
but I have an m7g.2xlarge,

497
00:22:17,130 --> 00:22:19,950
how do I make sure that
the auto scaling group

498
00:22:19,950 --> 00:22:22,233
is marrying up with my
capacity reservation?

499
00:22:23,186 --> 00:22:24,990
And so last year we
launched something called

500
00:22:24,990 --> 00:22:28,170
ASG capacity reservation preference.

501
00:22:28,170 --> 00:22:30,780
And with this, you can
actually set that preference

502
00:22:30,780 --> 00:22:33,660
so that you get better utilization

503
00:22:33,660 --> 00:22:35,880
of your capacity reservations.

504
00:22:35,880 --> 00:22:38,700
So you can either use
capacity reservations only,

505
00:22:38,700 --> 00:22:42,720
which basically means if you
have a capacity reservation

506
00:22:42,720 --> 00:22:46,290
that matches something within
your auto-scaling group,

507
00:22:46,290 --> 00:22:47,704
it will launch the instance

508
00:22:47,704 --> 00:22:50,910
and it'll launch it using
the capacity reservation.

509
00:22:50,910 --> 00:22:53,060
But if you don't have a
matching capacity reservation,

510
00:22:53,060 --> 00:22:55,530
it will not launch an instance
and you'll get an error.

511
00:22:55,530 --> 00:22:58,230
You can also use capacity
reservation first,

512
00:22:58,230 --> 00:22:59,850
which is kind of similar,

513
00:22:59,850 --> 00:23:04,110
but instead of when you don't
have a capacity reservation,

514
00:23:04,110 --> 00:23:05,940
it'll actually try to use on demand.

515
00:23:05,940 --> 00:23:07,350
So it'll first try to look

516
00:23:07,350 --> 00:23:09,183
for a capacity reservation to use.

517
00:23:10,181 --> 00:23:13,020
If it doesn't have one, then
it will fall back to on-demand

518
00:23:13,020 --> 00:23:14,460
and go back kind of through that list

519
00:23:14,460 --> 00:23:16,560
that Carlos was talking about where,

520
00:23:16,560 --> 00:23:21,483
you know, try to find the most
highest priority instance.

521
00:23:22,470 --> 00:23:25,260
So really what this does is it
helps you improve efficiency,

522
00:23:25,260 --> 00:23:27,240
'cause that's, if you
wanna talk about cost

523
00:23:27,240 --> 00:23:30,150
and availability, the way to save costs

524
00:23:30,150 --> 00:23:33,960
when using a capacity reservation
would be to use it fully

525
00:23:33,960 --> 00:23:36,960
and get the most bang for your
buck out of that reservation.

526
00:23:38,280 --> 00:23:41,370
So let's talk a little bit
more about how we can do that.

527
00:23:41,370 --> 00:23:44,460
First, one of the best ways

528
00:23:44,460 --> 00:23:47,670
that you can get better utilization

529
00:23:47,670 --> 00:23:51,840
out of your capacity
reservations is through sharing.

530
00:23:51,840 --> 00:23:56,160
So imagine, you know, you're
a high priority workload

531
00:23:56,160 --> 00:23:57,600
that only runs during the day

532
00:23:57,600 --> 00:24:00,360
and maybe has a small baseline at night,

533
00:24:00,360 --> 00:24:04,050
but in the middle of the night
there's not a lot of usage.

534
00:24:04,050 --> 00:24:06,990
So in order to kind of fill in those gaps,

535
00:24:06,990 --> 00:24:09,690
you can actually share
the capacity reservation

536
00:24:09,690 --> 00:24:13,620
with other lower priority
workloads that can be interrupted.

537
00:24:13,620 --> 00:24:17,640
And that's a really great way
that we see for our customers

538
00:24:17,640 --> 00:24:19,260
to increase the utilization,

539
00:24:19,260 --> 00:24:21,450
especially if they have spiky workloads

540
00:24:21,450 --> 00:24:23,313
that need that capacity assurance.

541
00:24:25,650 --> 00:24:27,270
So when you share reservation,

542
00:24:27,270 --> 00:24:30,000
you can actually share across accounts,

543
00:24:30,000 --> 00:24:31,800
you can share across organizations.

544
00:24:31,800 --> 00:24:35,220
So you can share, you know,
one to many if you'd like.

545
00:24:35,220 --> 00:24:38,430
Or you could even share
outside of your organization

546
00:24:38,430 --> 00:24:41,250
with another account, if you want.

547
00:24:41,250 --> 00:24:42,240
And the way that you do that

548
00:24:42,240 --> 00:24:45,660
is you use Resource Access Manager or RAM

549
00:24:45,660 --> 00:24:46,743
to set up the share.

550
00:24:47,940 --> 00:24:51,150
Now by default, if I own the reservation,

551
00:24:51,150 --> 00:24:52,800
so say I'm owning the reservation

552
00:24:52,800 --> 00:24:55,650
and I share with Carlos over here,

553
00:24:55,650 --> 00:24:58,890
if Carlos does not use the capacity,

554
00:24:58,890 --> 00:25:02,340
then I as the reservation
owner will be charged for it.

555
00:25:02,340 --> 00:25:04,320
So if he does use the capacity,

556
00:25:04,320 --> 00:25:08,100
he's just charged for
whatever usage is happening.

557
00:25:08,100 --> 00:25:13,050
And I don't get charged
anything for a used reservation.

558
00:25:13,050 --> 00:25:15,790
However, say I am a central team

559
00:25:17,310 --> 00:25:20,730
and I want the ability to kind
of control the reservation

560
00:25:20,730 --> 00:25:22,530
and modify the reservation,

561
00:25:22,530 --> 00:25:24,750
but I want Carlos to pay for it,

562
00:25:24,750 --> 00:25:27,033
you know, so one way that you can kind of,

563
00:25:28,218 --> 00:25:29,580
what what we launched last year

564
00:25:29,580 --> 00:25:33,420
was the ability to
assign billing ownership.

565
00:25:33,420 --> 00:25:36,330
So now I can assign billing
ownership to Carlos,

566
00:25:36,330 --> 00:25:37,410
'cause Carlos is the one that came

567
00:25:37,410 --> 00:25:39,420
and told me he wanted capacity.

568
00:25:39,420 --> 00:25:41,460
I, as a central team can manage it,

569
00:25:41,460 --> 00:25:43,200
but I can give it to Carlos

570
00:25:43,200 --> 00:25:45,390
and make Carlos pay for any of the unused

571
00:25:45,390 --> 00:25:47,580
because he was the one that asked for it.

572
00:25:47,580 --> 00:25:49,710
And then just as a side note,

573
00:25:49,710 --> 00:25:50,610
we just launched,

574
00:25:50,610 --> 00:25:52,830
this year, we launched
the ability to share,

575
00:25:52,830 --> 00:25:54,780
if you have a cluster
placement group ODCR,

576
00:25:54,780 --> 00:25:56,583
you're able to share those as well.

577
00:25:58,740 --> 00:26:00,510
So in the past,

578
00:26:00,510 --> 00:26:04,623
reclaiming that capacity took
a little bit of manual work.

579
00:26:05,460 --> 00:26:09,030
So if we're talking about like
the high priority workload,

580
00:26:09,030 --> 00:26:10,830
if I'm that high priority workload

581
00:26:10,830 --> 00:26:12,180
in the middle of the night and I realize,

582
00:26:12,180 --> 00:26:14,790
oh, I need that capacity back,

583
00:26:14,790 --> 00:26:16,770
you know, in the past what I'd have to do

584
00:26:16,770 --> 00:26:20,130
is get on the phone or page in the on-call

585
00:26:20,130 --> 00:26:22,170
for the low priority workload.

586
00:26:22,170 --> 00:26:23,130
On-call gets up,

587
00:26:23,130 --> 00:26:23,963
I've been an on call,

588
00:26:23,963 --> 00:26:25,560
I'm sure many of you have been on-call

589
00:26:25,560 --> 00:26:28,590
and you have to get up in the
middle of the night and log in

590
00:26:28,590 --> 00:26:30,030
and it can take a lot of time

591
00:26:30,030 --> 00:26:34,080
and manual effort to go
in and take the action

592
00:26:34,080 --> 00:26:35,940
to kind of terminate
those running instances

593
00:26:35,940 --> 00:26:37,860
so that the high priority workload

594
00:26:37,860 --> 00:26:39,900
can get the capacity back.

595
00:26:39,900 --> 00:26:42,300
And so that's what it used to be.

596
00:26:42,300 --> 00:26:46,380
But so now when they
need the capacity back,

597
00:26:46,380 --> 00:26:48,980
they can interrupt it with
a two minute notification

598
00:26:50,759 --> 00:26:53,520
and then, you know, we
do all the automation,

599
00:26:53,520 --> 00:26:54,930
we interrupt the instances,

600
00:26:54,930 --> 00:26:57,360
we give it back to the right reservation

601
00:26:57,360 --> 00:26:59,660
and then you're able to
launch your instances.

602
00:27:01,320 --> 00:27:06,320
So I kind of like to set it up
like a, outline it like this.

603
00:27:07,260 --> 00:27:11,160
So the ODCR is almost like
the parent reservation

604
00:27:11,160 --> 00:27:13,950
and the interruptible ODCR is
like the child reservation.

605
00:27:13,950 --> 00:27:15,810
There's a connection between the two.

606
00:27:15,810 --> 00:27:17,670
I also like the parent-child relationship

607
00:27:17,670 --> 00:27:19,170
because I have four kids

608
00:27:19,170 --> 00:27:21,120
and my kids are always interrupting me.

609
00:27:22,050 --> 00:27:24,030
But you can then share that

610
00:27:24,030 --> 00:27:26,820
just that interruptible
capacity reservation

611
00:27:26,820 --> 00:27:29,910
using the RAM share to your organization

612
00:27:29,910 --> 00:27:31,923
and then take it back when you need it.

613
00:27:32,820 --> 00:27:37,290
Now, just one quick note on
this is there's producers

614
00:27:37,290 --> 00:27:40,290
and consumers with capacity reservations.

615
00:27:40,290 --> 00:27:42,600
So the producer's obviously
the high priority workload,

616
00:27:42,600 --> 00:27:45,070
but the consumer or the
low priority workload

617
00:27:46,164 --> 00:27:46,997
needs to make sure,

618
00:27:46,997 --> 00:27:48,420
we need to make sure that they know

619
00:27:48,420 --> 00:27:49,680
what they're getting themselves into

620
00:27:49,680 --> 00:27:52,830
because they could have
their instances interrupted.

621
00:27:52,830 --> 00:27:54,600
So in order to launch into it,

622
00:27:54,600 --> 00:27:57,630
the low priority workload
first needs to target

623
00:27:57,630 --> 00:28:00,060
that capacity reservation
like we talked about.

624
00:28:00,060 --> 00:28:02,010
But then they also need
to set the market type

625
00:28:02,010 --> 00:28:04,470
to interruptable capacity reservation

626
00:28:04,470 --> 00:28:08,910
in order to kind of tell us

627
00:28:08,910 --> 00:28:11,550
that they're okay being interrupted.

628
00:28:11,550 --> 00:28:15,480
But you can set this in a launch template

629
00:28:15,480 --> 00:28:17,730
and kind of set it and
forget it and it all works.

630
00:28:17,730 --> 00:28:20,370
And then just launch your
instances and then wait

631
00:28:20,370 --> 00:28:23,670
or listen for that interruption notice.

632
00:28:23,670 --> 00:28:27,060
And once it comes you
just save your progress

633
00:28:27,060 --> 00:28:28,113
and you shut down,

634
00:28:29,520 --> 00:28:30,603
shut down gracefully.

635
00:28:33,000 --> 00:28:35,010
So finally, you know,

636
00:28:35,010 --> 00:28:37,320
we've talked a little bit
about these two models,

637
00:28:37,320 --> 00:28:40,740
the on-demand and on-demand
capacity reservations.

638
00:28:40,740 --> 00:28:42,930
There is a way you can
actually tune the costs

639
00:28:42,930 --> 00:28:47,850
of these capacity, tune your
costs and lower your costs.

640
00:28:47,850 --> 00:28:50,820
And that's through something
called a savings plan.

641
00:28:50,820 --> 00:28:52,470
And with a savings plan,

642
00:28:52,470 --> 00:28:54,570
what you're really doing
is you're committing

643
00:28:54,570 --> 00:28:59,283
to use some sort of capacity
for a certain amount of time,

644
00:29:00,300 --> 00:29:02,370
it's basically an hourly commitment,

645
00:29:02,370 --> 00:29:04,983
for at least one or three years.

646
00:29:06,240 --> 00:29:09,600
With that hourly commitment,
you get a discount on the usage

647
00:29:09,600 --> 00:29:11,700
that fits into that commitment.

648
00:29:11,700 --> 00:29:13,560
So with, you know,

649
00:29:13,560 --> 00:29:15,840
our top three-year instance savings plans,

650
00:29:15,840 --> 00:29:17,823
you can get up to 72% off.

651
00:29:18,840 --> 00:29:21,600
Now there are two different
flavors of savings plans.

652
00:29:21,600 --> 00:29:25,080
So there's compute savings plans
and instance savings plans.

653
00:29:25,080 --> 00:29:27,270
I would say the compute
savings plans are kind

654
00:29:27,270 --> 00:29:30,060
of the ultimate in flexibility.

655
00:29:30,060 --> 00:29:35,060
So if you need, say you
wanted to run a workload

656
00:29:35,130 --> 00:29:37,560
and have it be eight hours in Americas

657
00:29:37,560 --> 00:29:40,800
and then eight hours in Europe
and then eight hours in Asia,

658
00:29:40,800 --> 00:29:42,450
you could use a compute savings plan

659
00:29:42,450 --> 00:29:46,470
which allows you to get
a discount on any usage,

660
00:29:46,470 --> 00:29:51,470
any instance type in any region
to kind of get that discount

661
00:29:51,660 --> 00:29:54,000
and save save on your costs.

662
00:29:54,000 --> 00:29:57,840
That gets you up to 66%
off of the on-demand price.

663
00:29:57,840 --> 00:29:59,730
Or if you're, you know,

664
00:29:59,730 --> 00:30:02,220
less flexible and you
wanna have a certain,

665
00:30:02,220 --> 00:30:04,140
you wanna get a bigger discount but,

666
00:30:04,140 --> 00:30:07,290
you know, stay within a region
or within an instance family,

667
00:30:07,290 --> 00:30:10,983
you could use the instant savings plans.

668
00:30:12,120 --> 00:30:14,310
So with that, I'm gonna
turn it back over to Carlos

669
00:30:14,310 --> 00:30:15,270
to talk a little bit more

670
00:30:15,270 --> 00:30:18,060
about a couple different usage models.

671
00:30:18,060 --> 00:30:21,000
- So let's keep going
with the usage models

672
00:30:21,000 --> 00:30:22,383
and different trade-offs.

673
00:30:23,250 --> 00:30:26,790
We cover basically
deterministic performance

674
00:30:26,790 --> 00:30:29,940
and on-demand capacity
reservation and on-demand.

675
00:30:29,940 --> 00:30:33,780
There's one particular one
which is capacity blocks for ML

676
00:30:33,780 --> 00:30:36,360
that target GPU instances

677
00:30:36,360 --> 00:30:40,023
or accelerated compute
instance including training.

678
00:30:42,150 --> 00:30:44,616
These are the instance
that probably first thing,

679
00:30:44,616 --> 00:30:45,449
they're in high demand,

680
00:30:45,449 --> 00:30:48,000
and being high demand,
as you would expect,

681
00:30:48,000 --> 00:30:51,333
there will be in some cases,
a higher level of scarcity.

682
00:30:52,530 --> 00:30:55,620
Second part is that that
harder to be flexible on,

683
00:30:55,620 --> 00:30:56,853
especially for training.

684
00:30:58,620 --> 00:31:00,090
There's lots of improvements
that are going on

685
00:31:00,090 --> 00:31:02,790
on how you manage that
kind of flexibility.

686
00:31:02,790 --> 00:31:07,290
As in if you check for training
or libraries or frameworks,

687
00:31:07,290 --> 00:31:11,190
you'll find things like QT tile
or yaks or plenty of things

688
00:31:11,190 --> 00:31:12,023
that are compiled,

689
00:31:12,023 --> 00:31:15,720
time will try to basically
make the most of some DSL,

690
00:31:15,720 --> 00:31:18,060
some domain specific language or language

691
00:31:18,060 --> 00:31:19,920
and try to make sure that it compiles

692
00:31:19,920 --> 00:31:22,110
to a specific target platform.

693
00:31:22,110 --> 00:31:25,440
But the reality is that there's
a huge level of performance

694
00:31:25,440 --> 00:31:27,840
that you can get out of GUPs.

695
00:31:27,840 --> 00:31:31,140
And the level of performance
comes from maximizing

696
00:31:31,140 --> 00:31:34,110
and getting the low level things right.

697
00:31:34,110 --> 00:31:37,110
So in the case of GPUs like Nvidia,

698
00:31:37,110 --> 00:31:42,110
quite a lot of these
training is done using CUDA

699
00:31:42,120 --> 00:31:44,790
and maximizing and squeezing
down the bottlenecks

700
00:31:44,790 --> 00:31:46,410
to get the right price performance,

701
00:31:46,410 --> 00:31:49,500
which makes the whole
thing much more difficult

702
00:31:49,500 --> 00:31:52,053
to get that flexibility across instances.

703
00:31:53,520 --> 00:31:55,170
These instances are also expensive,

704
00:31:55,170 --> 00:31:58,170
which means that getting
into a saving plans

705
00:31:58,170 --> 00:31:59,670
might not be the right way to go

706
00:31:59,670 --> 00:32:01,740
without doing any experimentation.

707
00:32:01,740 --> 00:32:04,218
Capacity blocks is the construct

708
00:32:04,218 --> 00:32:08,130
that help get that kind of
block for reserve capacity

709
00:32:08,130 --> 00:32:10,920
from one to 26 weeks.

710
00:32:10,920 --> 00:32:12,630
So that's half a year.

711
00:32:12,630 --> 00:32:14,703
We extended that quite recently.

712
00:32:15,540 --> 00:32:17,040
And for that duration of time.

713
00:32:18,000 --> 00:32:19,620
When we apply that capacity block,

714
00:32:19,620 --> 00:32:21,030
when we request a capacity block,

715
00:32:21,030 --> 00:32:22,650
if we get that capacity block

716
00:32:22,650 --> 00:32:24,180
and on-demand capacity reservation,

717
00:32:24,180 --> 00:32:26,910
a reservation we'll put on top of it.

718
00:32:26,910 --> 00:32:27,780
So if at some point,

719
00:32:27,780 --> 00:32:30,930
for example, we are not
using that capacity blocks

720
00:32:30,930 --> 00:32:34,020
with our own account, we
can use those techniques

721
00:32:34,020 --> 00:32:36,420
that you just learned
from Brian to hand over

722
00:32:36,420 --> 00:32:37,497
to other parts of your organization

723
00:32:37,497 --> 00:32:39,273
and make the most of those.

724
00:32:40,260 --> 00:32:42,000
When do we use capacity blocks?

725
00:32:42,000 --> 00:32:43,350
As you would expect.

726
00:32:43,350 --> 00:32:45,810
Training, if you know that
there's gonna be a big exercise

727
00:32:45,810 --> 00:32:47,340
with training coming,

728
00:32:47,340 --> 00:32:50,670
that's the right place to
think about capacity blocks.

729
00:32:50,670 --> 00:32:54,120
Make sure that you have that
availability and that capacity.

730
00:32:54,120 --> 00:32:56,700
If you have also a campaign,
a seasonal campaign

731
00:32:56,700 --> 00:32:58,500
and that thing is coming,

732
00:32:58,500 --> 00:33:00,990
no product launches and
stuff like that, same thing.

733
00:33:00,990 --> 00:33:03,300
And obviously for some
level of experimentation

734
00:33:03,300 --> 00:33:05,010
you want to have that capacity

735
00:33:05,010 --> 00:33:06,300
over that experimentation

736
00:33:06,300 --> 00:33:09,420
without doing that saving
plan's commitment over time.

737
00:33:09,420 --> 00:33:10,590
So those are the places

738
00:33:10,590 --> 00:33:12,480
where you think about capacity blocks.

739
00:33:12,480 --> 00:33:16,350
You can get up to 64 instances
from one to 64 instances

740
00:33:16,350 --> 00:33:18,450
when you multiply that in GPU,

741
00:33:18,450 --> 00:33:22,200
that's 512 p6-200 GPUs, for example,

742
00:33:22,200 --> 00:33:24,930
which gives for the moment
that you put that together

743
00:33:24,930 --> 00:33:26,970
with a placement group,
cluster placement group,

744
00:33:26,970 --> 00:33:28,680
to get all the bandwidth that you need,

745
00:33:28,680 --> 00:33:33,120
gives for a really big
cluster for training.

746
00:33:33,120 --> 00:33:34,590
Makes sense?

747
00:33:34,590 --> 00:33:39,590
And obviously most of
these go on Linux systems,

748
00:33:40,140 --> 00:33:42,090
any of the Linux systems.

749
00:33:42,090 --> 00:33:46,020
The same concept of capacity blocks

750
00:33:46,020 --> 00:33:48,690
for ML applies also to SageMaker.

751
00:33:48,690 --> 00:33:53,610
So SageMaker training
plant is the equivalent of,

752
00:33:53,610 --> 00:33:57,300
it has some differences in the way

753
00:33:57,300 --> 00:33:59,970
that you can even apply
30 minute in advance.

754
00:33:59,970 --> 00:34:03,573
And if that capacity is there,
it will come directly to you.

755
00:34:04,590 --> 00:34:07,560
But it's used for pretty
much the same aspects.

756
00:34:07,560 --> 00:34:11,070
It will plug and integrate
within SageMaker within HyperPod.

757
00:34:11,070 --> 00:34:13,350
You can ask for ultra
cluster service as well.

758
00:34:13,350 --> 00:34:15,483
So you can get also those p6-200s

759
00:34:15,483 --> 00:34:17,580
that we were talking about.

760
00:34:17,580 --> 00:34:22,580
And that experience will be both exposed

761
00:34:22,740 --> 00:34:26,970
through the dashboard and through an API.

762
00:34:26,970 --> 00:34:28,500
So you can get access to any of those.

763
00:34:28,500 --> 00:34:30,810
You can as you would expect,

764
00:34:30,810 --> 00:34:34,050
use it for predictable access
to accelerated compute,

765
00:34:34,050 --> 00:34:37,980
as we were saying, including
Trainium 1 and Trainium 2.

766
00:34:37,980 --> 00:34:41,460
And primarily to make sure
that you have all that capacity

767
00:34:41,460 --> 00:34:44,550
and in the place where you
have the data, as I was saying,

768
00:34:44,550 --> 00:34:46,740
most of these workloads are less flexible

769
00:34:46,740 --> 00:34:49,110
that general workloads because of,

770
00:34:49,110 --> 00:34:52,590
first, the reasons of compiling
to the target architecture,

771
00:34:52,590 --> 00:34:54,420
but also the number,

772
00:34:54,420 --> 00:34:57,693
how much data you need to
process those training models.

773
00:34:58,800 --> 00:34:59,633
Right.

774
00:35:02,010 --> 00:35:04,230
Let's move to the other
side of the spectrum.

775
00:35:04,230 --> 00:35:05,850
You probably by now are acquainted

776
00:35:05,850 --> 00:35:07,260
with what the Spot instances are.

777
00:35:07,260 --> 00:35:10,263
I already mentioned in the
first part of the session.

778
00:35:11,130 --> 00:35:14,580
These are spare capacity that
we got in our data centers.

779
00:35:14,580 --> 00:35:17,427
They are sold with a step
discount of up to 90%.

780
00:35:17,427 --> 00:35:19,623
Typically 60, 70% is what you'll find.

781
00:35:20,730 --> 00:35:23,280
You can, coming in this part,

782
00:35:23,280 --> 00:35:24,870
people forget that we have also,

783
00:35:24,870 --> 00:35:27,690
if you can run opportunistic
workloads on GPUs,

784
00:35:27,690 --> 00:35:30,960
you can also access
GPUs on Spot instances.

785
00:35:30,960 --> 00:35:33,383
Now, the question is where
to find them obviously.

786
00:35:34,530 --> 00:35:36,630
If you haven't heard about
the Spot placement score,

787
00:35:36,630 --> 00:35:38,430
we'll talk about that in a second.

788
00:35:38,430 --> 00:35:40,620
But let's cover the basic
four Spot instances,

789
00:35:40,620 --> 00:35:44,160
which are mostly used with
CMs and R type of instances.

790
00:35:44,160 --> 00:35:47,370
So yes, kind of regular type of instances.

791
00:35:47,370 --> 00:35:50,730
The key for those usage is two things,

792
00:35:50,730 --> 00:35:55,350
managing that too many termination notice.

793
00:35:55,350 --> 00:35:57,300
So have some level of fault tolerance.

794
00:35:57,300 --> 00:36:00,510
And second, the key thing
will be being flexible.

795
00:36:00,510 --> 00:36:03,300
Being flexible across
many different dimensions.

796
00:36:03,300 --> 00:36:06,840
You can use dimensions
of the instant sizes,

797
00:36:06,840 --> 00:36:09,330
generations, types.

798
00:36:09,330 --> 00:36:13,140
Or you can be flexible also
on time shiftable workloads.

799
00:36:13,140 --> 00:36:17,460
So you can basically, typically
there's more capacity,

800
00:36:17,460 --> 00:36:19,023
spare capacity overnight.

801
00:36:20,100 --> 00:36:22,980
So you can basically move
some of the batch workloads

802
00:36:22,980 --> 00:36:24,870
to overnight to find the
capacity at the scale

803
00:36:24,870 --> 00:36:27,840
that you need at those lower prices.

804
00:36:27,840 --> 00:36:30,183
If you are flexible towards region,

805
00:36:31,200 --> 00:36:33,570
you can also move that
regional availability

806
00:36:33,570 --> 00:36:35,490
or find that regional availability

807
00:36:35,490 --> 00:36:37,713
using a Spot placement score.

808
00:36:39,180 --> 00:36:43,980
So let's cover the aspect
of fault tolerance first.

809
00:36:43,980 --> 00:36:46,680
We were talking about those interruptions.

810
00:36:46,680 --> 00:36:49,290
We have still that two
minute interruption notice

811
00:36:49,290 --> 00:36:51,993
which we are extending to
up to 30 minutes for GPUs.

812
00:36:53,880 --> 00:36:55,920
We also are providing something

813
00:36:55,920 --> 00:36:57,540
that is called a balancing recommendation,

814
00:36:57,540 --> 00:36:59,370
which is effectively a notification

815
00:36:59,370 --> 00:37:02,520
that we give in the worst
cases, two minutes in advance,

816
00:37:02,520 --> 00:37:04,200
like the Spot termination.

817
00:37:04,200 --> 00:37:07,650
But typically we tend to give
it 10, 15 minutes in advance,

818
00:37:07,650 --> 00:37:09,960
telling you that that
instance is gonna put

819
00:37:09,960 --> 00:37:11,940
at risk of termination.

820
00:37:11,940 --> 00:37:15,810
And in fact we embed the
replacement of that instance

821
00:37:15,810 --> 00:37:18,600
with some other instance
that looks similar

822
00:37:18,600 --> 00:37:21,963
in auto-scaling groups
or in Karpenter as well.

823
00:37:23,370 --> 00:37:26,940
You can even use fault injection service

824
00:37:26,940 --> 00:37:29,580
to create a termination,

825
00:37:29,580 --> 00:37:31,020
deliver a termination from your site

826
00:37:31,020 --> 00:37:33,810
as part of your testing
model so you can verify

827
00:37:33,810 --> 00:37:36,780
that your application
actually is fault tolerant

828
00:37:36,780 --> 00:37:38,430
towards these terminations.

829
00:37:38,430 --> 00:37:39,810
Verify how it works,

830
00:37:39,810 --> 00:37:42,783
and even build it as part of
your continuous integration.

831
00:37:45,120 --> 00:37:47,493
So I was saying, the key
thing is flexibility.

832
00:37:48,360 --> 00:37:50,010
And aside from flexibility,

833
00:37:50,010 --> 00:37:54,420
is that finding out which
dimension of flexibility

834
00:37:54,420 --> 00:37:56,040
might be key for you.

835
00:37:56,040 --> 00:37:57,420
I don't know how many of you have heard

836
00:37:57,420 --> 00:37:58,650
about the Spot placement score.

837
00:37:58,650 --> 00:38:01,110
We released it about two years,
two years and a half ago.

838
00:38:01,110 --> 00:38:03,450
Spot placement score is an API

839
00:38:03,450 --> 00:38:05,310
and it's in the dashboard as well.

840
00:38:05,310 --> 00:38:07,350
You can select a diversified configuration

841
00:38:07,350 --> 00:38:09,840
similar with the attribute-based
instance selection

842
00:38:09,840 --> 00:38:12,150
that we were just sawing before.

843
00:38:12,150 --> 00:38:13,950
You can also set up a target capacity.

844
00:38:13,950 --> 00:38:15,450
For example, I would like

845
00:38:15,450 --> 00:38:17,730
out of that attribute-based
instance selection example

846
00:38:17,730 --> 00:38:21,720
that I use, 10,000 instance
or 50,000 instances.

847
00:38:21,720 --> 00:38:24,720
It will give you a score from zero to 10.

848
00:38:24,720 --> 00:38:27,420
Be in nine, you're
gonna find that capacity

849
00:38:27,420 --> 00:38:29,970
and you're gonna get low
level of terminations

850
00:38:29,970 --> 00:38:31,050
or at least the opposite.

851
00:38:31,050 --> 00:38:32,610
You're probably not
gonna find that capacity

852
00:38:32,610 --> 00:38:35,610
and the frequency of termination
is gonna be quite bad.

853
00:38:35,610 --> 00:38:37,290
And it's gonna give you
effectively a number

854
00:38:37,290 --> 00:38:38,790
for the different regions

855
00:38:38,790 --> 00:38:40,590
that you are trying to get access to

856
00:38:42,105 --> 00:38:43,220
or the different availability zone.

857
00:38:43,220 --> 00:38:45,720
So if you have something
like a Spark workload

858
00:38:45,720 --> 00:38:47,100
that is very chatty and you are trying

859
00:38:47,100 --> 00:38:50,310
to avoid that inter
availability zone charges,

860
00:38:50,310 --> 00:38:53,100
it can tell you which is
the right availability zone

861
00:38:53,100 --> 00:38:56,013
for your analytic workloads, okay?

862
00:38:56,910 --> 00:38:58,680
You can always do that manual selection

863
00:38:58,680 --> 00:39:00,810
that we were talking about.

864
00:39:00,810 --> 00:39:05,250
So we've been covering all
the different usage models

865
00:39:05,250 --> 00:39:07,983
and now even how to put them at the scale.

866
00:39:08,882 --> 00:39:09,780
The reality is that most

867
00:39:09,780 --> 00:39:13,110
of our customers are gonna
have a mix of those models.

868
00:39:13,110 --> 00:39:15,420
We just released something
that I'm super proud

869
00:39:15,420 --> 00:39:18,180
of Brian's team on everything that they do

870
00:39:18,180 --> 00:39:21,304
on how we can bring and put
all of those things together.

871
00:39:21,304 --> 00:39:22,137
Brian, would you like to?

872
00:39:22,137 --> 00:39:23,010
- Sure, thank you.

873
00:39:25,680 --> 00:39:27,210
So like Carlos mentioned,

874
00:39:27,210 --> 00:39:30,280
we see all these different
usage models being used

875
00:39:32,651 --> 00:39:33,484
throughout organizations.

876
00:39:33,484 --> 00:39:34,740
And there are different reasons

877
00:39:34,740 --> 00:39:35,670
that we've gone over

878
00:39:35,670 --> 00:39:39,480
why you would want to use
those different usage models.

879
00:39:39,480 --> 00:39:41,970
And at a small scale it's pretty easy

880
00:39:41,970 --> 00:39:43,050
to manage the capacity.

881
00:39:43,050 --> 00:39:45,750
If you're just looking at a single region

882
00:39:45,750 --> 00:39:48,972
or a single account, it's not too bad,

883
00:39:48,972 --> 00:39:51,120
you can use the the console

884
00:39:51,120 --> 00:39:53,310
to see exactly what's going on.

885
00:39:53,310 --> 00:39:56,580
However, if you're in a large organization

886
00:39:56,580 --> 00:40:00,360
trying to manage capacity
across the entire organization,

887
00:40:00,360 --> 00:40:03,360
you're having to deal with
thousands of instance types,

888
00:40:03,360 --> 00:40:06,750
potentially thousands of accounts

889
00:40:06,750 --> 00:40:07,770
that you have to manage,

890
00:40:07,770 --> 00:40:09,240
hundreds of availability zone,

891
00:40:09,240 --> 00:40:13,170
dozens of regions

892
00:40:13,170 --> 00:40:17,343
and a mixture of all of
these different usage models.

893
00:40:18,360 --> 00:40:22,200
Now, AWS has a lot of different tools

894
00:40:22,200 --> 00:40:25,680
that kind of could help with this

895
00:40:25,680 --> 00:40:27,090
like cost and usage report,

896
00:40:27,090 --> 00:40:29,880
describe APIs or even CloudWatch.

897
00:40:29,880 --> 00:40:32,520
However, what we found when
talking to our customers

898
00:40:32,520 --> 00:40:36,090
is that they had to kind of
keep going back and forth

899
00:40:36,090 --> 00:40:37,890
between all of these different tools

900
00:40:37,890 --> 00:40:39,540
to kind of figure out what's going on.

901
00:40:39,540 --> 00:40:42,780
It could take 'em even hours
to kind of get a good picture

902
00:40:42,780 --> 00:40:44,700
of what their capacity looks like

903
00:40:44,700 --> 00:40:47,070
in order to be able to manage it.

904
00:40:47,070 --> 00:40:48,960
So back in October,

905
00:40:48,960 --> 00:40:50,700
we actually launched and released

906
00:40:50,700 --> 00:40:53,580
something called EC2 Capacity Manager,

907
00:40:53,580 --> 00:40:57,180
which kind of helps bring
all of those tools together

908
00:40:57,180 --> 00:41:01,200
into a single uniform view.

909
00:41:01,200 --> 00:41:05,280
So the idea is now you can see
all of your on-demand usage,

910
00:41:05,280 --> 00:41:08,430
your ODCR usage, capacity block usage,

911
00:41:08,430 --> 00:41:12,540
and even Spot data across
all of your regions

912
00:41:12,540 --> 00:41:16,950
and across all of your
AWS accounts in one place,

913
00:41:16,950 --> 00:41:19,080
and it's absolutely free.

914
00:41:19,080 --> 00:41:21,060
So we're really excited about this

915
00:41:21,060 --> 00:41:23,070
because we think it's gonna help you

916
00:41:23,070 --> 00:41:24,660
to get a better picture,

917
00:41:24,660 --> 00:41:27,310
to be more efficient and to be able

918
00:41:28,165 --> 00:41:30,810
to manage your capacity more effectively.

919
00:41:30,810 --> 00:41:33,160
So let's jump into a
little bit of a demo here.

920
00:41:34,770 --> 00:41:38,460
So this is the kind of the
Capacity Manager dashboard.

921
00:41:38,460 --> 00:41:40,590
And the idea with Capacity Manager

922
00:41:40,590 --> 00:41:43,620
is to always start at a really high level,

923
00:41:43,620 --> 00:41:46,500
kind of the 10,000 or 50,000 foot view,

924
00:41:46,500 --> 00:41:50,370
and then give you the tools
to kind drill into your data.

925
00:41:50,370 --> 00:41:52,590
So up top we have the dashboard

926
00:41:52,590 --> 00:41:55,770
and then all of those
other tabs are tabs for you

927
00:41:55,770 --> 00:41:57,240
to dive into your usage,

928
00:41:57,240 --> 00:42:00,180
to dive into your
reservations or your Spot.

929
00:42:00,180 --> 00:42:02,880
You can also set your date filters.

930
00:42:02,880 --> 00:42:04,500
So you can set up the date filters

931
00:42:04,500 --> 00:42:08,550
up to a few hours ago all
the way to 90 days ago.

932
00:42:08,550 --> 00:42:10,440
And you can have granularity of a,

933
00:42:10,440 --> 00:42:13,320
daily granularity if you
kind of wanna see trends.

934
00:42:13,320 --> 00:42:14,880
Or if you really wanna get into the weeds,

935
00:42:14,880 --> 00:42:17,133
you can see hourly granularity.

936
00:42:18,120 --> 00:42:21,450
Now within the dashboard
we have an overview section

937
00:42:21,450 --> 00:42:23,160
and you'll be able to see really quickly

938
00:42:23,160 --> 00:42:26,160
how well you're doing with
your capacity reservations.

939
00:42:26,160 --> 00:42:27,660
And when I say capacity reservations,

940
00:42:27,660 --> 00:42:30,660
I mean, both ODCR and capacity blocks.

941
00:42:30,660 --> 00:42:33,060
And you can see how efficiently

942
00:42:33,060 --> 00:42:36,870
you're actually using those reservations.

943
00:42:36,870 --> 00:42:39,510
And when I say efficiently
using or utilization,

944
00:42:39,510 --> 00:42:41,850
I mean is an instance on or off?

945
00:42:41,850 --> 00:42:45,903
I'm not talking about
like CPU utilization.

946
00:42:46,950 --> 00:42:49,530
You'll also be able to see
kind of the estimated cost

947
00:42:49,530 --> 00:42:52,470
of all of your underutilized
capacity reservations

948
00:42:52,470 --> 00:42:57,470
so that you can go in and see
where are you spending money

949
00:42:57,690 --> 00:43:00,333
that you're not getting the
best bang for your buck.

950
00:43:01,170 --> 00:43:02,940
You'll also be able to see usage

951
00:43:02,940 --> 00:43:06,300
and what percentage of your
usage is actually covered

952
00:43:06,300 --> 00:43:08,250
by a capacity reservation.

953
00:43:08,250 --> 00:43:09,483
And then even Spot.

954
00:43:10,680 --> 00:43:14,550
Normally, I'm gonna just
give a an aside here.

955
00:43:14,550 --> 00:43:15,960
This was one of our test accounts.

956
00:43:15,960 --> 00:43:17,940
So normally, you're gonna see a lot better

957
00:43:17,940 --> 00:43:20,010
than 44% utilization.

958
00:43:20,010 --> 00:43:21,000
You're gonna see a lot better

959
00:43:21,000 --> 00:43:24,210
than one hour of interruption time.

960
00:43:24,210 --> 00:43:26,820
That's just us testing things out.

961
00:43:26,820 --> 00:43:29,220
But you can also see, okay,
where am I getting interrupted

962
00:43:29,220 --> 00:43:33,360
and where am I getting good usage of Spot

963
00:43:33,360 --> 00:43:37,230
so that if I'm not getting
the runtimes that I want

964
00:43:37,230 --> 00:43:39,003
I can go add more flexibility.

965
00:43:40,830 --> 00:43:42,600
We'll also give you usage metrics.

966
00:43:42,600 --> 00:43:46,277
And you can break out
those usage metrics by vCPU

967
00:43:46,277 --> 00:43:49,110
in vCPU hours, by
instances, instance hours,

968
00:43:49,110 --> 00:43:51,240
and even estimated cost.

969
00:43:51,240 --> 00:43:52,920
You'll be able to see,
okay, what percentage

970
00:43:52,920 --> 00:43:54,960
of your on-demand usage is covered

971
00:43:54,960 --> 00:43:56,790
by a capacity reservation,

972
00:43:56,790 --> 00:43:59,430
what percentage is not covered
by a capacity reservation,

973
00:43:59,430 --> 00:44:02,250
and then what's also running on Spot.

974
00:44:02,250 --> 00:44:05,100
And then you can see kind of
the usage trends across time

975
00:44:05,100 --> 00:44:07,413
to see how things are are changing.

976
00:44:11,040 --> 00:44:11,970
You'll also be able to see

977
00:44:11,970 --> 00:44:14,490
kind of deep dive into reservation metrics

978
00:44:14,490 --> 00:44:16,620
and see what's used and not used.

979
00:44:16,620 --> 00:44:21,180
And then we'll have this
unused capacity section,

980
00:44:21,180 --> 00:44:25,157
which basically gives you
your top instance type

981
00:44:25,157 --> 00:44:27,460
and AZ kind of cross sections

982
00:44:29,640 --> 00:44:34,140
where you have the most
unused capacity reservations.

983
00:44:34,140 --> 00:44:37,293
And then finally, you'll be
able to actually track out Spot.

984
00:44:39,420 --> 00:44:41,670
So let's look at what it
looks like to deep dive

985
00:44:41,670 --> 00:44:42,660
into one of these things.

986
00:44:42,660 --> 00:44:44,340
So say I wanna, you know,

987
00:44:44,340 --> 00:44:46,620
I have some reservations
that I'm not using

988
00:44:46,620 --> 00:44:47,910
as efficiently as possible

989
00:44:47,910 --> 00:44:51,660
as I'm looking across
all of my organization,

990
00:44:51,660 --> 00:44:53,880
I can click into reservations

991
00:44:53,880 --> 00:44:55,590
and kind of see some of the same things.

992
00:44:55,590 --> 00:44:57,240
So we see the date filter,

993
00:44:57,240 --> 00:45:00,660
we see new things like dimension
filter and aggregations.

994
00:45:00,660 --> 00:45:04,740
The aggregations is where all
of your data is going to lie.

995
00:45:04,740 --> 00:45:06,540
And right now, like I said,

996
00:45:06,540 --> 00:45:09,990
we start at the top and
then let you dive deeper.

997
00:45:09,990 --> 00:45:13,020
And we'll go into that in one second here.

998
00:45:13,020 --> 00:45:15,270
But you also will see different statistics

999
00:45:15,270 --> 00:45:18,633
about your capacity
reservations and then trends.

1000
00:45:19,770 --> 00:45:21,300
So say now I have, you know,

1001
00:45:21,300 --> 00:45:23,940
715 reservations is a lot

1002
00:45:23,940 --> 00:45:28,410
for me to kind of think
about or grok in my head.

1003
00:45:28,410 --> 00:45:31,650
So if I wanna kind of break
out those reservations,

1004
00:45:31,650 --> 00:45:34,110
I could choose something
like instance family

1005
00:45:34,110 --> 00:45:36,450
or availability zone.

1006
00:45:36,450 --> 00:45:37,740
And then when I do that,

1007
00:45:37,740 --> 00:45:40,230
it breaks everything out into,

1008
00:45:40,230 --> 00:45:43,440
now I have my instance family
and availability zone there

1009
00:45:43,440 --> 00:45:44,850
so I can see exactly,

1010
00:45:44,850 --> 00:45:49,850
okay, I have four reservations
of m5 in use1-az1,

1011
00:45:50,550 --> 00:45:53,070
and now it's a lot easier
for me to kind of go and dive

1012
00:45:53,070 --> 00:45:56,280
into each one of those reservations.

1013
00:45:56,280 --> 00:45:57,960
You can also filter the reservation.

1014
00:45:57,960 --> 00:46:00,344
So if I only wanna look at m5,

1015
00:46:00,344 --> 00:46:02,010
I could click that little plus button,

1016
00:46:02,010 --> 00:46:06,390
or I could dive even deeper
into the reservations

1017
00:46:06,390 --> 00:46:09,480
and kind of apply those filters and see,

1018
00:46:09,480 --> 00:46:10,620
okay, what are statistics?

1019
00:46:10,620 --> 00:46:12,870
It's about just that line item?

1020
00:46:12,870 --> 00:46:16,980
See different trends about
what's being used or not used.

1021
00:46:16,980 --> 00:46:20,430
And then even dive into
specific reservation IDs.

1022
00:46:20,430 --> 00:46:22,440
And if I wanted to, I could even,

1023
00:46:22,440 --> 00:46:23,880
I'm not gonna subject you to that,

1024
00:46:23,880 --> 00:46:27,630
but you could even click into
the individual reservation IDs

1025
00:46:27,630 --> 00:46:30,363
and actually make changes
to those reservations.

1026
00:46:32,070 --> 00:46:33,510
Now, there's a few other features

1027
00:46:33,510 --> 00:46:34,650
that I just wanted to point out

1028
00:46:34,650 --> 00:46:36,810
because I know we're
running short on time.

1029
00:46:36,810 --> 00:46:38,130
One is usage.

1030
00:46:38,130 --> 00:46:40,530
So the usage tab works very similarly

1031
00:46:40,530 --> 00:46:43,260
to the reservations tab

1032
00:46:43,260 --> 00:46:44,640
where you would be able to see,

1033
00:46:44,640 --> 00:46:46,620
okay, your total usage trends,

1034
00:46:46,620 --> 00:46:48,510
what's covered by a reservation,

1035
00:46:48,510 --> 00:46:50,130
what's not covered by a reservation,

1036
00:46:50,130 --> 00:46:51,840
and even your spot usage.

1037
00:46:51,840 --> 00:46:53,250
And you would, same thing,

1038
00:46:53,250 --> 00:46:55,593
you could break it out
by instance family, AZ,

1039
00:46:56,430 --> 00:46:58,323
count ID, whatever you'd like.

1040
00:46:59,670 --> 00:47:01,500
Then you would also have the Spot,

1041
00:47:01,500 --> 00:47:03,660
and this is where you
can kind of dive into

1042
00:47:03,660 --> 00:47:06,420
some of your runtime
metrics so you can find out,

1043
00:47:06,420 --> 00:47:08,850
okay, where do I need
to spend some more time

1044
00:47:08,850 --> 00:47:11,160
making my Spot fleets more flexible

1045
00:47:11,160 --> 00:47:12,810
so that I can get better runtime?

1046
00:47:13,680 --> 00:47:15,930
And then if you wanted to,

1047
00:47:15,930 --> 00:47:20,040
so this is available through
the dashboard, through APIs.

1048
00:47:20,040 --> 00:47:21,870
Or if you wanna set up a data export,

1049
00:47:21,870 --> 00:47:25,110
which is basically just an
hourly dump of all of your data,

1050
00:47:25,110 --> 00:47:28,050
you can set it up to go
into your an S3 bucket,

1051
00:47:28,050 --> 00:47:30,690
which is the only thing that
you would ever have to pay for

1052
00:47:30,690 --> 00:47:35,690
with Capacity Manager, was
the storage cost for S3.

1053
00:47:35,850 --> 00:47:40,680
But you can have data
export set up to every hour,

1054
00:47:40,680 --> 00:47:41,790
just give you all of your data

1055
00:47:41,790 --> 00:47:44,070
and then you can use
something like Athena,

1056
00:47:44,070 --> 00:47:47,490
AWS Athena or AWS Glue
to do transformations

1057
00:47:47,490 --> 00:47:48,663
on that if you'd like.

1058
00:47:49,920 --> 00:47:52,680
So kind of wrapping it all together,

1059
00:47:52,680 --> 00:47:55,590
Capacity Manager is a fantastic way

1060
00:47:55,590 --> 00:47:59,100
for you to take all of
the different things

1061
00:47:59,100 --> 00:48:00,810
that we've talked about today

1062
00:48:00,810 --> 00:48:02,610
and wrap 'em up into a single bow

1063
00:48:02,610 --> 00:48:06,870
so that you can make sure
that your organization

1064
00:48:06,870 --> 00:48:09,540
is using everything as
efficiently and effectively

1065
00:48:09,540 --> 00:48:11,160
as you possibly can.

1066
00:48:11,160 --> 00:48:13,980
You can either set it
up as an account level,

1067
00:48:13,980 --> 00:48:16,980
which would just mean all
your data in a single account,

1068
00:48:16,980 --> 00:48:19,200
or if you have access to the payer account

1069
00:48:19,200 --> 00:48:22,770
or a delegated admin of the payer account,

1070
00:48:22,770 --> 00:48:24,780
you can set it up at the org level.

1071
00:48:24,780 --> 00:48:27,690
And so that would be kind
of the call to action today.

1072
00:48:27,690 --> 00:48:31,770
It's completely free to go
and set up Capacity Manager

1073
00:48:31,770 --> 00:48:33,720
within your accounts,
within your organization

1074
00:48:33,720 --> 00:48:36,510
because it's gonna give
you a much better view

1075
00:48:36,510 --> 00:48:39,810
of what's going on without
having to kind of go to all the,

1076
00:48:39,810 --> 00:48:42,543
you know, 10 different
tools to figure it out.

1077
00:48:43,680 --> 00:48:46,140
So just to kind of wrap
everything up here,

1078
00:48:46,140 --> 00:48:48,990
some of the key takeaways
that we wanna make sure

1079
00:48:48,990 --> 00:48:50,490
that we highlight on,

1080
00:48:50,490 --> 00:48:54,933
one is, you know, EC2 has a
bunch of different usage models,

1081
00:48:56,220 --> 00:49:00,360
not one, there's no silver
bullet or singular usage model

1082
00:49:00,360 --> 00:49:02,253
that's gonna work best for everybody.

1083
00:49:03,090 --> 00:49:05,910
Oftentimes we see most
organizations use all

1084
00:49:05,910 --> 00:49:06,990
of the different usage models

1085
00:49:06,990 --> 00:49:09,060
because they have different workloads

1086
00:49:09,060 --> 00:49:10,740
that they need to optimize.

1087
00:49:10,740 --> 00:49:14,670
And so it's gonna be a
balance between the two

1088
00:49:14,670 --> 00:49:15,660
or between all of them.

1089
00:49:15,660 --> 00:49:19,560
And finding that balance
is incredibly important.

1090
00:49:19,560 --> 00:49:20,790
Second thing is,

1091
00:49:20,790 --> 00:49:24,360
if you want to kind of continue
to tune things like cost

1092
00:49:24,360 --> 00:49:27,150
and availability, you
can add savings plans,

1093
00:49:27,150 --> 00:49:29,490
which if you're willing to
commit for that one-year

1094
00:49:29,490 --> 00:49:32,670
or three-year term, you
can get large discounts

1095
00:49:32,670 --> 00:49:35,430
on your on-demand usage.

1096
00:49:35,430 --> 00:49:38,040
Or if you add flexibility to workload,

1097
00:49:38,040 --> 00:49:43,040
you can improve your
capacity availability.

1098
00:49:43,320 --> 00:49:47,940
And three, if you wanna manage
your EC2 instances at scale

1099
00:49:47,940 --> 00:49:51,720
or your EC2 capacity at
scale, use Capacity Manager.

1100
00:49:51,720 --> 00:49:52,770
It's really easy.

1101
00:49:52,770 --> 00:49:55,290
And so wanna say thank you so much.

1102
00:49:55,290 --> 00:49:56,820
Sorry for all the technical difficulties,

1103
00:49:56,820 --> 00:49:58,530
but really appreciate your time.

1104
00:49:58,530 --> 00:50:00,993
If you wanna connect
with Carlos or myself,

1105
00:50:01,890 --> 00:50:03,360
here's our LinkedIn profiles.

1106
00:50:03,360 --> 00:50:04,193
Thank you very much.

1107
00:50:04,193 --> 00:50:05,433
- [Carlos] Thanks, everyone.

1108
00:50:05,433 --> 00:50:07,385
(audience applauding)

