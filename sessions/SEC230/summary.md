# AWS re:Invent 2025 会议总结：AWS Secrets Manager 管理外部密钥功能

## 会议概述

本次 AWS re:Invent 2025 分组会议重点介绍了 AWS Secrets Manager 的重要功能扩展——管理外部密钥（Manage External Secrets）。演讲者 Ritesh Desai 来自 AWS，与 Fannie Mae 的 Raj Paraj 共同展示了这一新功能如何解决企业在管理第三方密钥时面临的挑战。

传统上，AWS Secrets Manager 主要用于原生管理和轮换 AWS 服务的密钥，但客户在管理第三方服务（如 Salesforce API 密钥）时面临诸多困难：需要编写自定义 Lambda 函数、承担轮换失败导致的业务中断风险、持续维护成本高昂等。新推出的管理外部密钥功能将 AWS 原生密钥的管理体验扩展到第三方服务，实现了零开销的自动化轮换，消除了人工干预的安全风险。

Fannie Mae 作为试点客户，分享了他们的实际应用场景和显著成果。该功能目前已与三家合作伙伴集成（包括 Salesforce），并计划根据客户反馈持续扩展合作伙伴生态系统。通过集中化管理、自动化合规、多区域复制和完整的审计追踪，这一功能大幅提升了企业的安全态势和运营效率。

## 详细时间线

00:00 - 开场介绍
- 演讲者 Ritesh Desai 欢迎参会者，感谢大家在周四下午参加会议
- 介绍会议主题：AWS Secrets Manager 从管理 AWS 密钥扩展到管理第三方/外部密钥
- 介绍联合演讲嘉宾：Fannie Mae 的 Raj Paraj

01:30 - 会议议程概览
- 从客户问题出发，介绍解决方案的思考过程
- 展示管理外部密钥功能的推出
- Fannie Mae 客户案例分享
- 高层工作流程演示和实际操作演示

02:45 - 客户面临的问题
- 第三方密钥（如 Salesforce API 密钥）难以设置定期轮换
- 需要为每个第三方服务构建单独的 Lambda 函数
- 存在轮换可用性风险：密钥可能在 Secrets Manager 中轮换但未在源系统更新，导致业务中断
- Lambda 函数的持续维护成本和安全更新负担

04:20 - AWS 的解决方案思路
- 借鉴 AWS 原生服务的集成模式（如 RDS 实例可通过勾选复选框自动存储和轮换密钥）
- 与客户和合作伙伴合作数月，最终开发出管理外部密钥功能
- 上周正式发布，采用渐进式方法，初期集成三家合作伙伴
- Fannie Mae 作为试点客户提供了宝贵反馈

06:00 - Fannie Mae 公司介绍
- Raj Paraj 介绍 Fannie Mae：1938 年由美国国会特许成立
- 为美国借款人和租户提供可靠且可负担的抵押贷款信贷来源
- 自 AWS Secrets Manager 推出以来一直是合作伙伴

07:15 - Fannie Mae 面临的痛点
- 管理第三方密钥需要编写自定义函数和调度任务
- 增加了复杂性和维护负担
- 手动流程效率低下，存在业务中断风险
- 密钥轮换失败或未及时更新会导致严重业务影响
- 需要投入大量人力资源管理密钥
- 多个第三方集成带来的管理开销

09:30 - Fannie Mae 期望的功能
- 集中化的密钥入职和管理能力
- 为应用团队提供自助服务能力
- 可靠且安全的密钥获取方式
- 无缝的密钥轮换，最小化业务中断
- 多区域密钥复制支持（避免跨区域访问密钥）
- 完整的合规性和治理能力

11:45 - 实施成果
- 运营效率提升：简化了密钥入职和管理流程，消除了手动流程
- 自动化合规：基于策略自动轮换密钥，人员不再知晓密钥内容，降低安全风险
- 集中化可见性：统一管理内部和外部密钥
- 安全态势改善：实现系统到系统的密钥管理，人员脱离密钥知识循环
- 减少潜在业务中断：确保密钥轮换不会导致应用程序故障

14:30 - 技术实现细节
- 与 AWS 服务集成的主要区别：需要初始配置以定义合作伙伴的预定义格式
- 配置完成后，工作流程与现有 Secrets Manager 完全相同
- 保留所有现有优势：KMS 信封加密、Security Hub 集成、CloudFormation 集成、Config 集成
- 所有操作在 CloudTrail 中记录审计追踪

16:45 - 密钥检索工作流程
- 客户应用程序与 Secrets Manager 交互（支持 CLI、CDK、SDK、Secrets Manager Agent）
- 后台运行经 AWS 和合作伙伴验证的轮换代码（非 Lambda 函数）
- AWS 代入客户角色，在 ISV 端执行轮换
- 先在资源端（ISV 侧）更新密钥，确认工作正常后再更新 Secrets Manager
- 将应用程序停机风险转移给 AWS 承担

19:20 - 核心优势
- 零轮换开销：完全托管的轮换体验
- 可信合作伙伴生态系统：利用 AWS 成熟的合作伙伴验证框架
- 客户可继续使用 Secrets Manager 轮换功能

20:30 - 控制台演示开始
- 展示已创建的管理员密钥
- 进入"管理外部密钥"新功能区域
- 显示三个集成合作伙伴（包括 Salesforce）

21:15 - 配置预定义格式
- 选择 Salesforce 作为示例
- 配置元数据和预定义格式：consumer key、secret、base URI 等
- 这些项目已被识别为必需的元数据字段

22:30 - 创建密钥流程
- 遵循组织的命名规范
- 关键特性：轮换功能默认自动启用（与普通密钥不同）
- 使用之前创建的管理员密钥进行轮换
- 保存并创建密钥

24:00 - 版本管理演示
- Secrets Manager 在后台保留数百个密钥版本
- 初始版本标记为"E01"，状态为"AWS_CURRENT"
- 密钥创建后立即触发自动轮换
- 演示刷新页面，显示轮换过程：E01 仍为当前版本，新版本正在创建
- 新版本切换为"CURRENT"状态，完成轮换

25:45 - 安全优势说明
- 即使有人手动处理密钥并复制粘贴，密钥在创建后立即轮换
- 新密钥不再为人所知，减少人为可见性，提升安全性

26:30 - 结束与资源
- 展示 QR 码供参考
- 鼓励客户如需其他合作伙伴集成，联系 SA 或 TAM
- 提及相关技术文档已发布
- 感谢参会者