# AWS re:Invent 2025 DDoS防护会议总结

## 会议概述

本次会议由AWS Shield响应团队负责人Elena Wannick主讲，高级专家Brian Van Hook和Figma软件工程师Bashar al-Rawi共同参与。会议深入探讨了AWS如何将DDoS攻击转化为防御优势，展示了AWS DDoS防护系统的内部运作机制，以及如何将DDoS转化为实际的威胁情报。

会议采用"360度DDoS飞轮"方法论，从威胁行为者分析、遥测数据收集、威胁情报生成、AWS服务集成到最终的威胁行为者破坏等多个维度全面阐述了AWS的DDoS防护策略。作为300级别的技术会议，内容深入到AWS服务的集成细节和最佳实践。

## 详细时间线与关键要点

### 0:00-10:00 会议开场与DDoS威胁演进历史
- Elena Wannick介绍团队成员和会议议程
- 使用天气类比解释AWS威胁情报方法：从小雨到暴风雨的演进过程
- DDoS威胁类型概述：反射放大攻击、代理驱动攻击、僵尸网络攻击
- DDoS防护技术演进时间线：
  - 2000年代中期：反射放大攻击，手动编辑IP表
  - 2010年代：僵尸网络兴起，部署数据包清洗硬件
  - 2012年：引入自动化缓解措施
  - 2015年：WAF和Shield发布
  - 2020年代：HTTP代理洪水攻击，推出Shield应用层自动缓解
  - 2025年：WAF反DDoS规则组发布

### 10:00-25:00 AWS威胁情报收集与分析
- "360度DDoS飞轮"概念介绍：威胁行为者→遥测数据→威胁情报→服务集成→威胁破坏
- AWS网络规模数据：
  - 平均峰值速率：60TB/秒
  - 数十亿数据包/秒
  - 1.05亿请求/秒
- 多层检测系统架构：
  - 网络层检测系统：监控顶级流量和协议层攻击
  - 边缘服务检测：Global Accelerator、CloudFront、ELB等
  - WAF检测组件：请求头、请求组合分析
  - 蜜罐系统(Madpot)：直接威胁行为者交互检测
- 年度检测数据：70万+网络层检测，90万+应用层连接检测

### 25:00-35:00 威胁情报生成与已知攻击者列表
- 威胁情报面临的三大挑战：
  - 海量数据处理需求
  - IP地址重用问题（开放代理、受损路由器）
  - 非恶意流量误报（闪存人群效应）
  - 受损主机修复后的状态变化
- Madpot蜜罐系统详解：
  - 运行在EC2实例上的AWS蜜罐群
  - 伪装成易受攻击服务
  - 自动下载、引爆和分析恶意软件
  - 渗透僵尸网络获取DDoS命令
- 两大已知攻击者列表：
  - L7应用层列表（2022年创建）：针对HTTP/HTTPS流量
  - 网络层列表（2025年新增）：针对字节和数据包重型攻击

### 35:00-45:00 AWS服务中的DDoS防护集成
- Brian Van Hook接手讲解AWS服务集成
- 非HTTP工作负载防护最佳实践：
  - 使用私有子网减少互联网暴露
  - 自动扩展机制应对未完全缓解的洪水攻击
  - Network Load Balancer智能负载均衡
  - AWS Global Accelerator推荐使用
- Global Accelerator内置DDoS缓解措施：
  - 应用层和网络层已知攻击者速率限制
  - SYN洪水阻断（SYN代理技术）
  - PUSH ACK洪水防护
  - 可疑UDP流量阻断
- Shield Advanced保护：敏感度提高2倍的缓解阈值

### 45:00-55:00 HTTP工作负载防护与WAF反DDoS规则组
- HTTP工作负载架构推荐：
  - CloudFront CDN服务
  - VPC Origins新功能：私有资源访问
  - Application Load Balancer配置
- AWS WAF新功能详解：
  - WAF规则标签系统：为请求添加元数据标签
  - 挑战操作(Challenge Action)：区分人类和机器人流量
  - 反DDoS托管规则组：
    - 15分钟内建立基线，每5秒更新
    - 三级可疑度评分：低、中、高
    - 三个核心规则：Challenge all during event、Challenge DDoS requests、DDoS requests
- 高级WAF配置策略：
  - DDoS IP列表规则
  - 基于速率的规则分层配置
  - 标签组合使用避免误报和漏报

### 55:00-59:00 Figma案例研究与最佳实践总结
- Bashar分享Figma实战经验：
  - 1300万月活用户，95%财富500强企业使用
  - 攻击模式：每周多次，持续几分钟，流量比正常状态高数个数量级
  - 防护策略演进：WAF日志分析→多层速率限制→挑战机制→后端隔离→代理层集中化
  - 自定义Go过滤器：公平共享机制，Cookie签名验证
  - 实际案例：数千万请求/分钟的攻击成功防护
- Elena总结威胁破坏工作：与执法部门合作拆除僵尸网络基础设施
- Brian最终最佳实践建议：
  - 自动扩展以吸收意外流量峰值
  - 跨整个集群负载均衡
  - 利用AWS边缘位置内置DDoS缓解
  - 最小化互联网暴露
  - 使用Shield Advanced和WAF反DDoS规则组保护