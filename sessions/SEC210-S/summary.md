# AWS re:Invent 2025 会议总结：保护现代Web应用程序、API和生成式AI环境

## 会议概述

本次会议由Check Point的Eduardo Rodondo Garcia（全球云安全架构负责人）和Rolando Panz（15年资深专家）共同主讲，重点介绍了如何在云环境和生成式AI时代保护现代Web应用程序和API。

会议强调了三个核心要点：首先，Check Point CloudGuard WAF采用基于AI的方法，完全摒弃了传统的基于签名和规则的防护机制；其次，提供多种灵活的部署和消费模式以适应不同组织需求；第三，针对生成式AI应用提供创新的安全防护方案，特别是与AWS Bedrock和Agent等服务的集成。

演讲者指出，随着云计算和生成式AI的快速发展，传统的安全方法已经不再适用。现代Web应用的核心是API，而API已成为攻击者的主要目标。Check Point通过双层AI引擎提供零日漏洞防护，在Log4Shell漏洞爆发时就已经提前保护了客户，而竞争对手需要等到漏洞公开后才能发布签名更新。会议还展示了BBVA等全球金融机构的成功案例，证明了该解决方案在实际生产环境中的有效性。

## 详细时间线与关键要点

[00:00 - 02:30] 开场与会议目标
- 欢迎参会者，介绍会议主题：保护现代Web应用、API和生成式AI环境
- 强调云环境为企业创新提供了强大能力，但同时也带来了新的安全挑战
- 明确三大核心议题：AI驱动的WAF、灵活的部署模式、生成式AI应用安全

[02:30 - 04:00] 演讲者介绍与行业观察
- Eduardo Rodondo Garcia介绍自己担任Check Point全球云安全架构负责人
- Rolando Panz分享15年从业经验，观察客户从本地迁移到云端的转变
- 对比去年和今年re:Invent：去年客户对AI还在探索阶段，今年已经普遍部署了生成式AI解决方案
- 当前客户关注点转向：如何保护已部署的生成式AI应用

[04:00 - 07:30] CloudGuard WAF的独特之处：摒弃签名机制
- 核心差异化：完全不使用签名和基于规则的方法
- 采用双层AI机器学习引擎架构
- 第一层AI：攻击指标分析引擎，使用数百万HTTP流量（合法和恶意）训练模型
- 能够快速检测整个HTTP请求中的攻击指标，而非匹配特定签名模式
- 创建评分机制识别潜在攻击

[07:30 - 10:00] 第二层AI：上下文分析引擎
- 第二层AI提供针对特定客户环境的上下文信息
- 分析应用程序基础设施，了解应用行为模式
- 分析用户流量行为和群体用户行为
- 创建查询机制，提供零日防护和极低误报率
- 解决传统WAF中AI仅用于调优建议的问题，将调优工作交给AI自动处理

[10:00 - 13:00] 性能指标与行业对比
- 检测率达到99.4%，误报率低于1%
- 通过开放WAF对比项目验证：发起超过100万次HTTP请求测试
- 测试基于700个不同网站的真实流量，涵盖14个类别（搜索引擎、旅游、电商等）
- 竞争对手最佳表现：检测率88.6%，误报率8.7%
- 无需调优或微调签名即可达到最佳效果

[13:00 - 15:30] 客户案例：电商公司实战
- 大型电商客户遭受攻击：攻击者创建虚假账户使用被盗信用卡
- 客户开箱即用，零调优直接启用防护模式
- 两周内仅遇到一个误报（与客户邮寄地址中的特殊字符相关）
- 证明了开箱即用的高检测率和低误报率

[15:30 - 18:00] 零日漏洞防护：Log4Shell案例
- 2021年12月9日Log4Shell漏洞爆发
- Check Point客户在漏洞公开前数周就发现日志中的JNDI远程代码执行攻击
- CloudGuard WAF从零日就开始保护客户
- 竞争对手需要开发签名并推送补丁，防护时间为零日+1天
- 对于漏洞变种（如Spring4Shell）也能持续提供保护

[18:00 - 21:00] 安全功能概览
- 与AWS合作构建WAF即服务
- 集成AWS Shield Advanced提供DDoS防护
- 机器人防护：区分人类和机器人流量
- 速率限制：针对API和Web应用的URI级别限制
- IPS引擎：从安全网关移植HTTP/HTTPS相关部分
- 威胁云：集成威胁情报数据湖和文件信誉引擎
- API发现：提供API可见性

[21:00 - 25:00] 机器学习引擎工作原理
- 类比机场安全检查：传统WAF如同"一刀切"的安全流程
- 大多数基于签名的解决方案使用OWASP核心规则集（约585个签名）
- CloudGuard WAF方法：为每个交易定制安全流程
- 第一阶段：攻击指标分析，将已知威胁分解为微签名（指标）
- 超过8000种不同类型的指标标记恶意流量

[25:00 - 28:30] 上下文分析引擎详解
- 第一层AI：监督学习模型，由威胁研究团队训练，持续更新
- 第二层AI：无监督学习模型，学习客户的Web应用特性
- 分析四个维度：用户行为、群体行为、可信用户（QA团队、开发人员）、应用内容（字段类型和值）
- Log4Shell案例：JNDI负载不是Web应用的正常负载，系统能够识别异常

[28:30 - 32:00] 低误报率实现机制：批量请求案例
- 场景：API从单个请求升级到批量请求功能
- 批量请求的数据结构变化可能触发SQL注入签名
- 评分过程：初始风险评分约600（高风险）
- 用户行为分析：该用户过去无恶意行为，降低风险评分
- 群体行为分析：多个用户出现相似标记，表明是新功能而非攻击
- 可信用户分析：QA工程师也出现相似行为
- 应用内容分析：与其他用户行为一致
- 最终风险评分降至100以下，允许流量通过

[32:00 - 35:00] API安全的重要性
- 机器学习已经为API提供基础保护
- 但API安全需要更多功能
- 需要精确可见性：自动发现所有交易、URI和用户
- 自动映射应用结构：多少API服务于特定应用、哪些面向互联网、哪些面向内部
- 安全原则：无法看到的就无法保护

[35:00 - 38:00] API发现与Schema管理
- 为每个API提供推荐Schema
- 开发人员专注于编码正确的值和安全方面，无需担心Schema
- 检测偏离Schema的流量并实时阻止
- 识别影子API、未管理和未记录的API
- API分类：已记录、未记录、已弃用、休眠状态
- 检测新API并保留历史版本记录

[38:00 - 40:00] 数据保护与合规
- 识别哪些API处理私有信息或敏感数据
- 防止敏感信息数据泄露
- 识别令牌和密钥的安全漏洞
- 验证令牌和密钥未过期且有效
- 支持上传自定义API Schema
- 为安全团队提供与开发团队沟通的工具

[40:00 - 44:00] 部署选项：WAF即服务
- 与AWS合作，利用AWS基础设施
- 使用AWS EKS环境和CloudFront
- 集成AWS Shield Advanced提供DDoS防护
- 15分钟内快速部署
- 通过CloudFront管理所有证书
- 利用AWS全球区域：亚洲、欧洲、美国等地的PoP（接入点）
- 基于采用情况持续推出新PoP
- 支持基础设施即代码部署

[44:00 - 47:00] 其他部署模式
- 小型纳米代理：可部署在任何位置
- 插件模式：集成到现有Nginx或Kong反向代理
- VM网关：从AWS Marketplace下载，部署为网关或自动扩展组
- Docker实例：与App Runner等服务并行部署容器
- Fargate部署：轻松实现应用程序级别的安全
- EKS部署：作为Ingress Controller Pod部署，控制南北向流量

[47:00 - 50:00] 客户案例：BBVA银行
- BBVA是全球金融机构
- 面临挑战：将遗留应用迁移到云端
- 需求1：保护遗留应用而无需打补丁，提供零日防护
- 需求2：跨不同部署方式快速扩展
- 需求3：无需大量时间微调即可获得可见性
- 部署结果：成功满足所有需求
- 意外发现：识别出仍易受Log4j攻击的工作负载并成功阻止

[50:00 - 52:00] 生成式AI安全的新挑战
- 问题：现有机器学习方法是否足以保护生成式AI应用？
- 场景：从基于API的聊天机器人迁移到基于LLM的聊天机器人
- 答案：不够充分
- AI不是万能工具，不同AI技术和模型需要适应具体业务和技术场景

[52:00 - 56:00] 传统Web应用 vs 生成式AI应用
- 传统Web应用：用户操作预定义（登录、更新信息、下载文件等）
- 操作对应特定数据库交互（删除、创建、更新）
- 生成式AI应用：用户交互开放式
- 不受UI限制，通过自然语言提示与Agent/LLM交互
- 同一任务可以用不同方式表达
- 示例：创建报价、上传信息、生成摘要、通过RAG验证CRM、通过MCP连接外部竞争对手信息

[56:00 - 59:00] 攻击向量的根本变化
- 传统Web应用：代码是可执行文件，通过代码攻击
- 需要获取脚本或代码来创建攻击
- 生成式AI应用：自然语言是可执行文件
- 用户通过提示与Agent交互
- Agent之间相互交互
- Agent与RAG或MCP交互（直接和间接提示）
- 语言本身成为可执行文件和攻击向量

[59:00 - 结束] 总结与展望
- 强调生成式AI安全需要全新的安全范式
- 传统WAF方法无法完全应对生成式AI的安全挑战
- 需要在架构的正确位置应用正确的安全技术
- Check Point持续创新以应对不断演变的威胁环境