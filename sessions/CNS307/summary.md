# AWS re:Invent 2025 会议总结：使用 Amazon ECS 和 AWS Fargate 构建事件驱动架构

## 会议概述

本次技术分享会由 AWS 首席开发者倡导者 Eric Johnson 和容器专家 Matt Meckes 主讲，主题为如何使用 Amazon ECS 和 AWS Fargate 构建事件驱动架构（EDA）。会议通过一个名为 Sarah 的开发团队负责人在黑色星期五遭遇系统崩溃的案例，深入探讨了从同步微服务架构向事件驱动架构转型的必要性和实施方法。

演讲者强调，许多系统故障并非由于容器技术本身的问题，而是由于紧耦合的同步架构设计导致的。通过引入事件代理和异步处理模式，可以显著提升系统的可扩展性、弹性和敏捷性。会议详细介绍了多种 EDA 模式，包括长运行容器、基于事件的容器处理，以及与 AWS 各种服务的集成方案。

## 详细时间线与关键要点

### 0:00-5:00 开场介绍
- Eric Johnson 和 Matt Meckes 自我介绍
- 确立会议规则和互动方式
- 调查听众对 ECS 和事件驱动架构的使用情况

### 5:00-15:00 问题场景设定
- 介绍 Sarah 案例：开发团队在黑色星期五遭遇系统崩溃
- 分析同步微服务架构的问题：紧耦合导致级联故障
- 对比同步和异步架构模式的优缺点
- 引入事件驱动架构的基本概念："某事发生，我们做出反应"

### 15:00-25:00 计算平台选择
- Matt 讲解为什么选择继续使用 ECS 而非切换到 Lambda 或 Kubernetes
- 介绍 ECS 的核心特性：每周启动 30 亿个任务
- 对比 Fargate 和自管理 EC2 实例的优缺点
- 重点介绍新发布的 ECS Managed Instances 功能
- 讲解独立任务 vs 服务模式的使用场景

### 25:00-35:00 事件代理和路由器
- 详细介绍三类事件代理：路由器、主题、事件存储和流
- EventBridge：智能路由器，支持规则过滤和多目标
- SNS：主题模式，支持近乎无限的消息发送和 1250 万订阅
- SQS：队列模式，一对一处理，支持批处理和顺序控制
- Kinesis 和 MSK：流处理，适合高吞吐量场景

### 35:00-45:00 ECS 事件驱动模式详解
- 模式一：公共 API 模式，通过 EventBridge API 目标推送到容器
- 模式二：私有端点模式，使用 PrivateLink 和 VPC Lattice
- 模式三：点对点模式，容器主动轮询 SQS 队列
- 介绍自动扩缩容策略：预定义指标 vs 自定义指标数学公式
- 模式四：基于事件的容器，EventBridge 触发 RunTask API

### 45:00-53:00 Step Functions 集成和总结
- Step Functions 的三种模式：异步、同步等待、回调令牌
- Activities 模式：管理队列处理大量事件，成本优化案例
- Sarah 问题的完整解决方案演示
- 关键要点总结：ECS + Fargate 的优势，多种路由选项
- 推荐后续学习资源和相关会议