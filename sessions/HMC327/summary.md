# AWS re:Invent 2025 技术会议总结

## 会议概述

本次会议由纳斯达克（NASDAQ）企业架构师 Nate Sammons 主讲，主题聚焦于如何为金融服务构建具有高弹性和高性能的系统。纳斯达克作为全球首个电子交易所，目前在北欧和北美地区运营着超过30个不同类型的交易所。该公司不仅是市场系统的运营商，还为全球130多个市场提供软件解决方案，包括交易系统、清算系统、风险管理和反金融犯罪等全方位服务。

纳斯达克的云迁移之旅始于15年前，逐步将关键系统迁移到云端，从最初的T+1备份系统发展到如今的硬实时交易系统。演讲重点介绍了纳斯达克如何利用 AWS Outposts 在混合基础设施模式下实现灾难恢复，通过故障域分析、静态稳定性设计和断连运行能力来确保系统的极致可靠性。这些系统需要处理微秒级延迟、每秒数百万条消息，同时满足严格的监管要求和客户对100%正常运行时间的期望。

演讲还探讨了未来发展方向，包括更动态的部署策略、Graviton处理器的应用、加速计算（FPGA和GPU）的集成，以及在 Outposts 上扩展更多 AWS 服务的可能性，特别是 EKS 本地集群的应用前景。

## 详细时间线

00:00 - 开场介绍
- Nate Sammons 自我介绍，来自纳斯达克企业架构团队
- 会议主题：为金融服务构建高弹性高性能系统

00:30 - 纳斯达克背景介绍
- 纳斯达克作为首个电子交易所的创新历史
- 运营超过30个不同类型的交易所（北欧和北美地区）
- 为全球130多个市场提供软件解决方案
- 服务范围：交易系统、清算系统、风险管理、反金融犯罪等

01:30 - 云迁移历程
- 云迁移之旅始于15年前
- 逐步向最关键系统（匹配引擎和市场系统）迁移
- 从T+1备份系统开始，逐步发展到日内报告和硬实时系统
- 从非关键系统逐步过渡到对国家经济具有系统重要性的关键系统

02:30 - 技术挑战概述
- 超低延迟交易：以微秒和纳秒为单位测量
- 每秒处理数百万条消息，不能丢失任何数据
- 必须在特定物理位置运行（客户托管设备的生态系统）
- 客户期望100%正常运行时间
- 面临全球多个司法管辖区的监管要求

03:30 - 灾难恢复策略光谱
- 介绍从备份恢复到多站点主-主架构的灾难恢复策略
- 强调技术团队和业务团队需要就工作负载在光谱中的位置达成一致
- 重点讨论光谱右端：需要全天候运行的关键系统

04:30 - 混合计算与 AWS Outposts
- 使用 Outposts 在数据中心部署工作负载
- 通过 EC2 API 管理，使用 Amazon 基础设施
- 通过 Direct Connect 连接区域和数据中心
- 为 EC2 服务器添加超低延迟网络接口卡（现已普遍可用）

05:30 - 裸机服务器和网络配置
- 使用裸机 EC2 实例（BMN SF2E 系列）
- 网络层面也采用裸机配置，实现完全物理隔离的数据平面
- 使用等长电缆和硬件组播满足监管要求
- 支持内核旁路等性能优化技术

06:30 - 故障域分析
- 服务器级别：运行多台服务器和热备用服务器，AB组件对不在同一实例上
- 机架级别：运行多个机架，AB组件分布在不同机架上
- 物理站点级别：主站点在新泽西，次要站点在芝加哥
- 每个站点使用独立的 Outpost 和不同的 AWS 账户
- 每个 Outpost 配对不同的区域

08:30 - 区域级别和逻辑架构
- 关键系统在多个区域之间保持热-热状态
- 强调需要对软件组件进行相同的故障域分析
- 每个故障域级别都需要配备详细的运维手册
- 灾难响应流程应事先编排好，成为团队的第二天性

10:00 - 静态稳定性设计
- 介绍静态稳定性概念：在运行期间不改变系统
- 应对网络连接中断的场景（如光缆被切断）
- 机架中预配置热备用服务器，无需连接控制平面即可使用
- 谨慎选择部署在 Outposts 上的服务

11:30 - 本地化运维能力
- 所有实例使用本地启动（本地磁盘，不使用 EBS）
- 使用本地网关实现紧急访问（break glass access）
- 正常情况通过服务链接 SSH，紧急情况可直接本地 SSH
- 与 AWS 服务团队深入探讨内部依赖关系
- 进行大量测试验证

12:30 - 断连运行测试
- 断开 Outpost 连接一周或更长时间进行测试
- 识别 SSL 证书更新、IAM 检查等依赖项
- 确保本地网关在区域故障或服务链接问题时仍可访问
- 目标：在与外界隔离的情况下保持市场正常运行

14:00 - 核心策略回顾
- 在数据中心使用 Outposts
- 通过故障域概念分析整个系统
- 设计和测试静态稳定性
- 实现断连运行能力（Outposts 特有）

15:00 - DR 切换的重要性
- 切换到 DR 是重大事件，需向监管机构报告
- 客户会不满，需要解释原因
- 因此极力避免切换到 DR，尽管 DR 系统完全可用且经过测试
- 运行多区域、多可用区架构，主站点和 DR 站点都保持热-热状态

16:00 - 未来发展方向
- **动态部署**：目前手动规划到每个 CPU 核心级别，未来希望通过亲和性和反亲和性规则实现自动化
- **Graviton 处理器**：在 Graviton 4 上取得良好效果，正在测试下一代 CPU 和超低延迟网络卡
- **加速计算**：使用 FPGA，实验 GPU 用于实时风险分析，希望将更多加速组件引入 Outposts

17:30 - 更多服务集成
- 谨慎评估在 Outposts 上运行的服务
- EKS 本地集群是下一个重点关注的服务
- 与服务团队进行深入探讨以了解故障模式
- 持续提升 Outposts 上的服务可用性和功能性
- 为外部第三方客户提供更具吸引力的产品

18:30 - 会议结束
- 感谢参会者
- 提醒填写反馈表单