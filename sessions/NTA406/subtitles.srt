1
00:00:00,000 --> 00:00:01,410
- [Gabriel] My name is Gabriel Paredes.

2
00:00:01,410 --> 00:00:02,937
I'm based in Bogota, Colombia.

3
00:00:02,937 --> 00:00:07,380
I'm a Solution Architect for
the financial services industry

4
00:00:07,380 --> 00:00:10,830
and I've been in the company
for the last seven years

5
00:00:10,830 --> 00:00:13,620
in which I had the privilege
to support many customers

6
00:00:13,620 --> 00:00:15,190
as within Latin America

7
00:00:16,350 --> 00:00:18,480
in the use of Agentic
AI for their business

8
00:00:18,480 --> 00:00:21,480
and in this case Intel,
artificial intelligence.

9
00:00:21,480 --> 00:00:22,430
And with me is...

10
00:00:24,150 --> 00:00:25,620
- [Luis] Hi there. Happy to be here.

11
00:00:25,620 --> 00:00:26,850
My name is Luis Eduardo Torres

12
00:00:26,850 --> 00:00:28,470
and a Solutions Architect Manager

13
00:00:28,470 --> 00:00:31,680
for financial sector industry in Colombia.

14
00:00:31,680 --> 00:00:36,136
And I have been working for
AWS almost six years, mainly,

15
00:00:36,136 --> 00:00:38,910
helping in different kind of services,

16
00:00:38,910 --> 00:00:42,480
but very interested in
analytics and GenAI.

17
00:00:42,480 --> 00:00:45,510
So now that we tell you
more details about us,

18
00:00:45,510 --> 00:00:47,100
we would like to know more about you.

19
00:00:47,100 --> 00:00:50,520
So, we are going to
personalize the session.

20
00:00:50,520 --> 00:00:54,180
So the first task for today
is if you can help us,

21
00:00:54,180 --> 00:00:57,980
we are going to have an small
survey just to know what is,

22
00:00:57,980 --> 00:01:00,470
is your knowledge about Agentic AI

23
00:01:00,470 --> 00:01:03,720
and the AWS services
and that will allow us

24
00:01:03,720 --> 00:01:05,670
to personalize this session.

25
00:01:05,670 --> 00:01:10,670
So it should take two or
three minutes to complete,

26
00:01:10,860 --> 00:01:13,680
the five questions that we have here.

27
00:01:13,680 --> 00:01:16,293
So let me switch to my screen.

28
00:01:18,840 --> 00:01:22,500
(presenter speaks indistinctly)

29
00:01:22,500 --> 00:01:23,763
The QR is working.

30
00:01:24,627 --> 00:01:27,143
Can someone confirm it's working fine.

31
00:01:27,143 --> 00:01:28,530
- [Audience Member] Perfect.

32
00:01:28,530 --> 00:01:32,760
- [Luis] Okay. So we have 27 participants.

33
00:01:32,760 --> 00:01:35,880
We are going to give 20 seconds more

34
00:01:35,880 --> 00:01:38,733
and then we are going to
start with a few questions.

35
00:01:46,710 --> 00:01:47,913
36.

36
00:02:02,430 --> 00:02:03,363
10 seconds more.

37
00:02:08,787 --> 00:02:11,403
Let's go. All right, let's go.

38
00:02:12,810 --> 00:02:15,660
So the first question
that we have for you is,

39
00:02:15,660 --> 00:02:17,820
have you deployed any AI agents

40
00:02:17,820 --> 00:02:19,920
in a production environment?

41
00:02:19,920 --> 00:02:21,003
Yes or no?

42
00:02:32,520 --> 00:02:36,345
So, we have 50/50.
- [Gabriel] 50/50. Okay.

43
00:02:36,345 --> 00:02:39,153
- [Luis] Okay, very good. Next question.

44
00:02:41,100 --> 00:02:43,500
What are the main challenges you had faced

45
00:02:43,500 --> 00:02:45,603
when deploying agents to production?

46
00:02:48,450 --> 00:02:53,450
It's cause of cost, precision,
latency, integration.

47
00:02:53,910 --> 00:02:55,960
What's the main issue that you have seen?

48
00:02:59,790 --> 00:03:01,110
Precision, okay.

49
00:03:01,110 --> 00:03:02,820
And integration, okay.

50
00:03:02,820 --> 00:03:05,700
That will work for what
we have prepared today.

51
00:03:05,700 --> 00:03:08,490
Next, have you worked with the Strands?

52
00:03:08,490 --> 00:03:11,220
We know that maybe you have heard a lot of

53
00:03:11,220 --> 00:03:12,960
about the Strands these days,

54
00:03:12,960 --> 00:03:17,610
but we want to know more
if you have already used it

55
00:03:17,610 --> 00:03:19,470
or if you are using different frameworks,

56
00:03:19,470 --> 00:03:23,160
which is fine, we are
going to talk about it,

57
00:03:23,160 --> 00:03:24,213
but just to know.

58
00:03:25,500 --> 00:03:30,500
So we have 25% of the people
that already have used Strands.

59
00:03:30,998 --> 00:03:34,380
We are going to show you here
some things about the Strands.

60
00:03:34,380 --> 00:03:35,213
Very good.

61
00:03:37,470 --> 00:03:42,243
Have you used AgentCore
or other agent frameworks?

62
00:03:44,370 --> 00:03:49,370
Ah or more than other
frameworks is more related

63
00:03:50,220 --> 00:03:54,720
to other services related
to AWS for Agentic,

64
00:03:54,720 --> 00:03:55,860
but that's fine.

65
00:03:55,860 --> 00:03:56,693
Let me check.

66
00:03:56,693 --> 00:04:00,060
How many of you already
know about AgentCore? 29.

67
00:04:00,060 --> 00:04:00,960
So more than 50%.

68
00:04:00,960 --> 00:04:05,100
Okay, we are going to show
some interesting things there.

69
00:04:05,100 --> 00:04:08,580
And finally the last two questions.

70
00:04:08,580 --> 00:04:10,830
Which observability tools do you use

71
00:04:10,830 --> 00:04:13,200
for monitoring your agents?

72
00:04:13,200 --> 00:04:17,026
Are you using AgentCore
Observability or Langfuse,

73
00:04:17,026 --> 00:04:18,540
Langsmith?

74
00:04:18,540 --> 00:04:19,373
Other?

75
00:04:27,390 --> 00:04:29,910
Only two people here have been using

76
00:04:29,910 --> 00:04:31,200
AgentCore Observability.

77
00:04:31,200 --> 00:04:33,630
That's why we have this
session to show you

78
00:04:33,630 --> 00:04:35,280
what you can do there.

79
00:04:35,280 --> 00:04:38,670
It's very good Langsmith,
Langfuse and other,

80
00:04:38,670 --> 00:04:39,720
a lot of people in other.

81
00:04:39,720 --> 00:04:41,130
Okay.

82
00:04:41,130 --> 00:04:43,590
And finally the last question.

83
00:04:43,590 --> 00:04:48,180
We told you that we are from
Colombia so we want to know

84
00:04:48,180 --> 00:04:50,630
if you already know where
is Colombia is located.

85
00:04:52,710 --> 00:04:56,040
Some people confuse our
country with the state.

86
00:04:56,040 --> 00:04:59,130
So actually it's different

87
00:04:59,130 --> 00:05:01,233
how you can write both words.

88
00:05:02,790 --> 00:05:06,390
24. Ah, there is a lot of doubts here.

89
00:05:06,390 --> 00:05:10,650
Less people 36. Okay, very good.

90
00:05:10,650 --> 00:05:13,148
- [Gabriel] So you gave it
that a little bit more of time.

91
00:05:13,148 --> 00:05:13,981
(Luis chuckles)

92
00:05:13,981 --> 00:05:16,783
- [Luis] Yeah, definitely
someone is winter.

93
00:05:17,642 --> 00:05:21,270
Okay, okay. North of
South America. Very good.

94
00:05:21,270 --> 00:05:24,060
Central America. No. I don't know.

95
00:05:24,060 --> 00:05:24,893
Very good, thank you.

96
00:05:24,893 --> 00:05:26,040
So yeah,

97
00:05:26,040 --> 00:05:28,140
Columbia is in the north of South America.

98
00:05:28,980 --> 00:05:31,620
Okay, thank you very
much for your answers.

99
00:05:31,620 --> 00:05:35,100
That's a way as we want
to know more about you

100
00:05:35,100 --> 00:05:38,400
so we can customize the
content of the session.

101
00:05:38,400 --> 00:05:40,980
The agenda that we have prepared for today

102
00:05:40,980 --> 00:05:43,814
is start talking about AgentCore

103
00:05:43,814 --> 00:05:46,377
and talking about observability

104
00:05:46,377 --> 00:05:48,540
and why this is important.

105
00:05:48,540 --> 00:05:51,480
Also, we are going to
build, this is a code talk.

106
00:05:51,480 --> 00:05:55,110
So most of the time we are
being building an agent.

107
00:05:55,110 --> 00:05:57,147
We already have an agent
with different issues

108
00:05:57,147 --> 00:05:58,920
and we need your help

109
00:05:58,920 --> 00:06:01,380
to improve the issues that we have there.

110
00:06:01,380 --> 00:06:04,350
And finally we are going
to share some resources,

111
00:06:04,350 --> 00:06:06,213
that can be useful for you.

112
00:06:07,170 --> 00:06:10,980
So if you mention that 50%
of the people here mention

113
00:06:10,980 --> 00:06:14,454
that already has agents in production,

114
00:06:14,454 --> 00:06:17,850
in case you don't have good observability,

115
00:06:17,850 --> 00:06:19,380
there can be different mistakes

116
00:06:19,380 --> 00:06:22,350
or different bad
behaviors with the agents.

117
00:06:22,350 --> 00:06:24,810
So what we want to
achieve with this session

118
00:06:24,810 --> 00:06:28,740
is that more people know about
how to use the AWS services

119
00:06:28,740 --> 00:06:31,080
to improve the visibility of the agents

120
00:06:31,080 --> 00:06:33,330
that you are deploying in production.

121
00:06:33,330 --> 00:06:37,980
So we have as a goal when
when we have observability,

122
00:06:37,980 --> 00:06:40,440
we are looking for a way to control

123
00:06:40,440 --> 00:06:43,080
the non-deterministic behaviors

124
00:06:43,080 --> 00:06:45,300
that we have with foundational models.

125
00:06:45,300 --> 00:06:47,010
Basically you can have an agent

126
00:06:47,010 --> 00:06:48,840
that is providing different answers

127
00:06:48,840 --> 00:06:52,110
to each a customer, to each user.

128
00:06:52,110 --> 00:06:54,210
So we want to know what's happening.

129
00:06:54,210 --> 00:06:57,120
Also, sometimes the companies
are deploying agents

130
00:06:57,120 --> 00:07:00,030
in production to achieve
a business objective,

131
00:07:00,030 --> 00:07:02,340
like for example increase the revenue,

132
00:07:02,340 --> 00:07:03,600
but that's not happening.

133
00:07:03,600 --> 00:07:05,760
So we need to have more visibility

134
00:07:05,760 --> 00:07:07,620
to know what happened there.

135
00:07:07,620 --> 00:07:09,450
Eh, the other thing
that we are going to see

136
00:07:09,450 --> 00:07:12,150
during the demonstration is

137
00:07:12,150 --> 00:07:14,550
that these systems are complex.

138
00:07:14,550 --> 00:07:18,180
So we have different
system knowledge bases,

139
00:07:18,180 --> 00:07:21,780
we have different NCPs
that are integrated there

140
00:07:21,780 --> 00:07:26,040
and we need a way to know
what is causing, for example,

141
00:07:26,040 --> 00:07:28,893
problems with precision or with latency.

142
00:07:29,820 --> 00:07:31,710
So with that said,

143
00:07:31,710 --> 00:07:35,411
what we are building today is
a case that we already have

144
00:07:35,411 --> 00:07:37,410
in Colombia with a customer.

145
00:07:37,410 --> 00:07:40,650
They want to create a financial advisor.

146
00:07:40,650 --> 00:07:44,787
So this financial
advisor has for this case

147
00:07:44,787 --> 00:07:47,040
and we are going to be working on that,

148
00:07:47,040 --> 00:07:52,040
has chat where the customers
can ask for a new credit

149
00:07:53,400 --> 00:07:56,550
for a new loan and obtain information

150
00:07:56,550 --> 00:07:59,820
about if the customer is
eligible for a credit,

151
00:07:59,820 --> 00:08:04,530
if the customer has a good behavior

152
00:08:04,530 --> 00:08:07,860
or performance for the bank, a good score.

153
00:08:07,860 --> 00:08:12,600
Also we are going to verify
how what can be the rate

154
00:08:12,600 --> 00:08:15,510
for the credit and more information.

155
00:08:15,510 --> 00:08:19,860
So Gabriel or Gabo, I'm
gonna call you Gabo,

156
00:08:19,860 --> 00:08:22,050
it's cool how I call you in Colombia.

157
00:08:22,050 --> 00:08:24,360
So Gabo, do you know what kind of issues

158
00:08:24,360 --> 00:08:25,980
we have right now with this agent?

159
00:08:25,980 --> 00:08:30,240
- [Gabriel] Yes, I have
seen with many of situations

160
00:08:30,240 --> 00:08:32,760
when deploying agents into
production that they become

161
00:08:32,760 --> 00:08:35,370
like a black box for
some of our customers.

162
00:08:35,370 --> 00:08:38,250
And basically there are a
couple of issues related.

163
00:08:38,250 --> 00:08:41,100
One to the evolve ability
of the architecture.

164
00:08:41,100 --> 00:08:43,530
Like for example, we need
to move from one model

165
00:08:43,530 --> 00:08:46,920
to a newer model and we
don't have the right tools

166
00:08:46,920 --> 00:08:50,223
to measure if the quality of
the responses are improving

167
00:08:50,223 --> 00:08:53,910
or decreasing compared
to the previous model.

168
00:08:53,910 --> 00:08:57,330
We are also see situations
in which the prompts

169
00:08:57,330 --> 00:08:59,880
might be contradictory and the tool use

170
00:08:59,880 --> 00:09:02,160
becomes a little bit nuanced

171
00:09:02,160 --> 00:09:05,220
because some the instructions
can be overlapped.

172
00:09:05,220 --> 00:09:07,830
I have seen other situations
in which the integration

173
00:09:07,830 --> 00:09:09,540
with external tools are not clear

174
00:09:09,540 --> 00:09:12,300
and basically the there is not a way

175
00:09:12,300 --> 00:09:15,930
to identify why the agent
is taking a decision

176
00:09:15,930 --> 00:09:18,360
and what is reasoning
to use a specific path

177
00:09:18,360 --> 00:09:21,580
like for example in a
multi-agent architecture.

178
00:09:21,580 --> 00:09:22,740
Okay.
- [Luis] Okay, very good.

179
00:09:22,740 --> 00:09:25,560
So we have all those kind of issues today

180
00:09:25,560 --> 00:09:28,410
and with your help we
are going to improve it.

181
00:09:28,410 --> 00:09:30,210
But before going further,

182
00:09:30,210 --> 00:09:33,420
you mentioned that some of
you know about AgentCore.

183
00:09:33,420 --> 00:09:36,320
So why AgentCore is
important for this project

184
00:09:36,320 --> 00:09:38,070
that we are doing here?

185
00:09:38,070 --> 00:09:40,110
- [Gabriel] Now, with
AgentCore we are looking

186
00:09:40,110 --> 00:09:43,350
for all of our customers
to move away from POC,

187
00:09:43,350 --> 00:09:46,080
from mass POC to
production with confidence.

188
00:09:46,080 --> 00:09:48,990
Basically AgentCore allows to build,

189
00:09:48,990 --> 00:09:51,120
to focus on building the Agentic part

190
00:09:51,120 --> 00:09:53,100
to building the specific agents

191
00:09:53,100 --> 00:09:56,910
and not worrying about the
hosting the infrastructure.

192
00:09:56,910 --> 00:09:59,370
AgentCore is building in a modular way

193
00:09:59,370 --> 00:10:02,880
or in a component mindset in
which you can implement each

194
00:10:02,880 --> 00:10:05,820
individual components
individually based on the needs

195
00:10:05,820 --> 00:10:08,307
of your specific agents, okay?

196
00:10:08,307 --> 00:10:10,470
And that also renders basically

197
00:10:10,470 --> 00:10:12,960
into reducing the time to market.

198
00:10:12,960 --> 00:10:14,610
Basically you can start building

199
00:10:14,610 --> 00:10:16,440
and let AgentCore to take most

200
00:10:16,440 --> 00:10:19,680
of the responsibility in
hosting the infrastructure

201
00:10:19,680 --> 00:10:21,270
and also the integration.

202
00:10:21,270 --> 00:10:23,700
You have the integration
with native services

203
00:10:23,700 --> 00:10:26,850
and also with third party tools
for logging and monitoring.

204
00:10:26,850 --> 00:10:29,340
- [Luis] Very good AgentCore
has different components

205
00:10:29,340 --> 00:10:30,480
that work individually.

206
00:10:30,480 --> 00:10:33,240
So if you prefer only go
by one, you can do it.

207
00:10:33,240 --> 00:10:35,340
In the case of observability,

208
00:10:35,340 --> 00:10:37,620
if you already are using other frameworks

209
00:10:37,620 --> 00:10:41,010
or if you are also right now
using a different platform

210
00:10:41,010 --> 00:10:44,940
to deploy your agents
for example EKS or ECS,

211
00:10:44,940 --> 00:10:48,180
but you want to use
observability, you can do it.

212
00:10:48,180 --> 00:10:52,796
So for today we are
going to focus on a run

213
00:10:52,796 --> 00:10:57,796
Amazon AgentCore for the side runtime

214
00:10:58,770 --> 00:11:01,290
and we are going to have
also the observability.

215
00:11:01,290 --> 00:11:03,210
Those are the main components

216
00:11:03,210 --> 00:11:04,920
that we are going to use today.

217
00:11:04,920 --> 00:11:08,280
But something that I also
want to let you know is that,

218
00:11:08,280 --> 00:11:10,590
this is enabled for different frameworks.

219
00:11:10,590 --> 00:11:13,590
So you want to have
different, not only Strands

220
00:11:13,590 --> 00:11:16,200
but other frameworks
running in the wrong time.

221
00:11:16,200 --> 00:11:17,160
That's possible.

222
00:11:17,160 --> 00:11:20,020
Or if you have a different kind of

223
00:11:20,971 --> 00:11:23,460
observability tools
and you want to support

224
00:11:23,460 --> 00:11:26,490
all this information there that's possible

225
00:11:26,490 --> 00:11:28,353
because we are using OpenTelemetry.

226
00:11:29,190 --> 00:11:32,190
So what we are going
to have in the console

227
00:11:32,190 --> 00:11:35,670
is first a chat agent where our customers

228
00:11:35,670 --> 00:11:36,930
can ask different questions

229
00:11:36,930 --> 00:11:40,440
about a financial credit or loan.

230
00:11:40,440 --> 00:11:42,480
Then we are going to use Strands

231
00:11:42,480 --> 00:11:44,730
to define an agent and multi-agent.

232
00:11:44,730 --> 00:11:47,580
That Strands agent has the capabilities

233
00:11:47,580 --> 00:11:50,190
to integrate with different tools

234
00:11:50,190 --> 00:11:53,820
and also we have created
an agent flow there

235
00:11:53,820 --> 00:11:56,220
and also we have some knowledge basis

236
00:11:56,220 --> 00:11:58,650
to answer questions to our customers.

237
00:11:58,650 --> 00:12:01,740
So all these flow you
are going to see in it,

238
00:12:01,740 --> 00:12:03,690
we want to you to know this,

239
00:12:03,690 --> 00:12:06,690
we are going to integrate also
with different external tools

240
00:12:07,920 --> 00:12:10,410
and the agent that we have here,

241
00:12:10,410 --> 00:12:13,560
it's gonna be running in AgentCore running

242
00:12:13,560 --> 00:12:15,840
and the idea that we can see logs,

243
00:12:15,840 --> 00:12:19,503
metrics and traces using
AgentCore Observability.

244
00:12:20,580 --> 00:12:25,080
So at the end of the
session we should improve

245
00:12:25,080 --> 00:12:27,450
all the issues that we have
right now with the agent,

246
00:12:27,450 --> 00:12:29,850
but also we are going to
have the possibility of

247
00:12:30,714 --> 00:12:34,320
or see everything that is
happening in a dashboard

248
00:12:34,320 --> 00:12:35,643
with a lot of detail.

249
00:12:36,510 --> 00:12:37,920
So let's build.

250
00:12:37,920 --> 00:12:41,610
- [Gabriel] So let's start
and as Luis mentioned,

251
00:12:41,610 --> 00:12:45,120
we will require your help
and also to help us build

252
00:12:45,120 --> 00:12:47,250
and fix this, the issues in this agent.

253
00:12:47,250 --> 00:12:52,250
So we're going to be iterating over

254
00:12:52,290 --> 00:12:53,970
the agent that's already running

255
00:12:53,970 --> 00:12:57,137
and if you can switch to the coiner.

256
00:12:59,348 --> 00:13:01,560
Well first question, can you see the code?

257
00:13:01,560 --> 00:13:02,460
- [Luis] You should-

258
00:13:02,460 --> 00:13:05,093
- [Gabriel] Okay, let me make
it up a little bit bigger.

259
00:13:07,655 --> 00:13:11,738
(presenter speaks indistinctly)

260
00:13:22,080 --> 00:13:23,393
Settings.

261
00:13:23,393 --> 00:13:28,233
And settings and let me find
font increase a little bit.

262
00:13:37,410 --> 00:13:38,550
Font size.

263
00:13:38,550 --> 00:13:41,700
I think that should be better. Okay.

264
00:13:41,700 --> 00:13:44,060
- Yeah.
- [Luis] This is better.

265
00:13:44,060 --> 00:13:45,750
- [Gabriel] I think so. Perfect.

266
00:13:45,750 --> 00:13:47,430
Now, we're going to start with a,

267
00:13:47,430 --> 00:13:52,430
I will say a fast run over
what is built in this moment.

268
00:13:52,530 --> 00:13:56,580
So we have in this section an agent

269
00:13:56,580 --> 00:14:00,120
that is built on the
strand, SDK as we mentioned.

270
00:14:00,120 --> 00:14:02,340
And it basically, it's composed like a,

271
00:14:02,340 --> 00:14:03,600
like we say a simple structure.

272
00:14:03,600 --> 00:14:07,080
We have at the top of
the agent all the imports

273
00:14:07,080 --> 00:14:10,170
for our models we have the configuration

274
00:14:10,170 --> 00:14:11,460
for the environment variables.

275
00:14:11,460 --> 00:14:15,930
In order to set the prompts
and to set the the the models,

276
00:14:15,930 --> 00:14:18,300
you can see there are some of the things

277
00:14:18,300 --> 00:14:21,000
that we're going to be solving
during the presentation.

278
00:14:21,000 --> 00:14:25,950
We have a couple of utilities
for grabbing the prompts

279
00:14:25,950 --> 00:14:27,120
from the prompt management

280
00:14:27,120 --> 00:14:30,300
because the prompts are not
embedded directly into the code.

281
00:14:30,300 --> 00:14:31,800
And basically we have two tools,

282
00:14:31,800 --> 00:14:34,290
one for the calculating the loans

283
00:14:34,290 --> 00:14:38,370
and basically retaining
the monthly payments.

284
00:14:38,370 --> 00:14:40,230
And we have a tool

285
00:14:40,230 --> 00:14:43,050
for retrieving information
from a knowledge base.

286
00:14:43,050 --> 00:14:43,883
Okay?

287
00:14:43,883 --> 00:14:45,900
And then we have the
creation of the four agents.

288
00:14:45,900 --> 00:14:48,570
I'm going to open one
of those so you can see

289
00:14:48,570 --> 00:14:51,000
because the pattern is almost the same.

290
00:14:51,000 --> 00:14:54,300
So we have a declaration of
the model that we are using,

291
00:14:54,300 --> 00:14:55,620
some parameters.

292
00:14:55,620 --> 00:14:58,620
Then we have the agent
as we create the agent

293
00:14:58,620 --> 00:15:02,550
and provide the tools and
then we return the agent back

294
00:15:02,550 --> 00:15:06,210
to a single orchestration
point in which we fix

295
00:15:06,210 --> 00:15:09,630
and stitch all together
into a swarm architecture.

296
00:15:09,630 --> 00:15:11,250
A swarm architecture for agents,

297
00:15:11,250 --> 00:15:14,660
it's like a full mesh of
communication between the agents.

298
00:15:14,660 --> 00:15:17,640
So we have an entry point
which is the orchestrator

299
00:15:17,640 --> 00:15:20,700
and then the orchestrator is responsible

300
00:15:20,700 --> 00:15:22,470
for handing over the transition

301
00:15:22,470 --> 00:15:25,830
to other agents autonomously
in order to solve an issue.

302
00:15:25,830 --> 00:15:28,230
So as you can see we have one agent

303
00:15:28,230 --> 00:15:31,830
that can check the rates
based on the documentation.

304
00:15:31,830 --> 00:15:33,930
We have an agent that is a specialist

305
00:15:33,930 --> 00:15:38,340
in doing a loan interest
rate calculations.

306
00:15:38,340 --> 00:15:41,100
We have one agent that
can check for eligibility

307
00:15:41,100 --> 00:15:43,920
and we have an agent that
basically they responsible

308
00:15:43,920 --> 00:15:45,600
for orchestrating everything.

309
00:15:45,600 --> 00:15:48,783
Okay so far, any questions?

310
00:15:50,400 --> 00:15:51,510
No. Perfect.

311
00:15:51,510 --> 00:15:53,840
So the first thing is
that I wanted to show you

312
00:15:53,840 --> 00:15:57,810
is that this agent is already
running in Strands SDK

313
00:15:57,810 --> 00:16:01,800
and running in Strands runtime,

314
00:16:01,800 --> 00:16:03,360
I'm sorry, in AgentCore runtime.

315
00:16:03,360 --> 00:16:08,280
So with the quick start

316
00:16:08,280 --> 00:16:11,610
and the quick start from AgentCore,

317
00:16:11,610 --> 00:16:13,500
you can deploy agents easily.

318
00:16:13,500 --> 00:16:16,860
Basically you configure the
utility to grab the code,

319
00:16:16,860 --> 00:16:18,060
to grab the dependencies,

320
00:16:18,060 --> 00:16:21,060
to set the features
that you want to enable,

321
00:16:21,060 --> 00:16:21,930
like for example,

322
00:16:21,930 --> 00:16:25,950
memory observability enabled
by default, by the way.

323
00:16:25,950 --> 00:16:28,110
If you want to change where the traces

324
00:16:28,110 --> 00:16:29,850
and the logs are being stored

325
00:16:29,850 --> 00:16:32,340
and once the agent is
deployed you can check it

326
00:16:32,340 --> 00:16:35,500
with AgentCore command, AgentCore status

327
00:16:38,670 --> 00:16:41,430
and you can start seeing like
when was the agent created

328
00:16:41,430 --> 00:16:42,960
in which account it's running,

329
00:16:42,960 --> 00:16:46,353
what's the runtime ID,
the deployment time,

330
00:16:46,353 --> 00:16:48,930
this was deployed last time was deployed

331
00:16:48,930 --> 00:16:50,520
today in the afternoon.

332
00:16:50,520 --> 00:16:52,500
And finally you're going to see

333
00:16:52,500 --> 00:16:54,810
this handy command that it's here.

334
00:16:54,810 --> 00:16:57,093
Have you ever seen this command before?

335
00:16:59,100 --> 00:17:00,270
No.

336
00:17:00,270 --> 00:17:01,103
First time?

337
00:17:01,103 --> 00:17:04,650
Well this command, it's
part of the AWS CLI.

338
00:17:04,650 --> 00:17:06,690
Basically it's for CloudWatch logs

339
00:17:06,690 --> 00:17:09,240
and this is a teal command that allow us

340
00:17:09,240 --> 00:17:12,900
to basically follow the
logs as we invoke our agent.

341
00:17:12,900 --> 00:17:16,170
This is not a functionality
exclusive for a AgentCore.

342
00:17:16,170 --> 00:17:18,060
It's basically for every log group

343
00:17:18,060 --> 00:17:19,170
that you have in your account,

344
00:17:19,170 --> 00:17:21,180
you can like an all unique system,

345
00:17:21,180 --> 00:17:24,780
I will say like, tail a log
file in front an Apache Server

346
00:17:24,780 --> 00:17:26,040
that's the same that you can do

347
00:17:26,040 --> 00:17:28,920
with a CloudTrail, CloudWatch logs.

348
00:17:28,920 --> 00:17:31,890
Okay, so I'm going to copy
and paste that command

349
00:17:31,890 --> 00:17:34,710
because that's the first
observability point

350
00:17:34,710 --> 00:17:37,197
that we have with a AgentCore.

351
00:17:39,401 --> 00:17:41,677
Let me copy and paste this part

352
00:17:43,650 --> 00:17:46,053
and we will have a tale of commands.

353
00:17:49,200 --> 00:17:50,190
Okay.

354
00:17:50,190 --> 00:17:52,410
Now we are not going to
see anything right now

355
00:17:52,410 --> 00:17:54,390
because we don't have any vocations

356
00:17:54,390 --> 00:17:55,860
in our agency at this moment.

357
00:17:55,860 --> 00:17:57,670
But let's switch to our

358
00:18:00,720 --> 00:18:05,160
or to our agent user interface.

359
00:18:05,160 --> 00:18:07,170
So this is something
that we build for this,

360
00:18:07,170 --> 00:18:10,863
for this session specifically
it's a pretty basic,

361
00:18:11,790 --> 00:18:14,430
user interface build on a
streamlet that allows us

362
00:18:14,430 --> 00:18:18,570
to select the AgentCore
runtime and also the version.

363
00:18:18,570 --> 00:18:20,160
As you can see we have made a couple

364
00:18:20,160 --> 00:18:22,350
of testing in version 27

365
00:18:22,350 --> 00:18:24,390
and then we're going to fire a prompt.

366
00:18:24,390 --> 00:18:25,560
Let's see what happened.

367
00:18:25,560 --> 00:18:30,560
So, what are the current
more rates for a 30 year

368
00:18:35,010 --> 00:18:36,640
fixed it long

369
00:18:41,850 --> 00:18:42,723
and then we wait.

370
00:18:46,440 --> 00:18:49,350
Have you experienced something
like this with your agents?

371
00:18:49,350 --> 00:18:52,923
I mean response times super elevated.

372
00:18:54,529 --> 00:18:56,880
- [Luis] What should be the normal time

373
00:18:56,880 --> 00:18:59,910
for an agent is to respond.

374
00:18:59,910 --> 00:19:02,670
What the time that you are
expecting to have an answer?

375
00:19:02,670 --> 00:19:06,060
Less than 10 seconds, less than five?

376
00:19:06,060 --> 00:19:06,960
What do you think?

377
00:19:08,867 --> 00:19:10,387
- [Audience Member]
Depends on the use case.

378
00:19:10,387 --> 00:19:12,540
- [Luis] Depends on the use case.

379
00:19:12,540 --> 00:19:16,010
But for a normal interaction,
what is a good time?

380
00:19:16,010 --> 00:19:17,260
- [Audience Member] 10 to 30 seconds.

381
00:19:17,260 --> 00:19:18,960
- [Luis] 10 to 20 seconds.

382
00:19:18,960 --> 00:19:21,273
So how long it's taking here right now?

383
00:19:23,730 --> 00:19:24,930
Taking work.

384
00:19:24,930 --> 00:19:26,880
- [Gabriel] You can see right here.

385
00:19:26,880 --> 00:19:30,660
- [Luis] Okay.
- [Gabriel] 13.5 seconds.

386
00:19:30,660 --> 00:19:33,420
Now because we left the
console on the tail locks,

387
00:19:33,420 --> 00:19:36,060
we can see what's going
on behind the scenes

388
00:19:36,060 --> 00:19:38,130
with this AgentCore in vocation.

389
00:19:38,130 --> 00:19:40,320
So you can see this allows to see

390
00:19:40,320 --> 00:19:43,560
when agent call runtime receive a request,

391
00:19:43,560 --> 00:19:47,010
the parameters that are
being sent into the request

392
00:19:47,010 --> 00:19:49,800
and also you start seeing like
the reasoning of the agent.

393
00:19:49,800 --> 00:19:51,180
Like for example, in order

394
00:19:51,180 --> 00:19:52,920
to find information about the mortgages,

395
00:19:52,920 --> 00:19:54,840
I need to question another agent

396
00:19:54,840 --> 00:19:58,620
and then I need to hand
over to the specific area

397
00:19:58,620 --> 00:20:00,270
or the specialized agent

398
00:20:00,270 --> 00:20:03,773
and then that context is
passed to the second agent,

399
00:20:03,773 --> 00:20:05,730
that is the collaborator.

400
00:20:05,730 --> 00:20:08,130
And then the final response is assembled

401
00:20:08,130 --> 00:20:10,050
by the orchestrator agent.

402
00:20:10,050 --> 00:20:13,470
As you can see, everything took 13 seconds

403
00:20:13,470 --> 00:20:16,950
and this is locked directly
by default when you launch

404
00:20:16,950 --> 00:20:19,680
with the quick start on AgentCore.

405
00:20:19,680 --> 00:20:24,660
Okay, now let's try to
find some potential,

406
00:20:24,660 --> 00:20:28,230
I will say hypothesis of
why this is happening.

407
00:20:28,230 --> 00:20:29,340
Okay?

408
00:20:29,340 --> 00:20:31,200
- [Luis] What do you think is happening?

409
00:20:31,200 --> 00:20:33,270
Is there kind of things that you review

410
00:20:33,270 --> 00:20:38,013
what you are having an issue
with latency in Agentic?

411
00:20:41,250 --> 00:20:42,825
Some of the things that you can review

412
00:20:42,825 --> 00:20:45,690
is the prompt for
example, or the variables.

413
00:20:45,690 --> 00:20:46,890
- [Gabriel] Exactly now.

414
00:20:48,930 --> 00:20:52,260
Like for example the prompt
is one something that I,

415
00:20:52,260 --> 00:20:55,380
we have set on purpose in this example,

416
00:20:55,380 --> 00:20:57,363
look at this value temperature.

417
00:20:58,410 --> 00:20:59,910
Now it's quite high

418
00:20:59,910 --> 00:21:01,980
and normally when you
set the temperature high

419
00:21:01,980 --> 00:21:05,460
for any foundational model,
the model becomes more creative

420
00:21:05,460 --> 00:21:08,490
and basically it has a more
probabilistic distribution

421
00:21:08,490 --> 00:21:11,520
of words that's going
to select as the output.

422
00:21:11,520 --> 00:21:14,580
So when we want to make
the model a little bit more

423
00:21:14,580 --> 00:21:16,380
constrained in the probabilities,

424
00:21:16,380 --> 00:21:19,650
we could set the temperature back,

425
00:21:19,650 --> 00:21:23,220
like 0.5 or even 0.2.

426
00:21:23,220 --> 00:21:26,880
When we want to make it more strict,

427
00:21:26,880 --> 00:21:29,430
there are some use cases like
for example we might set it

428
00:21:29,430 --> 00:21:31,680
to zero when we want like a prompt router

429
00:21:31,680 --> 00:21:34,590
or to have like a conversion
from text to (indistinct)

430
00:21:34,590 --> 00:21:36,690
or other structure format

431
00:21:36,690 --> 00:21:39,243
because we don't want
creativity in that part.

432
00:21:40,440 --> 00:21:44,220
The other parameter, it's
about the max tokens.

433
00:21:44,220 --> 00:21:46,410
So max tokens allows to control

434
00:21:46,410 --> 00:21:50,160
the length of the response from the LLM.

435
00:21:50,160 --> 00:21:54,000
So in this case we set 400 tokens

436
00:21:54,000 --> 00:21:56,820
but we can decrease that,
yeah to a lower value

437
00:21:56,820 --> 00:21:58,290
because we know that the responses

438
00:21:58,290 --> 00:22:00,063
are not going to be that long.

439
00:22:01,740 --> 00:22:03,960
Okay, what about this,

440
00:22:03,960 --> 00:22:06,663
what do you think about this
configuration right here?

441
00:22:14,258 --> 00:22:15,091
- [Audience Member] It depends,

442
00:22:15,091 --> 00:22:17,130
what kind of model you wanted
to use (speaks faintly).

443
00:22:17,130 --> 00:22:17,963
- [Gabriel] Exactly.

444
00:22:17,963 --> 00:22:18,796
- [Audience Member] Might
be a (speaks faintly),

445
00:22:21,597 --> 00:22:23,610
- [Gabriel] That's important.

446
00:22:23,610 --> 00:22:25,830
And this is kind of funny because we refer

447
00:22:25,830 --> 00:22:30,000
to Anthropic Claude 3.7 like an old model,

448
00:22:30,000 --> 00:22:33,420
but I mean things move super
fast in the GenAI space.

449
00:22:33,420 --> 00:22:36,000
The reality is that there are newer models

450
00:22:36,000 --> 00:22:38,070
that we can implement
and to take advantage.

451
00:22:38,070 --> 00:22:41,670
For example, Nova 2 which
was released just yesterday

452
00:22:41,670 --> 00:22:45,093
and also, Sonnet 4.5.

453
00:22:46,080 --> 00:22:49,620
And also another pattern
that is quite useful

454
00:22:49,620 --> 00:22:52,350
when we have a multi-agent
orchestrated system

455
00:22:52,350 --> 00:22:55,770
is that we can have like a super,

456
00:22:55,770 --> 00:22:59,730
I would say a more optimized
model for the orchestrator

457
00:22:59,730 --> 00:23:02,670
and then we can have a
more specialized model

458
00:23:02,670 --> 00:23:04,380
for the specific agent.

459
00:23:04,380 --> 00:23:07,890
So we're going to roll this
change through this agent

460
00:23:07,890 --> 00:23:08,910
and then we're going to push

461
00:23:08,910 --> 00:23:11,730
the change into production, okay?

462
00:23:11,730 --> 00:23:16,020
The first thing that I'm going
to do is to clean all the,

463
00:23:16,020 --> 00:23:18,630
I will say parameters of
invocation of the agent.

464
00:23:18,630 --> 00:23:23,100
I'm going to set everything
to 0.5 on the temperature,

465
00:23:23,100 --> 00:23:24,900
0.5

466
00:23:24,900 --> 00:23:27,660
and even in the orchestrator
I'm going to set it

467
00:23:27,660 --> 00:23:31,500
like a quite low value like
0.1 because we don't have much,

468
00:23:31,500 --> 00:23:34,350
we don't want much
creativity in that part.

469
00:23:34,350 --> 00:23:35,183
Okay?

470
00:23:35,183 --> 00:23:38,070
The second thing, we are going to set some

471
00:23:38,070 --> 00:23:41,580
of the environment variables
to use the new model.

472
00:23:41,580 --> 00:23:46,050
So this project I have
built with AgentCore

473
00:23:46,050 --> 00:23:49,770
basically relies on a
environment, environments,

474
00:23:49,770 --> 00:23:53,010
variables, external
variables with this file.

475
00:23:53,010 --> 00:23:55,800
So basically I can change
the model right here

476
00:23:55,800 --> 00:23:57,510
in order to grade the model.

477
00:23:57,510 --> 00:23:59,530
So let me open my terminal once again

478
00:24:01,928 --> 00:24:04,853
and let me see and check for that model.

479
00:24:06,720 --> 00:24:07,553
Okay, so AWS.

480
00:24:10,369 --> 00:24:15,369
AWS Bedrock list profiles.

481
00:24:16,170 --> 00:24:17,763
List inference profiles.

482
00:24:20,070 --> 00:24:23,100
Okay, now inference profiles,

483
00:24:23,100 --> 00:24:27,120
it's a mechanism that we
have in order to select

484
00:24:27,120 --> 00:24:30,300
like for example cross region invocation

485
00:24:30,300 --> 00:24:35,300
or cross region in cross
region invocation for models.

486
00:24:35,550 --> 00:24:38,100
So basically we use the
capacity of multiple regions

487
00:24:38,100 --> 00:24:40,620
for a single model and we're going to look

488
00:24:40,620 --> 00:24:45,620
for the endpoint of a Haiku 4.5.

489
00:24:46,080 --> 00:24:48,750
Then we're going to grab this value here.

490
00:24:48,750 --> 00:24:52,593
That is us Anthropic Claude 4.5.

491
00:24:53,519 --> 00:24:54,819
Okay, let me grab this one

492
00:24:56,727 --> 00:24:59,537
and let me place it
right here like Bedrock

493
00:25:00,396 --> 00:25:03,600
or orchestrator model

494
00:25:03,600 --> 00:25:05,650
we're going to add on new variable, okay?

495
00:25:06,657 --> 00:25:10,777
And let me see for the
other ones, Sonnet 4.5.

496
00:25:13,890 --> 00:25:16,683
Okay, and this is the endpoint.

497
00:25:21,540 --> 00:25:23,640
- [Luis] So we are using
an inference profile

498
00:25:23,640 --> 00:25:27,090
because it's better for resilience
in case something happen

499
00:25:27,090 --> 00:25:31,781
in one specific region
and having more capacity

500
00:25:31,781 --> 00:25:32,940
case is needed.

501
00:25:32,940 --> 00:25:35,220
- [Gabriel] That might,
that's one of the reason also

502
00:25:35,220 --> 00:25:39,270
to have enough capacity
because we are distributing,

503
00:25:39,270 --> 00:25:42,750
well the service is
distributing the inference code

504
00:25:42,750 --> 00:25:44,610
to our model replica in each

505
00:25:44,610 --> 00:25:47,193
of the regions we can scale in capacity.

506
00:25:48,270 --> 00:25:49,103
Okay?

507
00:25:49,103 --> 00:25:51,210
Now I have said that the
environment variables,

508
00:25:51,210 --> 00:25:55,050
now I need to roll this
changes into the code.

509
00:25:55,050 --> 00:25:59,130
So I'm going to copy
this environment variable

510
00:25:59,130 --> 00:26:01,473
and I'm going to add a new one.

511
00:26:02,790 --> 00:26:04,143
Orchestrator model.

512
00:26:09,570 --> 00:26:11,610
Now there we are,

513
00:26:11,610 --> 00:26:15,603
and finally we're going to
set this change into the,

514
00:26:18,030 --> 00:26:19,470
lemme close it right here.

515
00:26:19,470 --> 00:26:22,533
Let's create that into
the orchestrator model.

516
00:26:26,490 --> 00:26:27,720
Orchestrator model.

517
00:26:27,720 --> 00:26:30,330
Okay, so basically we modified

518
00:26:30,330 --> 00:26:32,370
to use Haiku on the orchestrator,

519
00:26:32,370 --> 00:26:36,000
which is a lighter model
compared to Sonnet,

520
00:26:36,000 --> 00:26:38,160
which allow us to gain a little bit

521
00:26:38,160 --> 00:26:40,260
of time in the first response.

522
00:26:40,260 --> 00:26:42,780
And then we are operating
the model from 3.7

523
00:26:42,780 --> 00:26:45,960
to 0.5 in the rest of the models.

524
00:26:45,960 --> 00:26:46,793
Okay?

525
00:26:46,793 --> 00:26:50,370
Now we are ready to roll
this change into production

526
00:26:50,370 --> 00:26:53,160
and the way we do that is

527
00:26:53,160 --> 00:26:55,920
with the same AgentCore specification

528
00:26:55,920 --> 00:26:58,980
and the same AgentCore utility.

529
00:26:58,980 --> 00:26:59,853
Agent.

530
00:27:02,520 --> 00:27:04,170
The status, as you can see,

531
00:27:04,170 --> 00:27:07,500
we already have the agent running,

532
00:27:07,500 --> 00:27:10,350
I have an A utility babe for the sake

533
00:27:10,350 --> 00:27:14,400
of this workshop that
basically use a make file

534
00:27:14,400 --> 00:27:16,170
to deploy the agent.

535
00:27:16,170 --> 00:27:19,443
So let me also roll this change here.

536
00:27:24,720 --> 00:27:26,117
This is not what (speaks faintly).

537
00:27:27,330 --> 00:27:29,700
- [Luis] So here we're using the AgentCore

538
00:27:29,700 --> 00:27:31,650
toolkit that allow us to deploy

539
00:27:31,650 --> 00:27:35,830
and simplify the deploy of
new agents in production.

540
00:27:35,830 --> 00:27:37,740
If you haven't used it,

541
00:27:37,740 --> 00:27:38,790
we are going to show you

542
00:27:38,790 --> 00:27:41,160
the resource so you can access this.

543
00:27:41,160 --> 00:27:43,800
I was testing it different times

544
00:27:43,800 --> 00:27:47,220
and you can deploy an agent
in the less than five minutes.

545
00:27:47,220 --> 00:27:48,240
So it's pretty easy.

546
00:27:48,240 --> 00:27:53,073
So the changes that
Gabo has completed here,

547
00:27:54,540 --> 00:27:57,600
we can now send in to the new version

548
00:27:57,600 --> 00:27:59,340
of the agent in the wrong time

549
00:27:59,340 --> 00:28:01,140
we are going to see the new version.

550
00:28:02,130 --> 00:28:05,253
- [Gabriel] I know why
we don't need that much.

551
00:28:06,456 --> 00:28:09,300
It's a little bit
annoying when it tries to,

552
00:28:09,300 --> 00:28:12,924
to recommend blocks of code
that you need actually.

553
00:28:12,924 --> 00:28:14,248
(Gabriel laughs)

554
00:28:14,248 --> 00:28:15,081
(audience member speaks indistinctly)

555
00:28:15,081 --> 00:28:16,740
Okay, but I think we are set,

556
00:28:16,740 --> 00:28:18,240
we have, let me double check.

557
00:28:18,240 --> 00:28:21,180
We have the orchestrator
model, orchestrator model,

558
00:28:21,180 --> 00:28:23,310
then we have orchestrator model

559
00:28:23,310 --> 00:28:25,410
and then we have that into our variables.

560
00:28:25,410 --> 00:28:27,093
Now Let's launch that.

561
00:28:32,650 --> 00:28:33,687
Okay.

562
00:28:33,687 --> 00:28:34,800
Now it took the change

563
00:28:34,800 --> 00:28:37,290
and we have Haiku on the orchestrator,

564
00:28:37,290 --> 00:28:40,803
we have Anthropic model and Sonnet in 4.5.

565
00:28:42,330 --> 00:28:46,770
This is something that it
happened when you might need

566
00:28:46,770 --> 00:28:48,060
to take into consideration,

567
00:28:48,060 --> 00:28:51,390
it happened to me when I
was creating this workshop.

568
00:28:51,390 --> 00:28:55,833
By default, when you launch
an AgentCore, agent base,

569
00:28:56,700 --> 00:28:59,820
you need to pass all the
environmental variables one by one

570
00:28:59,820 --> 00:29:00,870
within the launch command.

571
00:29:00,870 --> 00:29:05,100
If you, it doesn't take the
that end file by default.

572
00:29:05,100 --> 00:29:08,700
So it can go to a like a very difficult,

573
00:29:08,700 --> 00:29:12,060
I will say fault condition
that are difficult to spot bot.

574
00:29:12,060 --> 00:29:16,713
I mean it's part, it's
in the documentation now.

575
00:29:21,390 --> 00:29:25,260
Well it was really quick
and then what it happened,

576
00:29:25,260 --> 00:29:27,240
it's basically it took our project,

577
00:29:27,240 --> 00:29:30,060
it see all the dependencies
that were already running.

578
00:29:30,060 --> 00:29:33,630
It created a, there is
in the local project

579
00:29:33,630 --> 00:29:38,550
a folder that's called
Bedrock AgentCore multi-agent.

580
00:29:38,550 --> 00:29:42,510
And this zip file, as you
can see by the output,

581
00:29:42,510 --> 00:29:46,710
outputs of the lock are
being uploaded to S3

582
00:29:46,710 --> 00:29:48,750
and then it created a deployment package,

583
00:29:48,750 --> 00:29:50,400
OpenTelemetry, salary running.

584
00:29:50,400 --> 00:29:53,760
It's part of the things
that are enabled by default.

585
00:29:53,760 --> 00:29:56,160
And then we have our new agent created.

586
00:29:56,160 --> 00:30:01,050
Now if we will back to our
agent, to our user interface.

587
00:30:01,050 --> 00:30:06,050
Let me refresh this
and we have version 28.

588
00:30:07,230 --> 00:30:10,083
Okay, now let's see the difference.

589
00:30:19,710 --> 00:30:22,290
- [Luis] Oops, okay, there
was a difference there

590
00:30:22,290 --> 00:30:25,200
- [Gabriel] For sure.
(Gabriel laughs)

591
00:30:25,200 --> 00:30:26,733
Let me see once again.

592
00:30:32,640 --> 00:30:33,473
Whoops.

593
00:30:37,110 --> 00:30:41,496
Then refresh a little bit once again.

594
00:30:41,496 --> 00:30:44,043
It should be faster, I promise.

595
00:30:46,830 --> 00:30:49,650
Now while the user interface loading,

596
00:30:49,650 --> 00:30:51,790
we can see that in the locks

597
00:30:53,910 --> 00:30:55,660
what's happening behind the scenes.

598
00:31:01,380 --> 00:31:05,950
Okay, this was the successful invocation

599
00:31:07,920 --> 00:31:12,030
handing over to the new agent handing over

600
00:31:12,030 --> 00:31:17,030
and then there we go.

601
00:31:18,270 --> 00:31:23,270
Now it improve from 30
to 0.5 to 12 seconds.

602
00:31:23,490 --> 00:31:26,340
But we are already seeing
an improvement in this,

603
00:31:26,340 --> 00:31:28,110
in this check, in this aspect.

604
00:31:28,110 --> 00:31:30,900
I mean we can continue to improve it

605
00:31:30,900 --> 00:31:33,210
by making the prompt more specific.

606
00:31:33,210 --> 00:31:34,800
We can make other optimization,

607
00:31:34,800 --> 00:31:37,470
but we're going to get there
in a couple of minutes.

608
00:31:37,470 --> 00:31:40,230
Now, any questions so far within

609
00:31:40,230 --> 00:31:42,723
what we have seen until this moment?

610
00:31:44,377 --> 00:31:46,710
No.
- [Luis] Everything okay.

611
00:31:47,715 --> 00:31:49,865
- [Gabriel] No, let's
try with another one.

612
00:31:50,760 --> 00:31:55,760
Okay, and let me check one second.

613
00:31:55,980 --> 00:32:00,980
No, let me refresh this
user interface once again.

614
00:32:01,470 --> 00:32:03,777
And there we are going to
ask for a different question.

615
00:32:03,777 --> 00:32:07,830
I'm going to check if we
are eligible for a loan.

616
00:32:07,830 --> 00:32:09,840
- [Luis] But Gabo, before going there,

617
00:32:09,840 --> 00:32:13,110
can you please show us the metrics

618
00:32:13,110 --> 00:32:16,147
that we can see in CloudWatch
related to AgentCore?

619
00:32:16,147 --> 00:32:17,100
- [Gabriel] Ah, for sure.
- [Luis] Yeah,

620
00:32:17,100 --> 00:32:19,830
because we were seeing the
latency in the console,

621
00:32:19,830 --> 00:32:22,080
we were seeing that
there are some problems.

622
00:32:22,080 --> 00:32:23,970
But also we want to show you here is

623
00:32:23,970 --> 00:32:26,970
that we have AgentCore Observability

624
00:32:26,970 --> 00:32:29,160
including inside CloudWatch.

625
00:32:29,160 --> 00:32:32,190
So there are different kind
of metrics that will allow us

626
00:32:32,190 --> 00:32:35,520
to improve our agents in the future.

627
00:32:35,520 --> 00:32:37,440
So what we can see here, Gabo.

628
00:32:37,440 --> 00:32:39,180
- [Gabriel] Now we can see right now

629
00:32:39,180 --> 00:32:42,270
that we have two agents
configured, two endpoints.

630
00:32:42,270 --> 00:32:44,130
We have 25 sessions created.

631
00:32:44,130 --> 00:32:48,480
Some of those are created
those with a load test script.

632
00:32:48,480 --> 00:32:49,313
And then we start,

633
00:32:49,313 --> 00:32:51,840
we can start to seeing the
trends in the sessions,

634
00:32:51,840 --> 00:32:54,000
the traces, the errors,

635
00:32:54,000 --> 00:32:56,340
and then we can start seeing like runtime

636
00:32:56,340 --> 00:32:58,440
specific metrics that are quite useful.

637
00:32:58,440 --> 00:33:00,870
Like for example the number of invocation,

638
00:33:00,870 --> 00:33:02,820
the number of BCPU by hour

639
00:33:02,820 --> 00:33:06,090
because that's a unit that
the services charge by.

640
00:33:06,090 --> 00:33:09,630
And also the memory
consumption by gigabytes.

641
00:33:09,630 --> 00:33:11,010
We have two agents right now,

642
00:33:11,010 --> 00:33:13,980
the default and some other
customer support agent

643
00:33:13,980 --> 00:33:15,900
that I created previously.

644
00:33:15,900 --> 00:33:19,260
And we can start to check
a little bit further

645
00:33:19,260 --> 00:33:21,990
for the specific agents, the token usage,

646
00:33:21,990 --> 00:33:25,756
which is also an important
value for capacity planning.

647
00:33:25,756 --> 00:33:28,440
The number of sessions,
the number of traces,

648
00:33:28,440 --> 00:33:30,930
the number of errors
where from the system,

649
00:33:30,930 --> 00:33:34,290
which is for example if
the model failed to import

650
00:33:34,290 --> 00:33:37,590
and also from the client side,

651
00:33:37,590 --> 00:33:39,300
whether it's some parameter misconfigure

652
00:33:39,300 --> 00:33:42,750
or even a header that was misconfigured.

653
00:33:42,750 --> 00:33:46,260
And then we could even have the inbound

654
00:33:46,260 --> 00:33:49,860
and outbound authorization request count.

655
00:33:49,860 --> 00:33:52,617
You know, it's part of the
components of AgentCore.

656
00:33:55,200 --> 00:33:58,315
- [Luis] Something that is
nice about AgentCore run 10

657
00:33:58,315 --> 00:33:59,910
is that you have a serverless environment.

658
00:33:59,910 --> 00:34:02,400
So if you are creating your agents,

659
00:34:02,400 --> 00:34:03,840
you don't have to worry about

660
00:34:03,840 --> 00:34:07,620
any assignment of BCP or memory.

661
00:34:07,620 --> 00:34:09,750
Everything is happening behind the scenes

662
00:34:09,750 --> 00:34:11,730
and is managed by the service.

663
00:34:11,730 --> 00:34:13,830
- [Gabriel] Okay, perfect.

664
00:34:13,830 --> 00:34:16,980
Now we can also invoke the agent

665
00:34:16,980 --> 00:34:21,600
from the AgentCore console.

666
00:34:21,600 --> 00:34:25,020
So, let me show you where you can test.

667
00:34:25,020 --> 00:34:27,300
Within AgentCore service,

668
00:34:27,300 --> 00:34:30,540
you can search for test and agent sandbox

669
00:34:30,540 --> 00:34:32,940
and basically you can select the agent,

670
00:34:32,940 --> 00:34:35,160
the default endpoint in version 28.

671
00:34:35,160 --> 00:34:39,270
And then you can pass,
this is JSON structure

672
00:34:39,270 --> 00:34:41,070
where you can pass your prompt

673
00:34:41,070 --> 00:34:44,400
and also you can pass additional
parameters if you want

674
00:34:44,400 --> 00:34:47,190
or your need like for example,
headers from your application

675
00:34:47,190 --> 00:34:49,740
to give more context about the user.

676
00:34:49,740 --> 00:34:52,950
So I'm going to create
another prompt right now

677
00:34:52,950 --> 00:34:55,470
about the eligibility for a loan.

678
00:34:55,470 --> 00:34:59,640
So, am I (speaks faintly).

679
00:34:59,640 --> 00:35:01,050
- [Luis] So something
that we want to achieve

680
00:35:01,050 --> 00:35:04,530
for this financial
company is that they can

681
00:35:04,530 --> 00:35:07,230
verify if a customer is eligible,

682
00:35:07,230 --> 00:35:08,220
if it's the first time

683
00:35:08,220 --> 00:35:11,460
that this customer is coming to the bank,

684
00:35:11,460 --> 00:35:16,260
that we can have an agent
that verify the user history

685
00:35:16,260 --> 00:35:20,520
and that can confirm what kind of credit

686
00:35:20,520 --> 00:35:24,390
or what kind of loan can
be approved for this user.

687
00:35:24,390 --> 00:35:26,220
- [Gabriel] Okay, now
let's fire this prompt

688
00:35:26,220 --> 00:35:27,620
and let's see the responses.

689
00:35:31,560 --> 00:35:33,660
- [Luis] What was the question?

690
00:35:33,660 --> 00:35:35,910
- [Gabriel] It's checking
if I am eligible for a loan

691
00:35:35,910 --> 00:35:40,890
with a 680 credit score and
a 60K annual income, that's-

692
00:35:40,890 --> 00:35:43,923
- [Luis] In this case the user
is providing directly data.

693
00:35:45,270 --> 00:35:48,270
Most of the time the
companies will verify that.

694
00:35:48,270 --> 00:35:51,750
- [Gabriel] Exactly.
- [Luis] Okay and the answer?

695
00:35:51,750 --> 00:35:53,345
- [Gabriel] And the answer is-

696
00:35:53,345 --> 00:35:57,450
(Gabriel speaks in foreign language)

697
00:35:57,450 --> 00:36:00,660
- [Luis] Many people that
can speak Spanish here?

698
00:36:00,660 --> 00:36:04,770
Okay, very good.
(audience laughs)

699
00:36:04,770 --> 00:36:07,200
- [Gabriel] Now this is
something that can happen.

700
00:36:07,200 --> 00:36:10,080
It's quite common when you
have a multilingual agents,

701
00:36:10,080 --> 00:36:13,020
normally you have like a
specialized prompts based

702
00:36:13,020 --> 00:36:18,020
on the language because
for example in Spanish we,

703
00:36:18,150 --> 00:36:21,000
there are words that have
multiple meanings and we can,

704
00:36:21,000 --> 00:36:23,970
we need to have a more concise prompt

705
00:36:23,970 --> 00:36:25,170
for the specific languages.

706
00:36:25,170 --> 00:36:28,440
It's a good practice and
this can happen. Okay?

707
00:36:28,440 --> 00:36:30,990
Now the thing is that we already saw,

708
00:36:30,990 --> 00:36:34,380
let's go to the code and let's
see what could be happening.

709
00:36:34,380 --> 00:36:39,153
Okay, now let's see where
are our prompts right now?

710
00:36:40,020 --> 00:36:41,400
Let's close this.

711
00:36:41,400 --> 00:36:44,763
Let's close this and let's close this one.

712
00:36:46,920 --> 00:36:48,720
No, it was for eligibility.

713
00:36:48,720 --> 00:36:52,627
So let me search for the
eligibility agent now.

714
00:36:56,010 --> 00:36:58,920
So we have a Bedrock model, a model ID,

715
00:36:58,920 --> 00:37:02,670
a temperature, and then we have a prompt,

716
00:37:02,670 --> 00:37:07,670
basically get prompt an
eligibility agent prompt ID.

717
00:37:07,740 --> 00:37:09,870
Now what's going on behind this scene

718
00:37:09,870 --> 00:37:13,680
for this specific agent, we're
leveraging a functionality

719
00:37:13,680 --> 00:37:17,220
that's called a Amazon
Bedrock Prompt Management,

720
00:37:17,220 --> 00:37:21,450
which is a service that
allows to store version,

721
00:37:21,450 --> 00:37:23,640
I'll say the whole life
cycle of the prompts

722
00:37:23,640 --> 00:37:25,760
in which you can set default parameters

723
00:37:25,760 --> 00:37:27,000
for each of the prompts.

724
00:37:27,000 --> 00:37:32,000
So we need to seek for
the eligibility prompt.

725
00:37:34,080 --> 00:37:37,560
Now if we move to Amazon Bedrock console

726
00:37:37,560 --> 00:37:41,850
as we have previously open here,

727
00:37:41,850 --> 00:37:45,120
as we can see we have the rate checker,

728
00:37:45,120 --> 00:37:47,850
the loan advisor, the Spanish agent,

729
00:37:47,850 --> 00:37:51,270
the eligibility agent, and
the loan calculated agent.

730
00:37:51,270 --> 00:37:52,103
Okay?

731
00:37:52,103 --> 00:37:54,120
So most likely what we
have here is a problem

732
00:37:54,120 --> 00:37:56,640
with the configuration
parameter for our agents.

733
00:37:56,640 --> 00:38:00,510
So let's check what's the
agent ID in this case?

734
00:38:00,510 --> 00:38:04,140
This is L8J.

735
00:38:04,140 --> 00:38:06,820
And let's see in our
environmental variables

736
00:38:08,677 --> 00:38:13,020
.env exactly, that's what we have here.

737
00:38:13,020 --> 00:38:15,390
So the fix is quite simple in this case,

738
00:38:15,390 --> 00:38:19,260
we don't have to modify the
code of the agent itself.

739
00:38:19,260 --> 00:38:22,263
We need to move from one
parameter to another.

740
00:38:23,340 --> 00:38:25,050
So let's seek for this one.

741
00:38:25,050 --> 00:38:27,120
As you can see, you are a
loan advisor especially,

742
00:38:27,120 --> 00:38:29,310
it just says customer qualifications

743
00:38:29,310 --> 00:38:31,770
and recommend blah blah blah blah, blah.

744
00:38:31,770 --> 00:38:32,913
Let's... Let me.

745
00:38:37,740 --> 00:38:40,470
that should be better for you guys

746
00:38:40,470 --> 00:38:42,723
and then let me copy this ID,

747
00:38:43,620 --> 00:38:46,320
the one that ends in 98.

748
00:38:46,320 --> 00:38:49,443
Let me modify that into the
environmental variables.

749
00:38:50,910 --> 00:38:52,020
Okay.

750
00:38:52,020 --> 00:38:55,320
And then I think we're
ready to deploy once again.

751
00:38:55,320 --> 00:38:57,900
- [Luis] So, it was a
problem with the parameter

752
00:38:57,900 --> 00:39:01,740
that someone modified and
left the prone in Spanish.

753
00:39:01,740 --> 00:39:02,730
- [Gabriel] Exactly.

754
00:39:02,730 --> 00:39:06,330
- [Luis] So we are seeing
different customers

755
00:39:06,330 --> 00:39:10,590
implementing multilingual agents,

756
00:39:10,590 --> 00:39:13,770
using multi-agent to allow the customers

757
00:39:13,770 --> 00:39:16,650
to have conversation in the
language that they prefer.

758
00:39:16,650 --> 00:39:18,600
But sometimes it can be useful

759
00:39:18,600 --> 00:39:21,900
to have a specific
parameters for each language,

760
00:39:21,900 --> 00:39:23,760
which is what we have here.

761
00:39:23,760 --> 00:39:25,710
And also the ability
to have the pros there.

762
00:39:25,710 --> 00:39:28,200
We can have the pro inside the code,

763
00:39:28,200 --> 00:39:30,930
but when you have that as a parameter,

764
00:39:30,930 --> 00:39:35,550
you can make more simple the modification

765
00:39:35,550 --> 00:39:36,780
and the new versions

766
00:39:36,780 --> 00:39:39,342
and also having a version of the prompts.

767
00:39:39,342 --> 00:39:41,550
- [Gabriel] It's up once again.

768
00:39:41,550 --> 00:39:43,680
And I want to show a
feature that's quite useful

769
00:39:43,680 --> 00:39:45,450
in this cases that we're testing

770
00:39:45,450 --> 00:39:48,933
and testing constantly
within the AgentCore,

771
00:39:50,250 --> 00:39:52,998
let me grab this prompt before I go in.

772
00:39:52,998 --> 00:39:56,790
Within the AgentCore run
time there is a concept

773
00:39:56,790 --> 00:40:00,330
of endpoint and also about version.

774
00:40:00,330 --> 00:40:02,010
So every version is in multiple.

775
00:40:02,010 --> 00:40:04,560
Once you deploy it, you cannot modify it,

776
00:40:04,560 --> 00:40:07,200
but then you can have multiple endpoints.

777
00:40:07,200 --> 00:40:10,710
It creates one that it's the
default one and it rolls.

778
00:40:10,710 --> 00:40:13,740
The latest version is always
mapped to the default.

779
00:40:13,740 --> 00:40:16,590
But then you can have like
production, pre-production,

780
00:40:16,590 --> 00:40:20,610
Spanish, Latin America, States,

781
00:40:20,610 --> 00:40:22,140
Europe, Spain, Portugal.

782
00:40:22,140 --> 00:40:23,580
You can have many endpoints.

783
00:40:23,580 --> 00:40:26,610
And then on the application
side you can select

784
00:40:26,610 --> 00:40:29,760
which version of the
agent is being invoked.

785
00:40:29,760 --> 00:40:33,360
Okay, now this is version 29.

786
00:40:33,360 --> 00:40:35,280
Just got up recently

787
00:40:35,280 --> 00:40:39,393
and let's test once again
in the Agent sandbox.

788
00:40:42,510 --> 00:40:45,450
Okay, I'm going to fire this invocation

789
00:40:45,450 --> 00:40:47,890
and let me show you once again

790
00:40:49,950 --> 00:40:53,520
the locks because we're now
going to see another aspect

791
00:40:53,520 --> 00:40:54,750
of the observability.

792
00:40:54,750 --> 00:40:56,580
We're going to switch to the traces

793
00:40:56,580 --> 00:40:59,820
so you can see what's going
on with all the visibility.

794
00:40:59,820 --> 00:41:02,070
Now as you can see,

795
00:41:02,070 --> 00:41:05,698
the responses are flowing back in English.

796
00:41:05,698 --> 00:41:09,900
And great news based on your profile

797
00:41:13,290 --> 00:41:14,760
and your current eligibility created,

798
00:41:14,760 --> 00:41:17,370
you are eligible for a personal loan.

799
00:41:17,370 --> 00:41:18,210
Thanks God.

800
00:41:18,210 --> 00:41:21,780
And then we have the invocation
successfully complete.

801
00:41:21,780 --> 00:41:25,170
Now with each invocation
you're going to see

802
00:41:25,170 --> 00:41:28,470
a useful parameter,
which is the session ID.

803
00:41:28,470 --> 00:41:31,170
Okay, session ID is created

804
00:41:31,170 --> 00:41:34,950
by the client is a 30 long character,

805
00:41:34,950 --> 00:41:39,060
normally a unique identified
value that you set

806
00:41:39,060 --> 00:41:41,640
or you can customize the session ID.

807
00:41:41,640 --> 00:41:46,640
But with this session ID, let
me copy and grab this value.

808
00:41:47,100 --> 00:41:51,300
We can go to the observability console

809
00:41:51,300 --> 00:41:53,730
and then we can start to drive on

810
00:41:53,730 --> 00:41:57,000
and to drill down into the
specific of this invocation.

811
00:41:57,000 --> 00:42:01,770
So let me first of all show you a part

812
00:42:01,770 --> 00:42:04,020
that I didn't show at the
beginning of the presentations.

813
00:42:04,020 --> 00:42:08,250
That this functionality of traces uses

814
00:42:08,250 --> 00:42:11,310
what it's called X-Ray traces
that needs to be enabled.

815
00:42:11,310 --> 00:42:14,110
This is in the documentation
of AgentCore Observability.

816
00:42:15,450 --> 00:42:18,060
And basically you need to
enable transactional search

817
00:42:18,060 --> 00:42:19,740
for OpenTelemetry spans.

818
00:42:19,740 --> 00:42:23,070
That's what we are
basically using right here.

819
00:42:23,070 --> 00:42:24,360
This is the open format

820
00:42:24,360 --> 00:42:27,273
for setting the logs in a standard way.

821
00:42:31,950 --> 00:42:34,297
So let me go to the observability

822
00:42:35,937 --> 00:42:40,290
and let me open the sessions.

823
00:42:40,290 --> 00:42:42,210
All sessions.

824
00:42:42,210 --> 00:42:43,920
- [Luis] So every time
that we have a new user,

825
00:42:43,920 --> 00:42:46,020
we have a new session.

826
00:42:46,020 --> 00:42:47,070
- [Gabriel] Exactly.

827
00:42:47,070 --> 00:42:51,870
Even the session can be a set,

828
00:42:51,870 --> 00:42:55,470
it can last for at least 15 minutes

829
00:42:55,470 --> 00:42:57,630
and up to eight hours.

830
00:42:57,630 --> 00:43:00,120
The session can last
for up to eight hours.

831
00:43:00,120 --> 00:43:00,953
That's right.

832
00:43:04,110 --> 00:43:06,390
Let me find this session IDs.

833
00:43:06,390 --> 00:43:11,390
Session ID equals no.

834
00:43:16,080 --> 00:43:18,510
With this session we have one trace

835
00:43:18,510 --> 00:43:19,860
and the trace will allow us

836
00:43:19,860 --> 00:43:22,143
to map what's happening behind the scenes.

837
00:43:25,500 --> 00:43:28,560
We are already depicted
what's going on in the code.

838
00:43:28,560 --> 00:43:32,530
And let me open this and let me close

839
00:43:36,210 --> 00:43:39,930
this little window is yes,
I don't want to see that.

840
00:43:39,930 --> 00:43:44,930
Now the trace console within
AgentCore Observability,

841
00:43:45,690 --> 00:43:49,680
as you can see has a tri
and also it has a timeline.

842
00:43:49,680 --> 00:43:51,230
So you can see what's going on.

843
00:43:52,500 --> 00:43:55,500
The first thing is that
it was a post invocation.

844
00:43:55,500 --> 00:43:58,410
Then we have, we grab the prompts

845
00:43:58,410 --> 00:44:00,750
from each of the four
prompts that we're using.

846
00:44:00,750 --> 00:44:02,880
Then we invoke the swarm,

847
00:44:02,880 --> 00:44:05,340
then we invoke the FSI loan advisor.

848
00:44:05,340 --> 00:44:08,700
Then we go into a loop
in which we can hand over

849
00:44:08,700 --> 00:44:12,873
the request to the
agents within the swarm.

850
00:44:13,740 --> 00:44:15,990
And then we invoke the model,

851
00:44:15,990 --> 00:44:18,873
which was Anthropic Haiku 4.5.

852
00:44:19,770 --> 00:44:23,010
And then we can see that
we execute the event loops

853
00:44:23,010 --> 00:44:24,780
for each of the models.

854
00:44:24,780 --> 00:44:28,710
We can drill into the specific
of the modeling vacation.

855
00:44:28,710 --> 00:44:32,110
Like for example, this
modeling vocation right here

856
00:44:33,150 --> 00:44:35,154
was completed in two seconds,

857
00:44:35,154 --> 00:44:40,154
193 tokens input and a
thousand tokens input

858
00:44:40,680 --> 00:44:43,200
and a hundred tokens of output.

859
00:44:43,200 --> 00:44:46,290
And then we can start seeing what is the,

860
00:44:46,290 --> 00:44:48,289
I would say the system prompt.

861
00:44:48,289 --> 00:44:51,210
You are a main FSI loan advisor.

862
00:44:51,210 --> 00:44:52,890
You work with some specialist agent

863
00:44:52,890 --> 00:44:56,250
to help customers delegate
specialist as you need.

864
00:44:56,250 --> 00:45:00,540
We're going to see like available
a specialist rate checker

865
00:45:00,540 --> 00:45:02,433
loan calculator eligibility.

866
00:45:03,300 --> 00:45:04,770
And also you can see the trajectory.

867
00:45:04,770 --> 00:45:08,220
This is quite cool because you
can see it in a graphic way.

868
00:45:08,220 --> 00:45:12,900
What the flow of the invocation,
it's what's happening.

869
00:45:12,900 --> 00:45:16,410
So the first time we
receive the invoke room time

870
00:45:16,410 --> 00:45:19,260
AgentCore, we receive that into a post.

871
00:45:19,260 --> 00:45:21,870
Then we grab all the prompts,

872
00:45:21,870 --> 00:45:24,510
then we book the loan agent

873
00:45:24,510 --> 00:45:27,090
and then we book the eligibility.

874
00:45:27,090 --> 00:45:29,670
As you can see the loop cycle,

875
00:45:29,670 --> 00:45:31,590
the minutes that were required

876
00:45:31,590 --> 00:45:33,663
in order to complete this request.

877
00:45:34,890 --> 00:45:39,300
Any questions? Doubt so far? Yes? Yes.

878
00:45:39,300 --> 00:45:40,133
- [Audience Member] Are the events

879
00:45:40,133 --> 00:45:41,310
on the previous page the same one?

880
00:45:41,310 --> 00:45:44,040
So would be passed in the
memory if you had it configured.

881
00:45:44,040 --> 00:45:45,360
- [Gabriel] Ah, perfect.

882
00:45:45,360 --> 00:45:49,470
Now the memory has its
own observability space.

883
00:45:49,470 --> 00:45:54,450
So if you, in this case we
don't have the memory enabled

884
00:45:54,450 --> 00:45:56,007
for the sake of the-

885
00:45:56,007 --> 00:45:57,450
The purpose of the demonstration.

886
00:45:57,450 --> 00:46:02,070
But in AgentCore Observability

887
00:46:02,070 --> 00:46:04,590
you're going to see that we have agents

888
00:46:04,590 --> 00:46:07,070
and also we have memory observability.

889
00:46:07,070 --> 00:46:11,010
So if we had observability memory enabled,

890
00:46:11,010 --> 00:46:14,190
we will see like all the
events for short term

891
00:46:14,190 --> 00:46:15,790
and long term memory right here.

892
00:46:19,320 --> 00:46:20,250
- [Audience Member] So
would you see the breakdown

893
00:46:20,250 --> 00:46:22,380
of the different strategies
and everything as well?

894
00:46:22,380 --> 00:46:24,270
- [Gabriel] Yes. You will see
the breakdown of the strategy,

895
00:46:24,270 --> 00:46:27,500
what's been stored in
each of the memories.

896
00:46:27,500 --> 00:46:29,062
- [Audience Member] Yeah,
but you see it though?

897
00:46:29,062 --> 00:46:30,885
(audience member speaks indistinctly)

898
00:46:30,885 --> 00:46:31,718
- [Gabriel] Yes.

899
00:46:31,718 --> 00:46:34,890
Because in sessions then you can see the,

900
00:46:34,890 --> 00:46:39,000
that information from the
memory, from the detail.

901
00:46:39,000 --> 00:46:41,313
We don't have a memory right now.

902
00:46:43,939 --> 00:46:46,773
If configure he will see it right here.

903
00:46:47,610 --> 00:46:49,202
And metrics from that.

904
00:46:49,202 --> 00:46:53,280
(presenter speak indistinctly)
Okay, now let's try

905
00:46:53,280 --> 00:46:56,790
to fix another one
that's quite common also.

906
00:46:56,790 --> 00:46:59,300
And let's ask the model for...

907
00:47:01,050 --> 00:47:05,733
Let's see the last one.

908
00:47:07,035 --> 00:47:11,310
Now let me ask the agent,

909
00:47:11,310 --> 00:47:12,450
let me refresh this

910
00:47:12,450 --> 00:47:16,650
to have the latest version, version 29.

911
00:47:16,650 --> 00:47:21,650
Now, regarding what is
the current interest?

912
00:47:24,594 --> 00:47:29,120
Interest rates for a 30...

913
00:47:36,664 --> 00:47:40,497
(Gabriel speaks indistinctly)

914
00:47:43,725 --> 00:47:44,613
Okay.

915
00:47:50,070 --> 00:47:53,883
We can see once again the
logs that are being invoked.

916
00:47:57,540 --> 00:47:59,000
- [Luis] And also something
that we would like

917
00:47:59,000 --> 00:48:00,480
to have here is for example,

918
00:48:00,480 --> 00:48:03,660
that the interest rate can
be evaluated by the agent

919
00:48:03,660 --> 00:48:07,140
and provide a different rate
according to the customers

920
00:48:07,140 --> 00:48:11,340
and allow them to obtain a credit in a

921
00:48:11,340 --> 00:48:13,083
or a loan in a few minutes.

922
00:48:13,980 --> 00:48:17,088
So that's why we have
created different agents here

923
00:48:17,088 --> 00:48:19,710
and we're going to talk about

924
00:48:19,710 --> 00:48:21,570
the multi-agent architecture at end.

925
00:48:21,570 --> 00:48:22,403
- [Gabriel] Okay.

926
00:48:22,403 --> 00:48:26,780
Now there is a slight
issue with this agent.

927
00:48:26,780 --> 00:48:30,540
As you can see the information
we have, it's outdated.

928
00:48:30,540 --> 00:48:31,980
It's from 2023.

929
00:48:31,980 --> 00:48:34,020
This is something that might happen

930
00:48:34,020 --> 00:48:36,660
because of the maintenance
of the knowledge basis

931
00:48:36,660 --> 00:48:41,310
in order to ingest basically
to process new information.

932
00:48:41,310 --> 00:48:42,960
And also this is as loose mention

933
00:48:42,960 --> 00:48:45,240
because this is an agent
that provides advice,

934
00:48:45,240 --> 00:48:46,710
financial advisory,

935
00:48:46,710 --> 00:48:50,610
this can misguide the
customer to take a decision

936
00:48:50,610 --> 00:48:53,910
because the this
information does not reflect

937
00:48:53,910 --> 00:48:55,410
the actual reality.

938
00:48:55,410 --> 00:49:00,250
Okay, now I'm going to grab
the session ID once again

939
00:49:01,200 --> 00:49:03,900
and now we are going back into

940
00:49:03,900 --> 00:49:06,442
the CloudWatch observability

941
00:49:06,442 --> 00:49:08,310
and the AgentCore Observability.

942
00:49:08,310 --> 00:49:11,400
And I'm going to search for this session.

943
00:49:11,400 --> 00:49:12,363
Session ID.

944
00:49:13,290 --> 00:49:14,123
Okay?

945
00:49:15,480 --> 00:49:18,150
And the objective in this part

946
00:49:18,150 --> 00:49:21,820
is that within the
traces we're going to see

947
00:49:22,770 --> 00:49:27,085
in the trajectory the
requests that are being

948
00:49:27,085 --> 00:49:29,853
performed towards the knowledge base.

949
00:49:31,650 --> 00:49:32,523
Okay?

950
00:49:34,800 --> 00:49:35,633
Now,

951
00:49:38,820 --> 00:49:41,400
let's move back all back to the end.

952
00:49:41,400 --> 00:49:42,860
And then...

953
00:49:44,910 --> 00:49:48,030
- [Luis] How many knowledge
base do we have here?

954
00:49:48,030 --> 00:49:51,390
- [Gabriel] We have just one
for the sake of the session.

955
00:49:51,390 --> 00:49:53,430
But the important thing is that,

956
00:49:53,430 --> 00:49:56,220
if you've had many others knowledge bases,

957
00:49:56,220 --> 00:50:00,060
which is a common architecture,
you will see that,

958
00:50:00,060 --> 00:50:04,020
why did the agent start
selecting one over the other?

959
00:50:04,020 --> 00:50:07,200
And you can see the even the
chunks that were retrieved

960
00:50:07,200 --> 00:50:09,573
by the request from retrieve,

961
00:50:11,070 --> 00:50:13,293
retrieve from the knowledge base.

962
00:50:14,460 --> 00:50:17,673
So let me check if I can find retrieve.

963
00:50:24,840 --> 00:50:25,923
This one here.

964
00:50:27,900 --> 00:50:32,900
Okay, now this is
something that as you said,

965
00:50:33,240 --> 00:50:35,190
I'm going to select retrieve

966
00:50:35,190 --> 00:50:38,190
and it didn't bring any information.

967
00:50:38,190 --> 00:50:39,139
Okay?

968
00:50:39,139 --> 00:50:43,110
When I show the x-ray configuration,

969
00:50:43,110 --> 00:50:46,560
the default configuration is to ingest,

970
00:50:46,560 --> 00:50:49,860
sorry, to index 1% of the traces.

971
00:50:49,860 --> 00:50:50,820
Okay?

972
00:50:50,820 --> 00:50:53,670
You're seeing the overall trajectory.

973
00:50:53,670 --> 00:50:58,042
But if you set the value
as the default that it is,

974
00:50:58,042 --> 00:51:00,030
you may encounter this,

975
00:51:00,030 --> 00:51:04,110
that not all the information
is being shown into the traces.

976
00:51:04,110 --> 00:51:04,943
Okay?

977
00:51:04,943 --> 00:51:07,380
Now there is a trade off,
if you increase the value,

978
00:51:07,380 --> 00:51:11,250
it's going to give a pro
it's going to cost more

979
00:51:11,250 --> 00:51:13,290
because the number of events

980
00:51:13,290 --> 00:51:15,633
that are being processed will increase.

981
00:51:17,100 --> 00:51:18,593
- [Luis] Yeah, in that case
you can decide if you want

982
00:51:18,593 --> 00:51:22,620
to have a hundred percent
of the logs being ingested

983
00:51:22,620 --> 00:51:26,040
and index it or if you
prefer in case you have

984
00:51:26,040 --> 00:51:28,970
a production environment,
choose less than that.

985
00:51:28,970 --> 00:51:30,360
Do you have a question?

986
00:51:30,360 --> 00:51:32,320
- [Audience Member] How does
it decide if (speaks faintly).

987
00:51:34,080 --> 00:51:34,980
- [Gabriel] I'm sorry, what?

988
00:51:34,980 --> 00:51:35,880
- [Audience Member] How does it decide

989
00:51:35,880 --> 00:51:38,070
what to record if it's not set?

990
00:51:38,070 --> 00:51:40,890
Like what's the algorithm
or how is it determined?

991
00:51:40,890 --> 00:51:43,315
What events that persisted or whatnot?

992
00:51:43,315 --> 00:51:45,390
- [Gabriel] It's a
random sample basically.

993
00:51:45,390 --> 00:51:46,410
- [Audience Member] Okay.
- [Gabriel] A sampling.

994
00:51:46,410 --> 00:51:48,090
- [Audience Member] So, you
could get lucky on some runs

995
00:51:48,090 --> 00:51:49,826
and you could get unlucky on other one.

996
00:51:49,826 --> 00:51:51,182
- [Luis] Exactly.
- [Gabriel] Exactly.

997
00:51:51,182 --> 00:51:52,907
Okay. Exactly. Okay.

998
00:51:52,907 --> 00:51:56,130
That just as it happened right here. Okay.

999
00:51:56,130 --> 00:52:00,570
Now I'm going to fix this
real quick and basically,

1000
00:52:00,570 --> 00:52:04,710
I'm going to move to the knowledge base.

1001
00:52:04,710 --> 00:52:05,670
In this case,

1002
00:52:05,670 --> 00:52:08,700
this is the knowledge base
that we have for this session

1003
00:52:08,700 --> 00:52:13,700
and this is the source
bucket that we have configure

1004
00:52:13,710 --> 00:52:17,400
and I'm going to replace
all those files in a second.

1005
00:52:17,400 --> 00:52:18,810
So let me grab the...

1006
00:52:18,810 --> 00:52:22,200
- [Luis] So this is something
that is very complex

1007
00:52:22,200 --> 00:52:24,660
for our current customers is,

1008
00:52:24,660 --> 00:52:28,470
is how to have updated
all the knowledge bases.

1009
00:52:28,470 --> 00:52:31,770
So that's something that
we should see in this case.

1010
00:52:31,770 --> 00:52:35,340
We have Bedrock knowledge
bases that are using

1011
00:52:35,340 --> 00:52:37,620
as a source and S3 bucket.

1012
00:52:37,620 --> 00:52:41,880
And what Gabo is going to do here,

1013
00:52:41,880 --> 00:52:44,220
is to update those files.

1014
00:52:44,220 --> 00:52:45,420
You have a question?

1015
00:52:45,420 --> 00:52:46,982
- [Audience Member] Yeah.

1016
00:52:46,982 --> 00:52:51,482
(audience member speaks indistinctly)

1017
00:52:57,123 --> 00:52:58,260
- [Luis] Now, let me go there

1018
00:52:58,260 --> 00:53:00,900
to see if I can hear you better also

1019
00:53:00,900 --> 00:53:02,250
for the rest of the people.

1020
00:53:06,810 --> 00:53:08,310
Can you please say that again?

1021
00:53:10,950 --> 00:53:11,880
- [Audience Member] Yeah, I was asking

1022
00:53:11,880 --> 00:53:14,460
if the session ID is persisted,

1023
00:53:14,460 --> 00:53:16,980
the same session ideas
persisted across like,

1024
00:53:16,980 --> 00:53:21,980
if you have a gateway
set up or memory set up

1025
00:53:22,140 --> 00:53:25,410
and you have traces
enabled through all of 'em.

1026
00:53:25,410 --> 00:53:27,210
Is it a single session ID?

1027
00:53:27,210 --> 00:53:29,130
You can connect them together.

1028
00:53:29,130 --> 00:53:30,810
- [Luis] Yeah, that session ID

1029
00:53:30,810 --> 00:53:33,930
it corresponds to the
AgentCore runin session.

1030
00:53:33,930 --> 00:53:38,370
So for the AgentCore runin,
it's going to be the same.

1031
00:53:38,370 --> 00:53:42,450
If you have a different
session from the memory site,

1032
00:53:42,450 --> 00:53:45,570
you are also going, we're
going to have the same ID.

1033
00:53:45,570 --> 00:53:47,040
- [Gabriel] Exactly.

1034
00:53:47,040 --> 00:53:48,870
Basically because you
can set the session ID

1035
00:53:48,870 --> 00:53:49,950
from the client side,

1036
00:53:49,950 --> 00:53:54,000
you can persist the same session ID.

1037
00:53:54,000 --> 00:53:58,740
Now the default timeout, it's
15 minutes if I recall well.

1038
00:53:58,740 --> 00:53:59,820
Up to eight hours.

1039
00:53:59,820 --> 00:54:04,820
So when the run time die,
basically you need to...

1040
00:54:04,920 --> 00:54:07,200
If you create another set
with the same session ID,

1041
00:54:07,200 --> 00:54:10,740
it's going to be another
runtime environment.

1042
00:54:10,740 --> 00:54:15,148
Okay, now I'm fixing this
and while this syncs,

1043
00:54:15,148 --> 00:54:17,610
this was a quick fix.

1044
00:54:17,610 --> 00:54:21,570
I want to move over to
another theme in the code

1045
00:54:21,570 --> 00:54:23,730
that might be useful for you folks.

1046
00:54:23,730 --> 00:54:27,210
Also in the, I would say to optimize for,

1047
00:54:27,210 --> 00:54:29,700
that's basically that in this situation,

1048
00:54:29,700 --> 00:54:31,890
as you have seen most of our interaction

1049
00:54:31,890 --> 00:54:36,480
is orchestrator specialized agent.

1050
00:54:36,480 --> 00:54:41,480
So basically we have a
full mesh environment.

1051
00:54:41,700 --> 00:54:45,153
Let me see if I can draw
something real quick right here.

1052
00:54:48,510 --> 00:54:51,543
So we have something like this and then-

1053
00:55:06,453 --> 00:55:09,900
Then disconnect with this one
and disconnect with this one

1054
00:55:09,900 --> 00:55:12,840
and this with this one and this,

1055
00:55:12,840 --> 00:55:14,640
I mean it's a full mesh of communication.

1056
00:55:14,640 --> 00:55:16,890
Now this is this the architecture

1057
00:55:16,890 --> 00:55:21,890
that we have right now with
our agent in this part,

1058
00:55:22,710 --> 00:55:25,110
let me show you where it is.

1059
00:55:25,110 --> 00:55:27,990
The AgentCore entry point is it's a swarm

1060
00:55:27,990 --> 00:55:30,930
with an entry point
with a max hopes of 20.

1061
00:55:30,930 --> 00:55:35,700
But we can aim to simplify
this in a another iteration.

1062
00:55:35,700 --> 00:55:37,920
That's basically if we switch to a,

1063
00:55:37,920 --> 00:55:40,230
for example a workflow orchestrator

1064
00:55:40,230 --> 00:55:42,086
or basically to move to a,

1065
00:55:42,086 --> 00:55:45,906
like a principle agent
and a subordinate agent,

1066
00:55:45,906 --> 00:55:50,010
we can remove all those connections

1067
00:55:50,010 --> 00:55:52,680
with simpler architecture

1068
00:55:52,680 --> 00:55:57,390
and also that can simplify the interaction

1069
00:55:57,390 --> 00:55:59,440
between the agents and can decrease

1070
00:55:59,440 --> 00:56:01,683
the agent times response.

1071
00:56:02,850 --> 00:56:03,683
- [Luis] Okay, very good.

1072
00:56:03,683 --> 00:56:07,380
So we only have three minutes to finish.

1073
00:56:07,380 --> 00:56:10,257
Something that we want
to show you here is that

1074
00:56:10,257 --> 00:56:13,080
you can use AgentCore
to deploy your agents,

1075
00:56:13,080 --> 00:56:16,530
but in case you want to
use any specific component,

1076
00:56:16,530 --> 00:56:19,860
for example if you decided
only to use observability,

1077
00:56:19,860 --> 00:56:24,860
you can use that you
were asking about memory.

1078
00:56:25,140 --> 00:56:29,790
So from the AgentCore side
we can have logs and traces

1079
00:56:29,790 --> 00:56:33,150
and metrics from runtime memory

1080
00:56:33,150 --> 00:56:35,220
and gateway that are ingested

1081
00:56:35,220 --> 00:56:37,530
inside AgentCore Observability.

1082
00:56:37,530 --> 00:56:41,310
You can see those, that
information in CloudWatch.

1083
00:56:41,310 --> 00:56:45,000
But if you prefer to use
another observability tool,

1084
00:56:45,000 --> 00:56:46,890
you can send the logs and information

1085
00:56:46,890 --> 00:56:49,410
because we have the OpenTelemetry format.

1086
00:56:49,410 --> 00:56:54,410
Also different concepts that
Gabo was showing us here

1087
00:56:54,450 --> 00:56:56,250
is that we have the session ID,

1088
00:56:56,250 --> 00:56:57,780
is like the main data

1089
00:56:57,780 --> 00:57:00,840
but from that you can have also traces,

1090
00:57:00,840 --> 00:57:03,240
spans, sub-spans that allow you

1091
00:57:03,240 --> 00:57:05,400
to know what's happening with the agent

1092
00:57:05,400 --> 00:57:08,910
and with each interaction
that users are having there.

1093
00:57:08,910 --> 00:57:11,280
Some of the key metrics and signals

1094
00:57:11,280 --> 00:57:14,160
we were seeing here three different issues

1095
00:57:14,160 --> 00:57:16,080
but there are different
issues that you are going

1096
00:57:16,080 --> 00:57:19,440
to face when you have
an agent in production.

1097
00:57:19,440 --> 00:57:24,240
So here we are showing you
where you can find the issue.

1098
00:57:24,240 --> 00:57:26,580
So if you have an issue
related to latency,

1099
00:57:26,580 --> 00:57:28,680
we have a specific matrix for that.

1100
00:57:28,680 --> 00:57:31,620
Or if you are having issues
with invalid schemas,

1101
00:57:31,620 --> 00:57:34,530
you can go to the logs
and check user errors.

1102
00:57:34,530 --> 00:57:38,340
Also, we have good
information about token.

1103
00:57:38,340 --> 00:57:42,600
I know these kind of projects
are very price sensitive.

1104
00:57:42,600 --> 00:57:46,050
I have for example a customer
that has a good use case

1105
00:57:46,050 --> 00:57:48,093
for agent AI for agents,

1106
00:57:49,002 --> 00:57:51,420
but the problem is that this doesn't

1107
00:57:51,420 --> 00:57:54,900
is giving their profit
because it very expensive.

1108
00:57:54,900 --> 00:57:57,030
So you can trace here the cost

1109
00:57:57,030 --> 00:57:58,980
and verify it is good for you.

1110
00:57:58,980 --> 00:57:59,880
- [Gabriel] Exactly.

1111
00:57:59,880 --> 00:58:00,713
- [Luis] And finally,

1112
00:58:00,713 --> 00:58:03,063
we want to provide some of the resources.

1113
00:58:04,590 --> 00:58:07,410
If you haven't used
AgentCore started toolkit,

1114
00:58:07,410 --> 00:58:09,480
I fully recommend to use it

1115
00:58:09,480 --> 00:58:13,080
because you are going to deploy
an agent in a few minutes.

1116
00:58:13,080 --> 00:58:15,120
You are going to understand more

1117
00:58:15,120 --> 00:58:18,060
that we were showing you here.

1118
00:58:18,060 --> 00:58:21,300
Also, if you want to see code
samples about how to use,

1119
00:58:21,300 --> 00:58:23,367
for example, other frameworks to send data

1120
00:58:23,367 --> 00:58:26,670
to AgentCore Observability,
you can do that.

1121
00:58:26,670 --> 00:58:30,120
We were using Strands but
that's not the only option.

1122
00:58:30,120 --> 00:58:33,482
And also if you want to go
and dive deep in AgentCore,

1123
00:58:33,482 --> 00:58:37,110
this is a good workshop that you can check

1124
00:58:37,110 --> 00:58:39,180
for the component that
it's better for you.

1125
00:58:39,180 --> 00:58:40,770
I have for example some customers

1126
00:58:40,770 --> 00:58:43,050
that prefer only using the gateway.

1127
00:58:43,050 --> 00:58:43,950
That's okay.

1128
00:58:43,950 --> 00:58:46,620
You can see what all the
components are there.

1129
00:58:46,620 --> 00:58:49,080
I dunno Gabo, if you want
to add something there.

1130
00:58:49,080 --> 00:58:52,141
- [Gabriel] No, I think that's it.

1131
00:58:52,141 --> 00:58:52,974
- [Luis] Okay.

1132
00:58:52,974 --> 00:58:56,807
So thank you again for
your attendancy here.

1133
00:58:56,807 --> 00:58:58,440
We are going to have a survey

1134
00:58:58,440 --> 00:59:00,000
at the end of the session.

1135
00:59:00,000 --> 00:59:02,760
I think you have there in the app.

1136
00:59:02,760 --> 00:59:05,070
So if you have any questions,
we are going to be here.

1137
00:59:05,070 --> 00:59:06,840
Thank you again for your time.

1138
00:59:06,840 --> 00:59:07,945
Thank you so much for being here.

1139
00:59:07,945 --> 00:59:09,436
(audience applauds)
Thank you.

1140
00:59:09,436 --> 00:59:12,723
Thank you and appreciate it.
(audience applauds)

