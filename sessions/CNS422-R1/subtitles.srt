1
00:00:00,360 --> 00:00:01,770
- [Roland] All right, welcome everyone.

2
00:00:01,770 --> 00:00:03,371
How's everyone doing?

3
00:00:03,371 --> 00:00:04,320
(audience muttering)

4
00:00:04,320 --> 00:00:07,290
All right, exciting announcements
this morning from Matt.

5
00:00:07,290 --> 00:00:08,610
A lot of cool stuff going on,

6
00:00:08,610 --> 00:00:10,320
so we're gonna get right into it.

7
00:00:10,320 --> 00:00:11,700
This is a code talk.

8
00:00:11,700 --> 00:00:13,260
My name is Roland Barcia.

9
00:00:13,260 --> 00:00:16,980
I am the worldwide director
for our specialist org.

10
00:00:16,980 --> 00:00:19,590
I lead all our specialist technologies

11
00:00:19,590 --> 00:00:23,910
and I'm joined here by Carlos Santana.

12
00:00:23,910 --> 00:00:24,960
He's gonna introduce himself,

13
00:00:24,960 --> 00:00:25,920
but I'm also gonna ask him,

14
00:00:25,920 --> 00:00:26,753
while you're there,

15
00:00:26,753 --> 00:00:28,200
why don't you clean up a little bit?

16
00:00:28,200 --> 00:00:29,033
- [Carlos] Clean up what?

17
00:00:29,033 --> 00:00:29,866
- [Roland] Clean up
the kitchen over there.

18
00:00:29,866 --> 00:00:30,840
- [Carlos] Oh, clean the kitchen!

19
00:00:30,840 --> 00:00:31,673
- [Roland] Yeah. Yeah.

20
00:00:31,673 --> 00:00:32,506
- [Carlos] Roland, you know what,

21
00:00:32,506 --> 00:00:34,320
how I like to clean the
kitchen at my house.

22
00:00:34,320 --> 00:00:36,360
I put salsa music with Alexa.

23
00:00:36,360 --> 00:00:37,193
- [Roland] Oh!

24
00:00:37,193 --> 00:00:42,150
- [Carlos] Like, oh...
(sings in foreign language)

25
00:00:42,150 --> 00:00:43,110
Oh, my God.

26
00:00:43,110 --> 00:00:46,080
I just like trip over the broom

27
00:00:46,080 --> 00:00:48,030
with this fridge

28
00:00:48,030 --> 00:00:49,920
and now there's water everywhere.

29
00:00:49,920 --> 00:00:50,753
- [Roland] Oh, no.

30
00:00:50,753 --> 00:00:51,586
- [Carlos] And let me, let me,

31
00:00:51,586 --> 00:00:53,610
let me see if I can push
the buttons here to fix it.

32
00:00:53,610 --> 00:00:55,440
No, no, no.
- [Roland] It's not working.

33
00:00:55,440 --> 00:00:56,700
- [Carlos] My wife is going to kill me.

34
00:00:56,700 --> 00:00:58,020
She's getting,

35
00:00:58,020 --> 00:00:58,853
I'm getting,

36
00:00:58,853 --> 00:00:59,700
she's getting back from a trip

37
00:00:59,700 --> 00:01:00,600
and she's still going to kill me.

38
00:01:00,600 --> 00:01:01,980
Like there's water everywhere.

39
00:01:01,980 --> 00:01:02,910
- [Roland] Oh no!

40
00:01:02,910 --> 00:01:06,300
- [Carlos] And now I have to
tell her I was dancing salsa

41
00:01:06,300 --> 00:01:10,710
while brooming and kick the fridge.

42
00:01:10,710 --> 00:01:11,636
- [Roland] Ay, Carlo.

43
00:01:11,636 --> 00:01:12,870
- [Carlos] Ay, ay, ay, ay.

44
00:01:12,870 --> 00:01:16,680
- [Roland] All right, so what do we need?

45
00:01:16,680 --> 00:01:18,430
We wanna build an agent

46
00:01:19,290 --> 00:01:23,430
because as people don't like
talking to the sport cases,

47
00:01:23,430 --> 00:01:24,870
they take a while.

48
00:01:24,870 --> 00:01:26,550
I'm like, Hey, you know what?

49
00:01:26,550 --> 00:01:28,170
Instead of calling someone,

50
00:01:28,170 --> 00:01:30,870
I would love to build an agent

51
00:01:30,870 --> 00:01:33,510
to be able to give it some prompts

52
00:01:33,510 --> 00:01:35,880
around when people like Carlos,

53
00:01:35,880 --> 00:01:37,530
who's dancing salsa,

54
00:01:37,530 --> 00:01:39,570
by the way, I'm Cuban
and he's Puerto Rican,

55
00:01:39,570 --> 00:01:40,403
so he probably,

56
00:01:40,403 --> 00:01:42,956
his dancing breaks the
refrigerator, right?

57
00:01:42,956 --> 00:01:45,390
- [Carlos] I should be
dancing the reggaeton.

58
00:01:45,390 --> 00:01:46,470
- [Roland] Oh, there you go.

59
00:01:46,470 --> 00:01:48,000
We're gonna build an agent

60
00:01:48,000 --> 00:01:51,270
and I know we have a
lot of business logic,

61
00:01:51,270 --> 00:01:52,800
but it's kinda locked up

62
00:01:52,800 --> 00:01:56,070
inside my existing
containerized application.

63
00:01:56,070 --> 00:01:58,950
And so what are we gonna do?

64
00:01:58,950 --> 00:02:00,090
This gentleman, Carlos,

65
00:02:00,090 --> 00:02:01,320
who dances next to me,

66
00:02:01,320 --> 00:02:04,050
is also a platform engineer,

67
00:02:04,050 --> 00:02:05,400
a Kubernetes expert.

68
00:02:05,400 --> 00:02:07,560
And this is just a little preview, right?

69
00:02:07,560 --> 00:02:09,450
We're gonna actually
show it live in a minute.

70
00:02:09,450 --> 00:02:13,680
But basically, I want to be
able to ask it some questions

71
00:02:13,680 --> 00:02:16,143
around, you know, hi,

72
00:02:17,370 --> 00:02:18,420
how can you help me?

73
00:02:18,420 --> 00:02:19,680
There's a little bit of a preview.

74
00:02:19,680 --> 00:02:22,350
You kind of see some of the tools

75
00:02:22,350 --> 00:02:23,850
and existing systems that are there.

76
00:02:23,850 --> 00:02:25,470
That's what we're gonna build.

77
00:02:25,470 --> 00:02:27,120
And so give it a second

78
00:02:27,120 --> 00:02:28,258
and then-
- [Carlos] Boom!

79
00:02:28,258 --> 00:02:30,120
- [Roland] You'll see we
have things like claims,

80
00:02:30,120 --> 00:02:31,260
appointment services,

81
00:02:31,260 --> 00:02:32,580
account information,

82
00:02:32,580 --> 00:02:35,490
all deterministic logic I built years ago.

83
00:02:35,490 --> 00:02:37,770
And Carlos, who's an

84
00:02:37,770 --> 00:02:39,750
exciting dancer here,

85
00:02:39,750 --> 00:02:43,080
is also a Kubernetes platform engineer.

86
00:02:43,080 --> 00:02:47,310
So they built all these things together

87
00:02:47,310 --> 00:02:50,970
after years within a modern
microservices based system

88
00:02:50,970 --> 00:02:51,803
using Kubernetes.

89
00:02:51,803 --> 00:02:53,670
And so what we have a lot,

90
00:02:53,670 --> 00:02:56,040
an opportunity and a challenge around

91
00:02:56,040 --> 00:02:57,750
taking your existing applications,

92
00:02:57,750 --> 00:02:59,850
your existing legacy applications,

93
00:02:59,850 --> 00:03:04,850
and kind of exposing them
through MCP or other mechanisms.

94
00:03:05,430 --> 00:03:06,630
There's different options.

95
00:03:06,630 --> 00:03:08,640
And you're living now with

96
00:03:08,640 --> 00:03:11,820
non-deterministic logic and
deterministic logic, right?

97
00:03:11,820 --> 00:03:14,730
You have years and years of applications

98
00:03:14,730 --> 00:03:16,020
that were built to be reused

99
00:03:16,020 --> 00:03:18,840
and now I want to make use
of them in an agentic world.

100
00:03:18,840 --> 00:03:20,250
So how we're gonna do that?

101
00:03:20,250 --> 00:03:21,900
Tomorrow we have an architecture session,

102
00:03:21,900 --> 00:03:25,110
or I do at six o'clock
I think at the Wynn,

103
00:03:25,110 --> 00:03:27,180
where we go more on
the architecture issues

104
00:03:27,180 --> 00:03:30,390
between different options
for creating MCP servers,

105
00:03:30,390 --> 00:03:32,580
exposing existing applications,

106
00:03:32,580 --> 00:03:33,900
different ways to do that.

107
00:03:33,900 --> 00:03:37,560
But here we're just gonna
get into a very specific way.

108
00:03:37,560 --> 00:03:40,110
So, you know,

109
00:03:40,110 --> 00:03:41,820
exposing your existing assets

110
00:03:41,820 --> 00:03:45,810
is a great way to kind of
make your existing agents

111
00:03:45,810 --> 00:03:47,640
and automate things as well.

112
00:03:47,640 --> 00:03:49,440
With the architecture,

113
00:03:49,440 --> 00:03:51,180
we're gonna get into AgentCore.

114
00:03:51,180 --> 00:03:52,740
I'm an agent developer.

115
00:03:52,740 --> 00:03:54,030
I write Python.

116
00:03:54,030 --> 00:03:55,530
I like to write Agents,

117
00:03:55,530 --> 00:03:56,760
I don't know Kubernetes,

118
00:03:56,760 --> 00:03:59,490
I don't know the existing
microservices architecture.

119
00:03:59,490 --> 00:04:01,590
It could have been written
in Java or something,

120
00:04:01,590 --> 00:04:02,423
I don't know.

121
00:04:02,423 --> 00:04:03,870
But when you use AgentCore,

122
00:04:03,870 --> 00:04:06,270
AgentCore has a lot of components,

123
00:04:06,270 --> 00:04:07,920
a lot of sessions this week.

124
00:04:07,920 --> 00:04:11,940
I primarily run my agents
inside of AgentCore Runtime.

125
00:04:11,940 --> 00:04:14,310
I use things like AgentCore Identity

126
00:04:14,310 --> 00:04:16,560
to kind of make sure I
have access to things.

127
00:04:16,560 --> 00:04:18,450
I want to use AgentCore Gateway

128
00:04:18,450 --> 00:04:21,270
as well so that I can
access all the nice tools

129
00:04:21,270 --> 00:04:23,580
that I might have in my agentic systems.

130
00:04:23,580 --> 00:04:25,620
I want to use memory to keep track

131
00:04:25,620 --> 00:04:26,880
of different conversations.

132
00:04:26,880 --> 00:04:29,190
So we're gonna use these components.

133
00:04:29,190 --> 00:04:31,830
Not listed or new
announcements like evaluations

134
00:04:31,830 --> 00:04:34,530
and the policies that
exist inside of Gateway,

135
00:04:34,530 --> 00:04:35,790
won't be showing those today,

136
00:04:35,790 --> 00:04:38,760
but we will kinda get
into some of the code.

137
00:04:38,760 --> 00:04:40,410
And of course

138
00:04:40,410 --> 00:04:41,700
EKS.
- [Carlos] EKS.

139
00:04:41,700 --> 00:04:42,533
I love EKS.

140
00:04:42,533 --> 00:04:44,400
- [Roland] Yes. Want to
talk a little bit about it?

141
00:04:44,400 --> 00:04:45,233
- [Carlos] No, go ahead. Go ahead.

142
00:04:45,233 --> 00:04:46,692
- [Roland] All right.

143
00:04:46,692 --> 00:04:48,210
So with EKS,

144
00:04:48,210 --> 00:04:50,400
Kubernetes is still super important.

145
00:04:50,400 --> 00:04:52,920
We have one of the best
Kubernetes platforms out there

146
00:04:52,920 --> 00:04:54,540
with the most instance types.

147
00:04:54,540 --> 00:04:56,220
A lot of new exciting features.

148
00:04:56,220 --> 00:04:57,780
Last year we had auto mode.

149
00:04:57,780 --> 00:04:59,820
This year we have what's
some announcements?

150
00:04:59,820 --> 00:05:02,520
- [Carlos] EKS, we have just
launched EKS Capabilities.

151
00:05:02,520 --> 00:05:05,730
So that's a fully managed
Argo CD Crow and ECK.

152
00:05:05,730 --> 00:05:08,340
And those bots running our AWS services.

153
00:05:08,340 --> 00:05:09,360
You'll see the CRD.

154
00:05:09,360 --> 00:05:12,000
So this allows platform engineering teams

155
00:05:12,000 --> 00:05:14,580
to not worry about scaling or maintaining

156
00:05:14,580 --> 00:05:16,590
or patching these controllers.

157
00:05:16,590 --> 00:05:17,730
Some of them like the CNCF,

158
00:05:17,730 --> 00:05:19,290
Argo C is part of the CNCF.

159
00:05:19,290 --> 00:05:21,420
So we're taking care of
that, of that compute.

160
00:05:21,420 --> 00:05:23,040
You don't have to pay for that compute.

161
00:05:23,040 --> 00:05:24,930
And then, you just
concentrate on deploying

162
00:05:24,930 --> 00:05:26,577
the apps with with GitHubs.

163
00:05:26,577 --> 00:05:29,490
And that could be ACK or KRO to deploy.

164
00:05:29,490 --> 00:05:30,521
Infrastructure.

165
00:05:30,521 --> 00:05:31,430
It could be a BPC,

166
00:05:31,430 --> 00:05:32,520
it could be an S3 bucket.

167
00:05:32,520 --> 00:05:34,320
And that's one of the major announcements

168
00:05:34,320 --> 00:05:36,360
that we did this recently.

169
00:05:36,360 --> 00:05:39,420
Also, provisioning control planes,

170
00:05:39,420 --> 00:05:42,480
pre-provision control planes
to allow at scale on demand,

171
00:05:42,480 --> 00:05:43,470
like big clusters.

172
00:05:43,470 --> 00:05:44,820
A lot of nodes.

173
00:05:44,820 --> 00:05:48,540
Another one is around
EKS MCP server hosted.

174
00:05:48,540 --> 00:05:50,460
So you can connect things like Kiro

175
00:05:50,460 --> 00:05:51,960
or our agents in Strands, right?

176
00:05:51,960 --> 00:05:53,487
To connect it to do DevOps,

177
00:05:53,487 --> 00:05:55,590
agentic DevOps.

178
00:05:55,590 --> 00:05:56,670
- [Roland] Awesome.

179
00:05:56,670 --> 00:05:58,890
So what's the architecture
we're gonna build?

180
00:05:58,890 --> 00:06:00,480
We're gonna have a simple Chat UI,

181
00:06:00,480 --> 00:06:03,840
because all AI demos have a chat interface

182
00:06:03,840 --> 00:06:04,890
where you prompt against it.

183
00:06:04,890 --> 00:06:09,390
So, and you're gonna have
existing microservices APIs

184
00:06:09,390 --> 00:06:10,740
with EKS.

185
00:06:10,740 --> 00:06:12,450
We're gonna expose that
through the gateway

186
00:06:12,450 --> 00:06:13,680
and use AgentCore identity

187
00:06:13,680 --> 00:06:17,340
to make sure I have secure
access to these services.

188
00:06:17,340 --> 00:06:21,720
And then I'm gonna deploy my
AgentCore runtime application.

189
00:06:21,720 --> 00:06:24,720
I use Strands as the SDK to deploy that.

190
00:06:24,720 --> 00:06:28,380
We're also gonna expose
the agent itself A2A,

191
00:06:28,380 --> 00:06:30,120
which is something you can do inside of

192
00:06:30,120 --> 00:06:31,860
AgentCore Runtime.

193
00:06:31,860 --> 00:06:34,110
Today, it's just being
consumed by the Chat UI.

194
00:06:34,110 --> 00:06:36,120
But you can envision in the future

195
00:06:36,120 --> 00:06:39,030
this orchestration living
next to other orchestrations,

196
00:06:39,030 --> 00:06:39,863
et cetera.

197
00:06:39,863 --> 00:06:41,580
So we wanna be prepared for that as well.

198
00:06:41,580 --> 00:06:43,110
And of course, we're gonna use Bedrock

199
00:06:43,110 --> 00:06:45,450
to do inference in our models as well.

200
00:06:45,450 --> 00:06:46,737
And so this is the architecture

201
00:06:46,737 --> 00:06:49,743
and we're gonna show some
of the code with that.

202
00:06:50,760 --> 00:06:51,720
Carlos,

203
00:06:51,720 --> 00:06:53,700
you have a bunch of microservices.

204
00:06:53,700 --> 00:06:55,440
I want to use these systems.

205
00:06:55,440 --> 00:06:56,820
You told me that, you know,

206
00:06:56,820 --> 00:06:58,170
I don't have to learn Kubernetes

207
00:06:58,170 --> 00:06:59,520
because you're gonna just give me

208
00:06:59,520 --> 00:07:01,650
some nice tools through MCP

209
00:07:01,650 --> 00:07:04,110
with the code and expose
those existing systems.

210
00:07:04,110 --> 00:07:06,210
So you're gonna show the audience
how we did that with code?

211
00:07:06,210 --> 00:07:07,043
- [Carlos] Yep. Yeah,

212
00:07:07,043 --> 00:07:08,790
because the scenario is the

213
00:07:08,790 --> 00:07:10,755
our management told us like

214
00:07:10,755 --> 00:07:13,020
that we have to make
everything MCP available

215
00:07:13,020 --> 00:07:14,640
or our microservices

216
00:07:14,640 --> 00:07:16,470
and some of these systems
have like hundreds

217
00:07:16,470 --> 00:07:17,820
of microservices, right?

218
00:07:17,820 --> 00:07:20,220
So if my team is going just to spend time

219
00:07:20,220 --> 00:07:23,250
writing MCP servers and
wrappers and another wrapper,

220
00:07:23,250 --> 00:07:24,930
like it will take us the full year.

221
00:07:24,930 --> 00:07:29,880
So why not take advantage of
the MCP gateway on AgentCore?

222
00:07:29,880 --> 00:07:31,530
So that's what we're going to show

223
00:07:31,530 --> 00:07:34,530
on some of those microservices being used

224
00:07:34,530 --> 00:07:36,300
from the EKS server,

225
00:07:36,300 --> 00:07:37,530
EKS cluster.

226
00:07:37,530 --> 00:07:38,430
- [Roland] Awesome.

227
00:07:38,430 --> 00:07:41,190
So today, like I'm gonna play the role

228
00:07:41,190 --> 00:07:42,600
of the agent developer,

229
00:07:42,600 --> 00:07:45,510
I just wanna get access
to my tools and use them.

230
00:07:45,510 --> 00:07:47,070
I wanna write my agents,

231
00:07:47,070 --> 00:07:48,030
I wanna write prompts,

232
00:07:48,030 --> 00:07:49,470
I do prompt engineering.

233
00:07:49,470 --> 00:07:52,425
And Carlos, you're the
platform engineer, right?

234
00:07:52,425 --> 00:07:53,258
- [Carlos] Yep.

235
00:07:53,258 --> 00:07:54,270
- [Roland] And you're gonna go ahead

236
00:07:54,270 --> 00:07:56,760
and take the existing systems

237
00:07:56,760 --> 00:07:59,580
and make them available to me as tools.

238
00:07:59,580 --> 00:08:00,413
And we're gonna do,

239
00:08:00,413 --> 00:08:01,380
we're gonna do that today.

240
00:08:01,380 --> 00:08:03,305
So you're gonna start with
the infrastructure, right?

241
00:08:03,305 --> 00:08:04,290
- [Carlos] Yep.
- [Roland] All right.

242
00:08:04,290 --> 00:08:07,830
- [Carlos] So, we'll
show you the EKS cluster.

243
00:08:07,830 --> 00:08:10,980
In this case we're using
EKS Auto that we show

244
00:08:10,980 --> 00:08:14,070
and some of the practices
that a lot of customers

245
00:08:14,070 --> 00:08:15,420
use to deploy microservices,

246
00:08:15,420 --> 00:08:17,070
they use an ingress,

247
00:08:17,070 --> 00:08:19,620
they use a deployment service annotations.

248
00:08:19,620 --> 00:08:22,440
Very easy to deploy these microservices

249
00:08:22,440 --> 00:08:24,780
and then expose them
through a load balancer

250
00:08:24,780 --> 00:08:29,780
and then use the gateway to
access that microservices.

251
00:08:29,880 --> 00:08:30,900
But having a contract

252
00:08:30,900 --> 00:08:33,210
and that contract comes from the Open API.

253
00:08:33,210 --> 00:08:35,280
So we'll go more deeper into that.

254
00:08:35,280 --> 00:08:37,020
But then the AgentCore Runtime,

255
00:08:37,020 --> 00:08:40,350
we need to make sure that Roland's agent

256
00:08:40,350 --> 00:08:42,840
is the only one talking to my services.

257
00:08:42,840 --> 00:08:44,940
I don't want other agents around,

258
00:08:44,940 --> 00:08:47,100
they are just talking to the MCP gateway.

259
00:08:47,100 --> 00:08:48,510
So there's another service,

260
00:08:48,510 --> 00:08:50,550
a feature from AgentCore called Identity

261
00:08:50,550 --> 00:08:53,370
that will handle that token exchange

262
00:08:53,370 --> 00:08:54,480
with the provider

263
00:08:54,480 --> 00:08:58,350
to be able to connect to the MCP server

264
00:08:58,350 --> 00:09:02,070
that actually gets created
on the fly with one URL.

265
00:09:02,070 --> 00:09:02,903
- [Roland] Awesome.

266
00:09:02,903 --> 00:09:05,360
One of the cool things
about AgentCore Gateway

267
00:09:05,360 --> 00:09:08,010
is it can talk to existing MCP servers

268
00:09:08,010 --> 00:09:09,750
and you can have semantic search.

269
00:09:09,750 --> 00:09:12,540
So you can search across
hundreds and hundreds of tools

270
00:09:12,540 --> 00:09:14,970
and make sure that you're
getting the tool you need.

271
00:09:14,970 --> 00:09:16,620
You can also expose existing assets

272
00:09:16,620 --> 00:09:18,120
like your Lambda functions.

273
00:09:18,120 --> 00:09:21,060
And if you describe things
with Swagger OpenAPI spec

274
00:09:21,060 --> 00:09:23,580
automatically converts
them to MCP servers.

275
00:09:23,580 --> 00:09:24,413
It's not the only way.

276
00:09:24,413 --> 00:09:25,980
Sometimes you use cases,

277
00:09:25,980 --> 00:09:28,440
you want to code existing MCP servers,

278
00:09:28,440 --> 00:09:29,490
but in this case,

279
00:09:29,490 --> 00:09:31,440
I need this agent code done, right?

280
00:09:31,440 --> 00:09:33,630
So as an agent developer,

281
00:09:33,630 --> 00:09:35,310
I just wanna use my tools,

282
00:09:35,310 --> 00:09:37,290
I wanna use Bedrock's LLMs,

283
00:09:37,290 --> 00:09:39,210
I wanna write my agent runtime,

284
00:09:39,210 --> 00:09:40,260
I wanna access them

285
00:09:40,260 --> 00:09:41,670
and I wanna use Identity

286
00:09:41,670 --> 00:09:44,020
to make sure I can access
these tools securely.

287
00:09:45,060 --> 00:09:46,770
And so we're gonna combine these things

288
00:09:46,770 --> 00:09:48,660
and we're gonna show some of the code

289
00:09:48,660 --> 00:09:51,090
and some of the application
stuff that we've written

290
00:09:51,090 --> 00:09:54,660
and then we'll actually show this live.

291
00:09:54,660 --> 00:09:56,550
Hopefully, if it will work

292
00:09:56,550 --> 00:09:57,383
with Demo.

293
00:09:57,383 --> 00:09:59,850
So we're gonna switch
over now to the demo.

294
00:09:59,850 --> 00:10:00,683
Are you ready?

295
00:10:00,683 --> 00:10:02,610
- [Carlos] Yeah, let's
go a little bit of code.

296
00:10:02,610 --> 00:10:04,441
Who wants to see some code?

297
00:10:04,441 --> 00:10:05,274
(audience whooping)

298
00:10:05,274 --> 00:10:06,773
That's why you're here
is a code talk, right?

299
00:10:06,773 --> 00:10:07,863
- [Roland] Let's go.

300
00:10:09,300 --> 00:10:11,450
- [Carlos] So let me
show you what we have.

301
00:10:12,600 --> 00:10:14,100
Let me go to the console

302
00:10:14,100 --> 00:10:16,170
and I have my home here

303
00:10:16,170 --> 00:10:20,730
and let me check if my EKS cluster

304
00:10:20,730 --> 00:10:21,750
is ready here.

305
00:10:21,750 --> 00:10:23,760
So as you can see here,

306
00:10:23,760 --> 00:10:26,430
I have an EKS cluster

307
00:10:26,430 --> 00:10:28,740
and it's configure...

308
00:10:28,740 --> 00:10:31,320
Let me close a few of these windows

309
00:10:31,320 --> 00:10:33,780
and we're using 1.33.

310
00:10:33,780 --> 00:10:35,670
And this is something so we can show like

311
00:10:35,670 --> 00:10:37,140
if I want to upgrade, right,

312
00:10:37,140 --> 00:10:39,930
I will do EKS Insights.

313
00:10:39,930 --> 00:10:42,240
Let me, this is the new
capability that we announced.

314
00:10:42,240 --> 00:10:43,110
We're getting our popup,

315
00:10:43,110 --> 00:10:45,180
so this is good that it's working

316
00:10:45,180 --> 00:10:48,000
and you can check it out from there.

317
00:10:48,000 --> 00:10:50,040
And then EKS Auto, right?

318
00:10:50,040 --> 00:10:53,040
So EKS Auto Mode is enabled,
so you can see here.

319
00:10:53,040 --> 00:10:55,300
And we'll have our Compute

320
00:10:56,490 --> 00:10:57,550
that is here

321
00:10:59,250 --> 00:11:01,530
and these nodes are
coming from node pools.

322
00:11:01,530 --> 00:11:06,140
So we are Auto Mode EKS uses
something called Karpenter.

323
00:11:06,140 --> 00:11:09,000
Who uses Karpenter in their EKS clusters?

324
00:11:09,000 --> 00:11:10,170
Great.

325
00:11:10,170 --> 00:11:11,940
So Karpenter is the autoscaling

326
00:11:11,940 --> 00:11:13,860
that automatically provisions your nodes

327
00:11:13,860 --> 00:11:16,020
based on ports that are pending.

328
00:11:16,020 --> 00:11:18,450
And that way you don't have to...

329
00:11:18,450 --> 00:11:21,960
It's a much easier way of managing those.

330
00:11:21,960 --> 00:11:23,253
What else we have here?

331
00:11:24,150 --> 00:11:26,970
So it's, yeah, this is a vanilla one.

332
00:11:26,970 --> 00:11:28,110
Add-ons.

333
00:11:28,110 --> 00:11:30,360
I have one called External DNS.

334
00:11:30,360 --> 00:11:35,250
This allows us to basically
add a domain name to my Ingress

335
00:11:35,250 --> 00:11:37,380
when I create an Ingress or a service.

336
00:11:37,380 --> 00:11:39,873
External DNS is part of the CNCF.

337
00:11:41,458 --> 00:11:42,840
And one thing is

338
00:11:42,840 --> 00:11:46,470
we recently added EKS Community Add-ons.

339
00:11:46,470 --> 00:11:48,330
So things like External DNS,

340
00:11:48,330 --> 00:11:49,380
cert-manager,

341
00:11:49,380 --> 00:11:51,330
kube-state-metrics,

342
00:11:51,330 --> 00:11:55,320
these are add-ons that gets
deployed through EKS add-ons

343
00:11:55,320 --> 00:11:56,153
API.

344
00:11:56,153 --> 00:11:57,660
And these are things that
you don't have to do it

345
00:11:57,660 --> 00:11:58,830
through Helm chart,

346
00:11:58,830 --> 00:12:01,710
container images that you have to scan,

347
00:12:01,710 --> 00:12:04,740
maybe checking that the
compatibility is broken

348
00:12:04,740 --> 00:12:07,200
between the version of
Kubernetes and these add-ons.

349
00:12:07,200 --> 00:12:08,850
So a lot of our customers are like

350
00:12:08,850 --> 00:12:12,060
now switching from
self-manage Helm charts,

351
00:12:12,060 --> 00:12:14,490
deploying these EKS Communities

352
00:12:14,490 --> 00:12:16,650
to deploying them through the EKS Add-ons.

353
00:12:16,650 --> 00:12:18,150
And you can do that with ACK,

354
00:12:18,150 --> 00:12:20,820
Cloud formation, Terraform,

355
00:12:20,820 --> 00:12:24,330
anything that handles the, or
the CLI, that handles the API.

356
00:12:24,330 --> 00:12:26,511
So that's our cluster here.

357
00:12:26,511 --> 00:12:28,440
Oh, I can show the capabilities, right?

358
00:12:28,440 --> 00:12:30,720
That we show here's the capabilities

359
00:12:30,720 --> 00:12:34,350
that you can add things
like Argo CD, ACK, and KRO.

360
00:12:34,350 --> 00:12:36,801
So just giving you an
overview of what we have.

361
00:12:36,801 --> 00:12:38,790
And this is like me, the platform engineer

362
00:12:38,790 --> 00:12:40,620
having to manage to a fleet of clusters.

363
00:12:40,620 --> 00:12:43,020
So usually in a business

364
00:12:43,020 --> 00:12:44,850
we have multiple EKS clusters,

365
00:12:44,850 --> 00:12:46,860
pre-prod and prod

366
00:12:46,860 --> 00:12:49,983
and having this in here help us a lot.

367
00:12:51,000 --> 00:12:52,230
Let me show one more thing.

368
00:12:52,230 --> 00:12:54,600
I think I was upgrade insights.

369
00:12:54,600 --> 00:12:56,580
So as you saw it was 1.33,

370
00:12:56,580 --> 00:12:58,550
but there's upgrade
insights that we give you

371
00:12:58,550 --> 00:13:01,320
of like what are the things
you're ready to upgrade

372
00:13:01,320 --> 00:13:02,430
or there's something warning,

373
00:13:02,430 --> 00:13:06,030
or block something that will
block you from upgrading.

374
00:13:06,030 --> 00:13:06,930
So that's my cluster.

375
00:13:06,930 --> 00:13:09,356
So let's go to the console here to see

376
00:13:09,356 --> 00:13:12,180
what are my microservices
that I'm deploying.

377
00:13:12,180 --> 00:13:16,570
So I can show here an example of those

378
00:13:18,090 --> 00:13:20,250
microservices on their infrastructure.

379
00:13:20,250 --> 00:13:23,700
So you're going to have
access to this code.

380
00:13:23,700 --> 00:13:27,060
So basically, it's going to
be divided in two sections.

381
00:13:27,060 --> 00:13:29,250
One section is agent

382
00:13:29,250 --> 00:13:31,140
and another section is
called infrastructure.

383
00:13:31,140 --> 00:13:35,280
So Roland has been working
in the agent folder, right?

384
00:13:35,280 --> 00:13:38,580
And I've been working on
the infrastructure folder.

385
00:13:38,580 --> 00:13:42,090
Under infrastructure folder
we have like our manifest.

386
00:13:42,090 --> 00:13:43,713
So for example, I'm using,

387
00:13:45,150 --> 00:13:46,680
there's mainly two ways

388
00:13:46,680 --> 00:13:50,340
or top most popular two
ways of deploying Kubernetes

389
00:13:50,340 --> 00:13:52,140
resources is Kustomize and Helm.

390
00:13:52,140 --> 00:13:54,963
In this case, I'm using Kustomize.

391
00:13:54,963 --> 00:13:56,340
So I have here

392
00:13:56,340 --> 00:13:58,200
like Roland pointed out in
the architecture, right?

393
00:13:58,200 --> 00:14:00,930
Appointments, customer, and a technician.

394
00:14:00,930 --> 00:14:04,440
So it has their typical deployments

395
00:14:04,440 --> 00:14:05,700
with the container image

396
00:14:05,700 --> 00:14:08,940
that has the the REST API
to getting the appointments,

397
00:14:08,940 --> 00:14:10,410
creating appointments,

398
00:14:10,410 --> 00:14:12,090
it has a service

399
00:14:12,090 --> 00:14:13,440
and then it has an Ingress.

400
00:14:13,440 --> 00:14:16,080
And this is what I wanted to show

401
00:14:16,080 --> 00:14:18,750
that this is how you expose

402
00:14:18,750 --> 00:14:21,780
how you want to expose the load balancer.

403
00:14:21,780 --> 00:14:22,613
So when you create this,

404
00:14:22,613 --> 00:14:25,320
it will actually create a load balancer

405
00:14:25,320 --> 00:14:27,855
and this ingress points to

406
00:14:27,855 --> 00:14:29,460
the service, right?

407
00:14:29,460 --> 00:14:32,790
The service that I just
show here on this service

408
00:14:32,790 --> 00:14:34,540
and then it will add an annotation

409
00:14:36,630 --> 00:14:38,190
for the host name.

410
00:14:38,190 --> 00:14:41,710
So let's look at how that
looks like in kubectl.

411
00:14:44,340 --> 00:14:46,473
Who calls kubectl kube control?

412
00:14:47,460 --> 00:14:48,690
Okay, I always call it kubec...

413
00:14:48,690 --> 00:14:49,900
Who call it kubectl?

414
00:14:50,787 --> 00:14:52,356
And who just use kube?

415
00:14:52,356 --> 00:14:55,770
Okay. (laughs)

416
00:14:55,770 --> 00:14:57,690
So if I do get pods,

417
00:14:57,690 --> 00:14:58,523
let's see the nodes,

418
00:14:58,523 --> 00:15:01,560
like how many nodes I have here.

419
00:15:01,560 --> 00:15:03,060
Let me check on time
how we doing for time?

420
00:15:03,060 --> 00:15:06,120
Oh, we have plenty of time.

421
00:15:06,120 --> 00:15:07,950
So these are the nodes.

422
00:15:07,950 --> 00:15:10,110
These nodes are provisioned
by the node group.

423
00:15:10,110 --> 00:15:12,000
So if I do get,

424
00:15:12,000 --> 00:15:13,770
is that a good font?

425
00:15:13,770 --> 00:15:14,779
- [Roland] Can everyone see?

426
00:15:14,779 --> 00:15:15,960
- [Carlos] Size or make it bigger?

427
00:15:15,960 --> 00:15:16,793
- [Audience Member] Bit bigger?

428
00:15:16,793 --> 00:15:18,750
- [Carlos] Okay, I can make
it a little bit bigger.

429
00:15:18,750 --> 00:15:19,583
Is that okay?

430
00:15:19,583 --> 00:15:20,416
- [Audience Member] Yes.

431
00:15:20,416 --> 00:15:21,910
- [Carlos] Okay, so

432
00:15:23,280 --> 00:15:24,570
and K, for those of you,

433
00:15:24,570 --> 00:15:25,860
I think some of you raise your hand.

434
00:15:25,860 --> 00:15:28,350
K is just, it's an alias to kubectl.

435
00:15:28,350 --> 00:15:30,300
It's just so many years of using it

436
00:15:30,300 --> 00:15:32,583
that my brain is just use K.

437
00:15:33,960 --> 00:15:35,380
So we have node pools

438
00:15:36,360 --> 00:15:37,800
and these are the Karpenter pools.

439
00:15:37,800 --> 00:15:40,140
So, and the thing is,

440
00:15:40,140 --> 00:15:42,240
Karpenter's not running as a pod in here

441
00:15:42,240 --> 00:15:43,290
because it's Auto Mode.

442
00:15:43,290 --> 00:15:47,100
So Karpenter is managed by the EKS service

443
00:15:47,100 --> 00:15:48,180
so you don't have to install it.

444
00:15:48,180 --> 00:15:50,880
No Helm charts, it just runs in Auto Mode.

445
00:15:50,880 --> 00:15:52,620
And then these instances are managed

446
00:15:52,620 --> 00:15:57,620
meaning that we will handle
the rotation of those AMIs.

447
00:15:58,710 --> 00:16:00,600
So we're going to handle the CV patching.

448
00:16:00,600 --> 00:16:05,130
So no more than 21 days
can run before is 14 days.

449
00:16:05,130 --> 00:16:07,080
But we're going to take
care of rotating those.

450
00:16:07,080 --> 00:16:08,820
And those are running Bottlerocket,

451
00:16:08,820 --> 00:16:11,610
which is our container
rise operating system

452
00:16:11,610 --> 00:16:14,880
that we recommend for
running EKS workloads

453
00:16:14,880 --> 00:16:19,110
because it has a low footprint
of files and processes

454
00:16:19,110 --> 00:16:20,733
that makes this more secure.

455
00:16:21,720 --> 00:16:23,700
So these are the node pools

456
00:16:23,700 --> 00:16:25,680
and when you have node pools

457
00:16:25,680 --> 00:16:27,390
and you have pods in pending,

458
00:16:27,390 --> 00:16:28,620
it will create no claims.

459
00:16:28,620 --> 00:16:31,263
So you do no claims,

460
00:16:32,940 --> 00:16:33,773
claims,

461
00:16:33,773 --> 00:16:35,400
and then these are like the instances,

462
00:16:35,400 --> 00:16:37,980
this is like Karpenter going directly

463
00:16:37,980 --> 00:16:39,957
to the address Fleet API

464
00:16:39,957 --> 00:16:42,120
and getting the node as fast as possible.

465
00:16:42,120 --> 00:16:43,920
And then the node gets created

466
00:16:43,920 --> 00:16:46,137
and then the pod gets scheduled, right?

467
00:16:46,137 --> 00:16:48,870
The Kubernetes schedule puts it here.

468
00:16:48,870 --> 00:16:53,103
So let's take a look of
what we have in deployments.

469
00:16:54,120 --> 00:16:55,110
Well, let's show all the pods

470
00:16:55,110 --> 00:16:57,750
so you can see like actually there's no,

471
00:16:57,750 --> 00:17:00,570
if I do get pods-A,

472
00:17:00,570 --> 00:17:03,450
there's no core DNS,

473
00:17:03,450 --> 00:17:04,500
if you can see here.

474
00:17:04,500 --> 00:17:08,400
Who have a standard Kubernetes cluster,

475
00:17:08,400 --> 00:17:10,500
not EKS Auto?

476
00:17:10,500 --> 00:17:14,310
So usually, you see things
like a CNI DaemonSet.

477
00:17:14,310 --> 00:17:16,410
You see things like CoreDNS

478
00:17:16,410 --> 00:17:18,810
and these are things
that are now in the node.

479
00:17:18,810 --> 00:17:21,780
So these are pods that you
don't have to worry about.

480
00:17:21,780 --> 00:17:24,840
So in here, we see the
External DNS that I show

481
00:17:24,840 --> 00:17:26,130
and then metrics server, right?

482
00:17:26,130 --> 00:17:27,630
So if you have an HPA,

483
00:17:27,630 --> 00:17:29,280
like where you want to

484
00:17:29,280 --> 00:17:31,020
scale this based on metrics,

485
00:17:31,020 --> 00:17:33,030
the number of pods, right?

486
00:17:33,030 --> 00:17:36,010
You would use an HPA,
horizontal autoscaler

487
00:17:36,858 --> 00:17:38,820
and you configure this HPA saying

488
00:17:38,820 --> 00:17:40,350
based on this CPU

489
00:17:40,350 --> 00:17:43,740
or memory or in a custom metric.

490
00:17:43,740 --> 00:17:46,140
I want to have this number of pods

491
00:17:46,140 --> 00:17:47,610
and it will scale up,

492
00:17:47,610 --> 00:17:48,443
scale out,

493
00:17:48,443 --> 00:17:50,220
or scale in the number of pods.

494
00:17:50,220 --> 00:17:52,980
So that's why matrix server is there.

495
00:17:52,980 --> 00:17:55,740
Guestbook is, I was testing
the EKS capabilities

496
00:17:55,740 --> 00:17:58,260
to deploy from Argo CD

497
00:17:58,260 --> 00:18:00,900
that I have in a hub cluster
in a different region

498
00:18:00,900 --> 00:18:01,950
deploying to this cluster.

499
00:18:01,950 --> 00:18:04,830
So it's there, I was testing it,

500
00:18:04,830 --> 00:18:07,180
but the thing that what
I want to show was this

501
00:18:08,370 --> 00:18:12,360
three microservices that
are in the deployment thing.

502
00:18:12,360 --> 00:18:13,660
So if I do get

503
00:18:14,790 --> 00:18:16,780
deployments dash n

504
00:18:17,880 --> 00:18:18,873
development,

505
00:18:22,380 --> 00:18:23,640
we have three deployments.

506
00:18:23,640 --> 00:18:26,610
So this is typically, what
our business do, right?

507
00:18:26,610 --> 00:18:29,947
So when the management
team came to us saying,

508
00:18:29,947 --> 00:18:32,790
"Hey, can you create MCP servers?"

509
00:18:32,790 --> 00:18:33,623
We were saying,

510
00:18:33,623 --> 00:18:36,780
"Well do we like wrap
this the same code again

511
00:18:36,780 --> 00:18:39,090
and create an docker file
and create an MCP servers

512
00:18:39,090 --> 00:18:40,920
and then I have six pods, right?"

513
00:18:40,920 --> 00:18:43,950
And then we discovered
through our accounting,

514
00:18:43,950 --> 00:18:45,270
for example,

515
00:18:45,270 --> 00:18:47,190
are in time that AgentCore has this

516
00:18:47,190 --> 00:18:48,450
capability of MP gateway.

517
00:18:48,450 --> 00:18:51,540
So we don't have to code the MCP server.

518
00:18:51,540 --> 00:18:54,600
We can just take these APIs,

519
00:18:54,600 --> 00:18:55,920
have their documentation,

520
00:18:55,920 --> 00:18:59,340
their OpenAPI schema or Swagger.

521
00:18:59,340 --> 00:19:01,440
Back in the days we
used to call it Swagger.

522
00:19:01,440 --> 00:19:04,380
Now OpenAPI Spec V3.

523
00:19:04,380 --> 00:19:05,940
And with that information,

524
00:19:05,940 --> 00:19:08,790
we can tell the MCP gateway how to access

525
00:19:08,790 --> 00:19:10,950
and what are the services available

526
00:19:10,950 --> 00:19:14,100
so they can reconvert it into MCP tools.

527
00:19:14,100 --> 00:19:16,503
So if I want to do this in this example,

528
00:19:17,580 --> 00:19:18,420
like I showed you, right?

529
00:19:18,420 --> 00:19:20,280
I have the ingress here,

530
00:19:20,280 --> 00:19:22,590
I can do k get ingress,

531
00:19:22,590 --> 00:19:25,080
and then for the ingress usually prints

532
00:19:25,080 --> 00:19:27,870
the host name

533
00:19:27,870 --> 00:19:31,320
and External DNS name that
I configure in Route 53.

534
00:19:31,320 --> 00:19:36,180
So usually, this is the easiest
way to configure host names

535
00:19:36,180 --> 00:19:37,740
for when you create an ingress,

536
00:19:37,740 --> 00:19:39,810
you put in annotation that you want to put

537
00:19:39,810 --> 00:19:42,450
the domain name for this application.

538
00:19:42,450 --> 00:19:45,810
So in this case I have
appointments dash development,

539
00:19:45,810 --> 00:19:47,103
home insurance,

540
00:19:48,863 --> 00:19:50,850
demo cloud-native-start.com.

541
00:19:50,850 --> 00:19:54,930
That's just a domain name that
I have available for demos.

542
00:19:54,930 --> 00:19:56,380
Then we have customer

543
00:19:57,300 --> 00:19:58,350
and then we have technicians.

544
00:19:58,350 --> 00:20:01,937
So let's pick up one of the microservices

545
00:20:01,937 --> 00:20:04,113
and let's take a look
at what is behind it.

546
00:20:06,510 --> 00:20:09,303
So if I open here and say docs,

547
00:20:10,290 --> 00:20:12,060
who can tell me what is this?

548
00:20:12,060 --> 00:20:13,233
Who recognize this UI?

549
00:20:15,245 --> 00:20:16,140
Who have used it?

550
00:20:16,140 --> 00:20:17,460
Who have used it? Okay.

551
00:20:17,460 --> 00:20:18,690
So for people recording,

552
00:20:18,690 --> 00:20:21,660
there's a lot of people
raising their hand by the way.

553
00:20:21,660 --> 00:20:23,580
So this is a kind of the Swagger,

554
00:20:23,580 --> 00:20:24,600
we just call it Swagger UI,

555
00:20:24,600 --> 00:20:27,600
I guess we call it now Open Spec UI.

556
00:20:27,600 --> 00:20:29,097
But these are like my microservices

557
00:20:29,097 --> 00:20:30,810
and this becomes appointments.

558
00:20:30,810 --> 00:20:32,640
So in the home insurance company, right,

559
00:20:32,640 --> 00:20:35,820
we have appointments and
claims and customers.

560
00:20:35,820 --> 00:20:37,890
So customer create a claim

561
00:20:37,890 --> 00:20:38,850
based on their policy

562
00:20:38,850 --> 00:20:40,530
and then if they have like a problem

563
00:20:40,530 --> 00:20:41,940
that we have with the fridge is still

564
00:20:41,940 --> 00:20:43,500
like running water in here on stage,

565
00:20:43,500 --> 00:20:44,610
oh, my goodness!

566
00:20:44,610 --> 00:20:46,740
We need someone to come in and fix it.

567
00:20:46,740 --> 00:20:49,140
So we can just test it
here to see if it works.

568
00:20:49,140 --> 00:20:52,380
I can just list what are the
appointments that I have,

569
00:20:52,380 --> 00:20:53,610
click here,

570
00:20:53,610 --> 00:20:56,520
and then execute it, right?

571
00:20:56,520 --> 00:20:58,350
And then, I get all my appointments.

572
00:20:58,350 --> 00:21:01,410
So this is a typical way that
our current system, right,

573
00:21:01,410 --> 00:21:02,433
before Agentic,

574
00:21:03,450 --> 00:21:06,090
our customer service and
everyone in the business

575
00:21:06,090 --> 00:21:09,270
used to access these
APIs through another API,

576
00:21:09,270 --> 00:21:11,550
another UI, standard forms.

577
00:21:11,550 --> 00:21:12,870
That these are not agentic,

578
00:21:12,870 --> 00:21:15,270
this is the standard way
that we have established

579
00:21:15,270 --> 00:21:17,460
and we have gone through change management

580
00:21:17,460 --> 00:21:19,170
every time we need to do an update.

581
00:21:19,170 --> 00:21:20,070
And that's our process.

582
00:21:20,070 --> 00:21:21,330
And most companies

583
00:21:21,330 --> 00:21:22,980
customers have a process of that

584
00:21:22,980 --> 00:21:24,480
like a change management

585
00:21:24,480 --> 00:21:25,980
of anything that you deploy.

586
00:21:25,980 --> 00:21:27,360
So we have this

587
00:21:27,360 --> 00:21:29,670
and if we want to see the JSON,

588
00:21:29,670 --> 00:21:31,200
we can click here

589
00:21:31,200 --> 00:21:32,970
and we'll get our JSON.

590
00:21:32,970 --> 00:21:36,570
But we can do pretty, so this is a way

591
00:21:36,570 --> 00:21:39,510
of describing the REST API

592
00:21:39,510 --> 00:21:41,613
as you saw all those endpoints that get,

593
00:21:42,450 --> 00:21:43,470
I'm doing appointments,

594
00:21:43,470 --> 00:21:44,730
so like get appointment,

595
00:21:44,730 --> 00:21:46,320
create an appointment,

596
00:21:46,320 --> 00:21:48,270
delete an appointment, list appointments.

597
00:21:48,270 --> 00:21:49,830
So this is like the standard way

598
00:21:49,830 --> 00:21:52,050
of creating this documentation.

599
00:21:52,050 --> 00:21:53,820
And a lot of frameworks, right?

600
00:21:53,820 --> 00:21:56,520
Spring Boot, Express js,

601
00:21:56,520 --> 00:21:58,500
we're using FastAPI

602
00:21:58,500 --> 00:22:02,580
have a way to generate this Swagger

603
00:22:02,580 --> 00:22:04,140
or Open Spec API.

604
00:22:04,140 --> 00:22:06,060
But you can also use things like Kiro.

605
00:22:06,060 --> 00:22:09,051
You can ask Kiro, which are our a GenTech,

606
00:22:09,051 --> 00:22:12,000
IDE, or CLI to inspect the source code

607
00:22:12,000 --> 00:22:13,590
and say, "Generate me

608
00:22:13,590 --> 00:22:15,510
the open swagger for this file," right?

609
00:22:15,510 --> 00:22:18,930
Or get me started and start doing that.

610
00:22:18,930 --> 00:22:21,469
So, but that's a requirement that we have.

611
00:22:21,469 --> 00:22:22,380
And I'm going to show in a minute,

612
00:22:22,380 --> 00:22:25,290
that there's something
that for MCP gateway

613
00:22:25,290 --> 00:22:27,210
that is not in here.

614
00:22:27,210 --> 00:22:29,373
So if I search, let me see if it's here.

615
00:22:30,510 --> 00:22:32,610
I search for server.

616
00:22:32,610 --> 00:22:35,640
In the spec, there's a field called server

617
00:22:35,640 --> 00:22:37,410
which has a URL.

618
00:22:37,410 --> 00:22:38,243
So the MCP,

619
00:22:38,243 --> 00:22:42,150
we are going to give this
JSON file to the MCP gateway

620
00:22:42,150 --> 00:22:43,590
to access this API

621
00:22:43,590 --> 00:22:45,420
but it needs the address.

622
00:22:45,420 --> 00:22:50,190
So the way to express the
location of this REST API, right?

623
00:22:50,190 --> 00:22:52,440
If it's going to be
development versus production,

624
00:22:52,440 --> 00:22:53,980
maybe I have two domain names

625
00:22:54,960 --> 00:22:57,513
or a path base routing,

626
00:22:59,040 --> 00:23:01,500
it would know how to call it.

627
00:23:01,500 --> 00:23:04,860
So we're going to show the
code how would you inject that?

628
00:23:04,860 --> 00:23:06,090
How we doing with that?

629
00:23:06,090 --> 00:23:07,583
- [Roland] We're good, we're good.

630
00:23:09,101 --> 00:23:11,820
- [Carlos] So good so far, right?

631
00:23:11,820 --> 00:23:13,410
So if you have microservices,

632
00:23:13,410 --> 00:23:14,670
they're up and running,

633
00:23:14,670 --> 00:23:17,010
you need a Swagger file, a JSON file,

634
00:23:17,010 --> 00:23:18,960
and we need to inject the URL.

635
00:23:18,960 --> 00:23:20,970
So I'm going to do it with code

636
00:23:20,970 --> 00:23:23,130
and then let's see how we can expose this

637
00:23:23,130 --> 00:23:24,780
on the MCP gateway.

638
00:23:24,780 --> 00:23:27,390
So let's go to Kiro.

639
00:23:27,390 --> 00:23:28,653
I'm using the Kiro IDE.

640
00:23:29,940 --> 00:23:32,850
Actually, this almost all this code

641
00:23:32,850 --> 00:23:35,680
was working me Kiro back and forth

642
00:23:36,630 --> 00:23:38,610
creating this code.

643
00:23:38,610 --> 00:23:40,830
So he's aware of things
that are happening here.

644
00:23:40,830 --> 00:23:44,352
So let me go and show you.

645
00:23:44,352 --> 00:23:45,990
And this code, when you get it,

646
00:23:45,990 --> 00:23:50,220
it will have a lot of test files

647
00:23:50,220 --> 00:23:51,960
because I use Kiro

648
00:23:51,960 --> 00:23:54,510
and as a spec-driven development,

649
00:23:54,510 --> 00:23:57,180
Kiro created all these
test files to make sure

650
00:23:57,180 --> 00:24:00,540
that the requirement that
I put into the beginning

651
00:24:00,540 --> 00:24:04,230
was met as we developed
the this demo code.

652
00:24:04,230 --> 00:24:05,063
But in this case,

653
00:24:05,063 --> 00:24:07,020
I'm going to go to the MCP gateway,

654
00:24:07,020 --> 00:24:09,450
Python folder, source,

655
00:24:09,450 --> 00:24:11,163
and I have set up that PY.

656
00:24:12,051 --> 00:24:14,940
And then I have a pipe project.

657
00:24:14,940 --> 00:24:18,627
So we are using Python
to create the gateway

658
00:24:18,627 --> 00:24:20,190
and this infrastructure.

659
00:24:20,190 --> 00:24:22,900
But you can use whatever
other infrastructure

660
00:24:22,900 --> 00:24:24,240
as to as code that you have.

661
00:24:24,240 --> 00:24:25,950
Like things like ACK, in this case,

662
00:24:25,950 --> 00:24:27,210
that we were talking about,

663
00:24:27,210 --> 00:24:30,360
Cloud Formation, Terraform, the CLI,

664
00:24:30,360 --> 00:24:31,193
whatever you have.

665
00:24:31,193 --> 00:24:33,150
In this case, I'm just going to show

666
00:24:33,150 --> 00:24:33,983
Boto3, right?

667
00:24:33,983 --> 00:24:35,523
The Python, SDK.

668
00:24:36,360 --> 00:24:40,417
So let me show go here and open the,

669
00:24:40,417 --> 00:24:42,270
or I have the terminal so big

670
00:24:42,270 --> 00:24:46,203
that I'm going to make
it a little bit smaller.

671
00:24:47,310 --> 00:24:48,810
And pipe project

672
00:24:48,810 --> 00:24:51,090
is basically like the
entry point to this thing.

673
00:24:51,090 --> 00:24:55,590
So I have a entry point
called MCP gateway set up

674
00:24:55,590 --> 00:25:00,590
that is going to use the
source set up dot Python code,

675
00:25:00,930 --> 00:25:01,830
and the main function.

676
00:25:01,830 --> 00:25:05,100
So if I run that,

677
00:25:05,100 --> 00:25:06,660
just need to grab it,

678
00:25:06,660 --> 00:25:08,793
go to this directory here.

679
00:25:10,710 --> 00:25:12,060
I'm in that directory, right?

680
00:25:12,060 --> 00:25:15,780
So if I do I see the project in there,

681
00:25:15,780 --> 00:25:19,260
if I do LS source, right?

682
00:25:19,260 --> 00:25:22,680
Here's all the things
that I was testing like

683
00:25:22,680 --> 00:25:24,810
the different pieces to
create the MCP gateway.

684
00:25:24,810 --> 00:25:28,800
But setup.py is setting
up the MCP gateway.

685
00:25:28,800 --> 00:25:31,710
So if we look at the code,

686
00:25:31,710 --> 00:25:34,800
I think I had it up in here,

687
00:25:34,800 --> 00:25:37,113
let me find my main function.

688
00:25:37,980 --> 00:25:40,530
So this little code,

689
00:25:40,530 --> 00:25:43,530
and I have some motility helper functions

690
00:25:43,530 --> 00:25:44,790
just to speed up things

691
00:25:44,790 --> 00:25:47,400
because we don't have enough
time to cover everything.

692
00:25:47,400 --> 00:25:51,150
But let me find the main function, right?

693
00:25:51,150 --> 00:25:52,500
So this is the main function.

694
00:25:52,500 --> 00:25:54,120
So if I run this script,

695
00:25:54,120 --> 00:25:55,590
it would ask you,

696
00:25:55,590 --> 00:25:57,420
you can pass two parameters.

697
00:25:57,420 --> 00:25:59,820
The REST API domain name,

698
00:25:59,820 --> 00:26:02,920
so you can use on when you run
this when you get back home

699
00:26:03,810 --> 00:26:05,670
or tonight you can run it

700
00:26:05,670 --> 00:26:07,200
and you pass a domain name.

701
00:26:07,200 --> 00:26:10,211
In this case it was
cloud-native-start.com, remember?

702
00:26:10,211 --> 00:26:12,120
And then, I will pass the environment.

703
00:26:12,120 --> 00:26:15,480
If I'm going to deploy
the development namespace

704
00:26:15,480 --> 00:26:16,860
or the production namespace.

705
00:26:16,860 --> 00:26:19,680
But also a lot of customers have this,

706
00:26:19,680 --> 00:26:22,683
these environments in
separate EKS cluster,

707
00:26:22,683 --> 00:26:24,930
they have a pre-prod cluster

708
00:26:24,930 --> 00:26:25,950
and a production cluster.

709
00:26:25,950 --> 00:26:29,707
So for demo purposes,
I'm using namespaces.

710
00:26:29,707 --> 00:26:31,080
So you pass those two things

711
00:26:31,080 --> 00:26:33,790
and then we're going to
start using the Boto3

712
00:26:35,400 --> 00:26:37,560
library to do that.

713
00:26:37,560 --> 00:26:39,030
And then, the first thing that we do is

714
00:26:39,030 --> 00:26:40,920
create an MCP gateway.

715
00:26:40,920 --> 00:26:42,510
And to create an MCP gateway,

716
00:26:42,510 --> 00:26:46,440
we need a IAM role

717
00:26:46,440 --> 00:26:48,783
for the MCP gateway service, right?

718
00:26:48,783 --> 00:26:51,200
That instance of the MCP gateway

719
00:26:51,200 --> 00:26:54,300
is going to be have need identity,

720
00:26:54,300 --> 00:26:55,470
like an IAM role

721
00:26:55,470 --> 00:26:56,940
And the documentation shows that.

722
00:26:56,940 --> 00:27:00,360
So I have a function
that just create IAM role

723
00:27:00,360 --> 00:27:01,860
with the right IAM policy

724
00:27:01,860 --> 00:27:03,780
and I get that IAM role.

725
00:27:03,780 --> 00:27:08,040
The next thing that I do is get a Cognito.

726
00:27:08,040 --> 00:27:10,470
So this is how I'm going to protect

727
00:27:10,470 --> 00:27:13,530
the MCP gateway for Roland

728
00:27:13,530 --> 00:27:14,910
when he creates the agent

729
00:27:14,910 --> 00:27:17,250
and he's going to access the MCP gateway,

730
00:27:17,250 --> 00:27:20,040
it's going to be an
inbound from the AgentCore,

731
00:27:20,040 --> 00:27:22,320
from the agent to the MCP gateway.

732
00:27:22,320 --> 00:27:23,190
So in this case,

733
00:27:23,190 --> 00:27:25,530
I'm using Cognito to protect it.

734
00:27:25,530 --> 00:27:26,910
So this function,

735
00:27:26,910 --> 00:27:29,880
I think I have it here to the definition,

736
00:27:29,880 --> 00:27:32,280
so this function basically,

737
00:27:32,280 --> 00:27:34,170
it checks if I already have it created,

738
00:27:34,170 --> 00:27:35,550
like for demo purposes,

739
00:27:35,550 --> 00:27:37,100
if it's not, it will create it.

740
00:27:38,040 --> 00:27:40,210
And then it would need things like

741
00:27:40,210 --> 00:27:42,720
what is the Cognito pool,

742
00:27:42,720 --> 00:27:44,190
resource server ID,

743
00:27:44,190 --> 00:27:45,210
resource server name?

744
00:27:45,210 --> 00:27:48,240
So this is basically,
like to handle the scope.

745
00:27:48,240 --> 00:27:51,180
So if you want to read versus write,

746
00:27:51,180 --> 00:27:52,650
the scopes are down here

747
00:27:52,650 --> 00:27:54,720
that I want to define.

748
00:27:54,720 --> 00:27:56,157
And then, basically, I create that

749
00:27:56,157 --> 00:27:59,280
and I get back the information
that I need to return.

750
00:27:59,280 --> 00:28:02,910
Like what is the user
pool ID, the client ID,

751
00:28:02,910 --> 00:28:04,050
the client secret,

752
00:28:04,050 --> 00:28:06,900
the Cognito discovery URL,

753
00:28:06,900 --> 00:28:07,860
the token URL,

754
00:28:07,860 --> 00:28:11,430
where you're going to get a
token from that Cognito service,

755
00:28:11,430 --> 00:28:13,080
and then the resource server ID

756
00:28:13,080 --> 00:28:17,340
where the scopes need to match
when you ask for a token.

757
00:28:17,340 --> 00:28:19,030
So let's go back to the main

758
00:28:20,610 --> 00:28:22,260
down here.

759
00:28:22,260 --> 00:28:23,110
Where's the main?

760
00:28:24,180 --> 00:28:25,330
Forgot the line number.

761
00:28:26,880 --> 00:28:30,433
So create the MCP.

762
00:28:30,433 --> 00:28:32,640
So Cognito is created,

763
00:28:32,640 --> 00:28:35,880
then I'm going to create the gateway.

764
00:28:35,880 --> 00:28:37,230
So there's an API

765
00:28:37,230 --> 00:28:39,009
and the things that you
need to pass to this

766
00:28:39,009 --> 00:28:42,840
gateway is three things.

767
00:28:42,840 --> 00:28:44,190
And take into account

768
00:28:44,190 --> 00:28:46,440
that you create a gateway first

769
00:28:46,440 --> 00:28:48,870
and then you do your targets.

770
00:28:48,870 --> 00:28:50,670
So you can create a gateway

771
00:28:50,670 --> 00:28:52,950
and then with the protection that you want

772
00:28:52,950 --> 00:28:54,030
and then you put,

773
00:28:54,030 --> 00:28:55,380
you start adding targets.

774
00:28:55,380 --> 00:28:58,020
And targets could be different
microservices, right?

775
00:28:58,020 --> 00:28:59,220
One Swagger file at a time.

776
00:28:59,220 --> 00:29:00,240
So you have five,

777
00:29:00,240 --> 00:29:02,730
in this case have three Swagger files,

778
00:29:02,730 --> 00:29:04,290
or three microservices endpoints.

779
00:29:04,290 --> 00:29:06,933
I'm going to be adding
three targets into it.

780
00:29:08,820 --> 00:29:12,510
So it's the information around the Cognito

781
00:29:12,510 --> 00:29:14,910
and then what is the role

782
00:29:14,910 --> 00:29:16,710
that gateway incident is going to use?

783
00:29:16,710 --> 00:29:18,573
So it's going to run that.

784
00:29:20,490 --> 00:29:23,280
The next thing is the
identity provider name.

785
00:29:23,280 --> 00:29:27,090
So this is passing in

786
00:29:27,090 --> 00:29:29,940
to this identity provider service

787
00:29:29,940 --> 00:29:32,280
in AgentCore you saw in the slides

788
00:29:32,280 --> 00:29:34,530
there's an AgentCore Identity.

789
00:29:34,530 --> 00:29:39,030
So identity, think about it
like a helper for the agent

790
00:29:39,030 --> 00:29:40,710
to be able to get that token.

791
00:29:40,710 --> 00:29:43,590
Instead of the token
having the client secrets,

792
00:29:43,590 --> 00:29:46,170
like in code or an environment variable

793
00:29:46,170 --> 00:29:50,250
and doing that token exchange
from machine to machine token.

794
00:29:50,250 --> 00:29:52,138
Identity can do that for me.

795
00:29:52,138 --> 00:29:55,410
And it has a nice SDK that
Roland's going to show

796
00:29:55,410 --> 00:29:57,750
on how the decorator
would inject that token.

797
00:29:57,750 --> 00:29:59,400
What I need to create the identity, right,

798
00:29:59,400 --> 00:30:01,230
to protect the MCP,

799
00:30:01,230 --> 00:30:03,420
not protect the... Cognito is protecting,

800
00:30:03,420 --> 00:30:06,090
the identity is a service that will handle

801
00:30:06,090 --> 00:30:08,100
getting the token for the agent

802
00:30:08,100 --> 00:30:10,260
but it needs to know like
where do I get it from?

803
00:30:10,260 --> 00:30:12,450
Well, you're going to
get it from the Cognito

804
00:30:12,450 --> 00:30:15,420
and requesting it with the proper scopes.

805
00:30:15,420 --> 00:30:19,440
So this is why I'm
passing like the user URL,

806
00:30:19,440 --> 00:30:20,880
the authorization endpoint,

807
00:30:20,880 --> 00:30:21,780
the token endpoint.

808
00:30:21,780 --> 00:30:23,250
So the identity service

809
00:30:23,250 --> 00:30:26,250
is the one that is going to call Cognito

810
00:30:26,250 --> 00:30:29,220
your service to get the token back.

811
00:30:29,220 --> 00:30:32,640
And then, that piece of information,

812
00:30:32,640 --> 00:30:34,200
there's some piece of information that

813
00:30:34,200 --> 00:30:37,530
I need to pass to Roland
or Roland's team, right?

814
00:30:37,530 --> 00:30:40,230
So I need to pass to it the gateway, URL.

815
00:30:40,230 --> 00:30:41,670
So once you create the gateway,

816
00:30:41,670 --> 00:30:43,020
even without target,

817
00:30:43,020 --> 00:30:45,213
so that URL you can keep using it,

818
00:30:46,710 --> 00:30:48,870
Roland would need that
when he creates this agent,

819
00:30:48,870 --> 00:30:50,910
he needs that MCP URL

820
00:30:50,910 --> 00:30:53,820
to use the MCP SDK to connect to it.

821
00:30:53,820 --> 00:30:55,140
And he's going to show that.

822
00:30:55,140 --> 00:30:58,950
And then, I need to give it
the identity provider name.

823
00:30:58,950 --> 00:31:00,600
So in AgentCore you will see,

824
00:31:00,600 --> 00:31:04,290
as you develop multiple
agents and MCP gateways,

825
00:31:04,290 --> 00:31:06,900
you may have different identity providers.

826
00:31:06,900 --> 00:31:09,390
So you need to select what is
the instance of that provider

827
00:31:09,390 --> 00:31:11,250
that we just created in the script.

828
00:31:11,250 --> 00:31:13,620
And then, the resource server ID is

829
00:31:13,620 --> 00:31:16,740
that from the Cognito
when you ask for a scope,

830
00:31:16,740 --> 00:31:18,570
for example, for that gateway,

831
00:31:18,570 --> 00:31:21,060
you get a token that has the right claims,

832
00:31:21,060 --> 00:31:24,270
like it's a jot token
that has the right claims.

833
00:31:24,270 --> 00:31:25,470
So let's run that to see

834
00:31:25,470 --> 00:31:27,870
if we can get our MCP gateway created.

835
00:31:27,870 --> 00:31:29,913
So if I do UV run,

836
00:31:30,750 --> 00:31:31,980
I forgot what was the command,

837
00:31:31,980 --> 00:31:33,900
the script.

838
00:31:33,900 --> 00:31:35,190
So I have different scripts in here.

839
00:31:35,190 --> 00:31:36,490
So you can see I have like

840
00:31:37,470 --> 00:31:38,370
test the gateway,

841
00:31:38,370 --> 00:31:39,663
test the connection.

842
00:31:40,770 --> 00:31:43,080
Oh, I'm going to show that in a minute,

843
00:31:43,080 --> 00:31:46,500
creating S3 bucket to
save those JSON files.

844
00:31:46,500 --> 00:31:48,030
But let's create the gateway.

845
00:31:48,030 --> 00:31:49,800
So we're going to run it once

846
00:31:49,800 --> 00:31:53,400
and then I'm going to run
it again with a thing.

847
00:31:53,400 --> 00:31:56,130
So in this case going
to create the Cognito.

848
00:31:56,130 --> 00:31:57,870
It's going to create the identity service

849
00:31:57,870 --> 00:32:00,570
and it's going to create the MCP gateway

850
00:32:00,570 --> 00:32:02,520
and get that information stored

851
00:32:02,520 --> 00:32:05,130
in SSM parameter for Roland to use.

852
00:32:05,130 --> 00:32:06,333
So in this case,

853
00:32:08,340 --> 00:32:11,370
and we have emojis because
Kiro likes to put emojis

854
00:32:11,370 --> 00:32:12,960
on status,

855
00:32:12,960 --> 00:32:14,060
which I think is cool.

856
00:32:15,480 --> 00:32:17,537
So it, yeah, and it actually describes

857
00:32:17,537 --> 00:32:18,750
all these text output.

858
00:32:18,750 --> 00:32:20,460
I think I like.

859
00:32:20,460 --> 00:32:22,080
If I didn't have the time when I put it,

860
00:32:22,080 --> 00:32:24,783
but Kiro just put it for
me so it's very useful.

861
00:32:26,970 --> 00:32:29,098
And then, this is the gateway
that Roland's going to use.

862
00:32:29,098 --> 00:32:30,270
So I'm going to give it to it.

863
00:32:30,270 --> 00:32:31,740
So let's go to the console

864
00:32:31,740 --> 00:32:33,150
and see a little bit of this.

865
00:32:33,150 --> 00:32:38,150
So this is the AgentCore landing zone

866
00:32:38,400 --> 00:32:40,350
or first page that you see.

867
00:32:40,350 --> 00:32:42,120
And on the left,

868
00:32:42,120 --> 00:32:44,040
I think this is good.

869
00:32:44,040 --> 00:32:45,540
We click gateways

870
00:32:45,540 --> 00:32:49,683
and we have our reinvent app
gateway that we just created.

871
00:32:51,690 --> 00:32:56,237
And it has the MCP URL that
I'm going to pass to Roland.

872
00:32:56,237 --> 00:32:59,190
And it has the identity, right?

873
00:32:59,190 --> 00:33:01,560
The inbound identity using Cognito

874
00:33:01,560 --> 00:33:06,330
and discover URL on how
it's going to be created.

875
00:33:06,330 --> 00:33:08,310
So, so far so good.

876
00:33:08,310 --> 00:33:10,290
So let's create the targets to

877
00:33:10,290 --> 00:33:12,720
my three microservices
appointments technicians

878
00:33:12,720 --> 00:33:15,510
and what's the other one, claims?

879
00:33:15,510 --> 00:33:17,520
- [Roland] Claims.
- [Carlos] Claims.

880
00:33:17,520 --> 00:33:22,520
So the next piece on this setup is part B,

881
00:33:22,830 --> 00:33:25,053
creating the MCP gateway target.

882
00:33:26,190 --> 00:33:27,930
So you can create the gateway once

883
00:33:27,930 --> 00:33:29,640
and the get the target.

884
00:33:29,640 --> 00:33:30,473
So in this case,

885
00:33:30,473 --> 00:33:34,210
let me comment out this code

886
00:33:39,000 --> 00:33:39,833
here

887
00:33:40,950 --> 00:33:42,453
and then I'll run it again.

888
00:33:46,410 --> 00:33:48,240
And then this would is the information

889
00:33:48,240 --> 00:33:49,100
that it's going to do.

890
00:33:49,100 --> 00:33:51,180
As this is running on to show the code,

891
00:33:51,180 --> 00:33:53,490
I'm going to do appointments
with a description,

892
00:33:53,490 --> 00:33:55,470
customer, a technician.

893
00:33:55,470 --> 00:33:57,360
The claims are inside the customer.

894
00:33:57,360 --> 00:34:00,210
So it's three services appointments,

895
00:34:00,210 --> 00:34:01,710
customer, a technician.

896
00:34:01,710 --> 00:34:03,810
And the claim information is stored

897
00:34:03,810 --> 00:34:06,510
inside a customer with the policy.

898
00:34:06,510 --> 00:34:09,690
It will go over each of the three targets.

899
00:34:09,690 --> 00:34:12,300
It will build the URL.

900
00:34:12,300 --> 00:34:14,670
Remember of the URL that was missing.

901
00:34:14,670 --> 00:34:17,103
So I'm going to fetch the JSON file,

902
00:34:18,960 --> 00:34:22,740
insert this URL in this function

903
00:34:22,740 --> 00:34:23,730
so it's upload

904
00:34:23,730 --> 00:34:25,950
and then upload it to S3 bucket.

905
00:34:25,950 --> 00:34:27,870
So the MCP gateway,

906
00:34:27,870 --> 00:34:30,900
the way it works is you
have to put this JSON file

907
00:34:30,900 --> 00:34:32,100
in the S3 bucket

908
00:34:32,100 --> 00:34:34,680
and then give the gateway the S3

909
00:34:34,680 --> 00:34:37,950
location of this file
to create the target.

910
00:34:37,950 --> 00:34:41,190
And then this is the API
URL that you're going to hit

911
00:34:41,190 --> 00:34:44,160
the path and the bucket name.

912
00:34:44,160 --> 00:34:45,660
And then you create the target

913
00:34:46,770 --> 00:34:49,200
with the credential provider ARN.

914
00:34:49,200 --> 00:34:52,800
So what this does is

915
00:34:52,800 --> 00:34:54,750
if your REST API is protected,

916
00:34:54,750 --> 00:34:56,880
which it should be protected,

917
00:34:56,880 --> 00:34:58,680
most likely it should be,

918
00:34:58,680 --> 00:35:00,390
it could be a parameter

919
00:35:00,390 --> 00:35:02,160
or it could be an authorization, right?

920
00:35:02,160 --> 00:35:04,200
Like the, or sorry, a header,

921
00:35:04,200 --> 00:35:06,528
like an authorization header.

922
00:35:06,528 --> 00:35:09,120
The URL to that bucket,

923
00:35:09,120 --> 00:35:11,250
what I want to call the target,

924
00:35:11,250 --> 00:35:13,260
a nice description for it,

925
00:35:13,260 --> 00:35:15,870
and then the gateway ID to which

926
00:35:15,870 --> 00:35:20,130
gateway should I attach this
target as I create the target.

927
00:35:20,130 --> 00:35:23,253
So this code actually runs three times.

928
00:35:24,510 --> 00:35:26,250
As you can see here,

929
00:35:26,250 --> 00:35:27,210
it run three times.

930
00:35:27,210 --> 00:35:29,190
It got the JSON code,

931
00:35:29,190 --> 00:35:32,760
JSON Open Spec API inserted the server,

932
00:35:32,760 --> 00:35:35,550
put it in S3 bucket and
created the gateway.

933
00:35:35,550 --> 00:35:38,320
So, and actually, I can show

934
00:35:40,260 --> 00:35:45,060
the S3 bucket should be here.

935
00:35:45,060 --> 00:35:45,930
Let see if it's here.

936
00:35:45,930 --> 00:35:47,700
AgentCore gateway.

937
00:35:47,700 --> 00:35:48,533
Yeah.

938
00:35:48,533 --> 00:35:51,570
So these are the three JSON
files that this code did.

939
00:35:51,570 --> 00:35:53,460
It just grabbed that,

940
00:35:53,460 --> 00:35:54,293
it created it,

941
00:35:54,293 --> 00:35:55,560
it put the appointment.JSON,

942
00:35:55,560 --> 00:35:56,490
customer.JSON,

943
00:35:56,490 --> 00:35:57,840
technician.JSON,

944
00:35:57,840 --> 00:36:00,480
and that's what I passed
when I created the target,

945
00:36:00,480 --> 00:36:04,440
this location of these JSON files in here.

946
00:36:04,440 --> 00:36:06,420
So this is where the JSON is located

947
00:36:06,420 --> 00:36:08,850
and then the target can be created,

948
00:36:08,850 --> 00:36:11,130
we'll grab it and then we expose.

949
00:36:11,130 --> 00:36:15,160
So if we go to the agent gateway

950
00:36:16,320 --> 00:36:18,123
here at the bottom,

951
00:36:19,740 --> 00:36:21,720
I have my technician,

952
00:36:21,720 --> 00:36:23,130
my customer, and my appointment.

953
00:36:23,130 --> 00:36:25,980
So there's not much information,

954
00:36:25,980 --> 00:36:27,300
but it says that it's ready status.

955
00:36:27,300 --> 00:36:30,660
So it takes like a minute to be created.

956
00:36:30,660 --> 00:36:35,370
The JSON, the S3 location
of that JSON file

957
00:36:35,370 --> 00:36:38,970
and an ID, so there's not much about it

958
00:36:38,970 --> 00:36:40,410
also the outbound auth details.

959
00:36:40,410 --> 00:36:41,460
So this will click

960
00:36:41,460 --> 00:36:44,703
and go into like how do I
authenticate to the REST API?

961
00:36:46,620 --> 00:36:47,610
Let me see.

962
00:36:47,610 --> 00:36:49,683
Go back to the code.

963
00:36:52,800 --> 00:36:53,850
How we doing with time?

964
00:36:53,850 --> 00:36:54,784
- [Roland] We're good.

965
00:36:54,784 --> 00:36:56,117
- [Carlos] Okay.

966
00:36:58,320 --> 00:37:00,300
And the other thing I wanted to show,

967
00:37:00,300 --> 00:37:01,830
so there's the S3 bucket,

968
00:37:01,830 --> 00:37:03,030
the gateway,

969
00:37:03,030 --> 00:37:05,610
and then the information
I'm passing to Roland,

970
00:37:05,610 --> 00:37:08,040
which is the SSM parameters

971
00:37:08,040 --> 00:37:10,803
or SSM, I think it's here.

972
00:37:12,660 --> 00:37:14,223
Let me open a new screen.

973
00:37:21,330 --> 00:37:22,163
Here.

974
00:37:22,163 --> 00:37:26,290
And then I think is parameter store

975
00:37:28,380 --> 00:37:29,520
and I use parameter store

976
00:37:29,520 --> 00:37:30,750
because it's configuration,

977
00:37:30,750 --> 00:37:32,070
it's not like a secret.

978
00:37:32,070 --> 00:37:33,360
If I had a secret,

979
00:37:33,360 --> 00:37:36,720
I would store it in the in secret manager.

980
00:37:36,720 --> 00:37:38,160
I'll show you a minute.

981
00:37:38,160 --> 00:37:39,420
Secret manager is used.

982
00:37:39,420 --> 00:37:41,490
So you have to configure IAM policies

983
00:37:41,490 --> 00:37:43,620
because the identity service

984
00:37:43,620 --> 00:37:45,450
is used in a client token,

985
00:37:45,450 --> 00:37:47,070
a client secret.

986
00:37:47,070 --> 00:37:49,170
And that secret is
stored in secret manager.

987
00:37:49,170 --> 00:37:53,053
So anytime that the identity
service needs to do that,

988
00:37:53,053 --> 00:37:54,480
a token exchange,

989
00:37:54,480 --> 00:37:56,460
it will go to secret manager,

990
00:37:56,460 --> 00:37:59,400
grab the value that is there,

991
00:37:59,400 --> 00:38:02,880
get it, and then do the
token exchange with cognito.

992
00:38:02,880 --> 00:38:05,990
The same thing happens
when the MCP gateway

993
00:38:05,990 --> 00:38:08,190
is going to connect to your REST API

994
00:38:08,190 --> 00:38:10,440
if you have like an API key, for example,

995
00:38:10,440 --> 00:38:12,930
or like an authorization header

996
00:38:12,930 --> 00:38:14,670
and that needs to be configured

997
00:38:14,670 --> 00:38:16,350
to access this REST API.

998
00:38:16,350 --> 00:38:19,110
It also is stored secure
in secret manager.

999
00:38:19,110 --> 00:38:21,450
So the service has an integration,

1000
00:38:21,450 --> 00:38:23,550
AgentCore has an integration
with secret manager

1001
00:38:23,550 --> 00:38:24,383
to do that for you.

1002
00:38:24,383 --> 00:38:26,280
So it's a convenience way of doing that

1003
00:38:26,280 --> 00:38:29,670
and also providing the SDKs
to trigger from the code.

1004
00:38:29,670 --> 00:38:31,020
So when I run the code,

1005
00:38:31,020 --> 00:38:33,210
actually, this what
happened behind the scenes

1006
00:38:33,210 --> 00:38:34,380
when I created the target

1007
00:38:34,380 --> 00:38:35,973
I created an identity.

1008
00:38:37,080 --> 00:38:39,150
So yeah, this is the information
that I'm giving Roland.

1009
00:38:39,150 --> 00:38:39,983
So for example,

1010
00:38:39,983 --> 00:38:42,720
the most important one is the MCP URL.

1011
00:38:42,720 --> 00:38:44,910
So as you can see the value here

1012
00:38:44,910 --> 00:38:48,930
matches is a gateway.bedrock
agent US West 2.

1013
00:38:48,930 --> 00:38:50,550
So we are in West 2

1014
00:38:50,550 --> 00:38:53,600
amazonaws.com/mcp.

1015
00:38:53,600 --> 00:38:56,022
So Roland's going to use
the MCP client stream

1016
00:38:56,022 --> 00:38:59,970
streamable HTTP endpoint to connect to it

1017
00:38:59,970 --> 00:39:03,600
with the token when identity
gets the token back.

1018
00:39:03,600 --> 00:39:05,250
So it's one way.

1019
00:39:05,250 --> 00:39:07,830
You can have multiple
ways of interchanging

1020
00:39:07,830 --> 00:39:09,150
this information, right?

1021
00:39:09,150 --> 00:39:11,040
If it's something that if's already known,

1022
00:39:11,040 --> 00:39:12,930
but we did it through code

1023
00:39:12,930 --> 00:39:14,520
because that will make it more secure

1024
00:39:14,520 --> 00:39:17,763
to handle the parameter
passing and and so on.

1025
00:39:19,650 --> 00:39:22,863
So I show the S3 bucket
we're storing the JSON.

1026
00:39:23,970 --> 00:39:25,200
Oh, the secret manager.

1027
00:39:25,200 --> 00:39:26,160
So I showed you,

1028
00:39:26,160 --> 00:39:28,050
secret manager will have a few pieces

1029
00:39:28,050 --> 00:39:29,530
because we are also doing

1030
00:39:31,020 --> 00:39:34,200
the inbound identity service.

1031
00:39:34,200 --> 00:39:35,320
Like when somebody wants the

1032
00:39:35,320 --> 00:39:37,143
UI is going to talk to,

1033
00:39:39,030 --> 00:39:40,740
the UI is going to talk to the AgentCore.

1034
00:39:40,740 --> 00:39:43,140
It's not like anything can
talk to your AgentCore.

1035
00:39:43,140 --> 00:39:45,840
We want to protect that
connection to the agent.

1036
00:39:45,840 --> 00:39:47,670
So you can see here,

1037
00:39:47,670 --> 00:39:49,500
this is the information saved

1038
00:39:49,500 --> 00:39:50,333
as a API key.

1039
00:39:50,333 --> 00:39:52,890
It's the API key that is accessed

1040
00:39:52,890 --> 00:39:56,580
the service and then the
reinvent cognito here.

1041
00:39:56,580 --> 00:39:59,993
So I can show this, right?

1042
00:39:59,993 --> 00:40:02,220
This is the client secrets

1043
00:40:02,220 --> 00:40:03,390
and I'm going to delete this by the way,

1044
00:40:03,390 --> 00:40:04,440
so it doesn't matter.

1045
00:40:06,390 --> 00:40:07,830
And then this is the client secret.

1046
00:40:07,830 --> 00:40:09,480
So if you have automation

1047
00:40:09,480 --> 00:40:11,880
to rotate this client
secret in Cognito, right?

1048
00:40:11,880 --> 00:40:14,850
Maybe you generate a new one, right?

1049
00:40:14,850 --> 00:40:15,810
It got leaked,

1050
00:40:15,810 --> 00:40:19,410
then you can have some
automation that actually rotates,

1051
00:40:19,410 --> 00:40:20,910
goes into Cognito,

1052
00:40:20,910 --> 00:40:23,430
rotates the client secret for a new one,

1053
00:40:23,430 --> 00:40:24,990
comes back to secret manager

1054
00:40:24,990 --> 00:40:26,460
and you can just put it here.

1055
00:40:26,460 --> 00:40:28,590
And then, the next time
the identity service

1056
00:40:28,590 --> 00:40:31,500
needs to grab this to exchange
it for a Cognito token

1057
00:40:31,500 --> 00:40:35,820
to access the MCP gateway
on behalf of the agent,

1058
00:40:35,820 --> 00:40:36,653
it will have it there.

1059
00:40:36,653 --> 00:40:37,917
So the automation is there

1060
00:40:37,917 --> 00:40:40,290
and that's why we provide
all these services

1061
00:40:40,290 --> 00:40:42,540
and all of them have APIs

1062
00:40:42,540 --> 00:40:44,370
and we offer SDK so you can use

1063
00:40:44,370 --> 00:40:46,467
like CodeBuild, CodePipeline,

1064
00:40:46,467 --> 00:40:47,300
the CLI,

1065
00:40:47,300 --> 00:40:48,176
Cloud Formation,

1066
00:40:48,176 --> 00:40:51,810
Terraform or ACK to actually
do this rotation like plan.

1067
00:40:51,810 --> 00:40:53,730
Some companies have some policies, right?

1068
00:40:53,730 --> 00:40:54,862
Customers have some policies

1069
00:40:54,862 --> 00:40:57,930
in the organization
that they want to rotate

1070
00:40:57,930 --> 00:40:59,472
maybe like every 90 days

1071
00:40:59,472 --> 00:41:01,833
or every six months.

1072
00:41:01,833 --> 00:41:03,840
Rotate, rotate that.

1073
00:41:03,840 --> 00:41:06,070
So that's the integration with

1074
00:41:08,280 --> 00:41:09,113
secret manager.

1075
00:41:09,113 --> 00:41:10,860
So you will see that this information,

1076
00:41:10,860 --> 00:41:15,570
if you get all the details
about the identity service.

1077
00:41:15,570 --> 00:41:17,910
So actually, I can show that here,

1078
00:41:17,910 --> 00:41:19,230
that it got created.

1079
00:41:19,230 --> 00:41:20,063
So you can see here,

1080
00:41:20,063 --> 00:41:22,500
here's the
reinvent-cognito-gateway-provider.

1081
00:41:22,500 --> 00:41:26,100
So that is the provider
that my code created

1082
00:41:26,100 --> 00:41:30,270
and this is the information
that is stored behind the scenes

1083
00:41:30,270 --> 00:41:34,650
on how to get access to the
client secret, which is here.

1084
00:41:34,650 --> 00:41:37,740
I could go here and click
on it and it will go there.

1085
00:41:37,740 --> 00:41:39,270
So that's the integration

1086
00:41:39,270 --> 00:41:42,993
and the security aspect
of using Agent Identity.

1087
00:41:44,970 --> 00:41:46,312
And I think that's it Roland.

1088
00:41:46,312 --> 00:41:47,145
I have like the same parameters for you.

1089
00:41:47,145 --> 00:41:48,990
Okay.
- [Roland] Okay. Let's go.

1090
00:41:48,990 --> 00:41:52,290
- [Carlos] Let me remove my things.

1091
00:41:52,290 --> 00:41:54,000
So you don't need this, you need this.

1092
00:41:54,000 --> 00:41:56,250
You're going to create an agent

1093
00:41:56,250 --> 00:41:57,480
and then show us the UI.

1094
00:41:57,480 --> 00:41:58,680
- [Roland] We're gonna show the agent.

1095
00:41:58,680 --> 00:41:59,513
- [Carlos] Yep.

1096
00:42:00,990 --> 00:42:02,520
- [Roland] All right Carlos, thank you.

1097
00:42:02,520 --> 00:42:07,520
So over here, I'm inside
the agent project.

1098
00:42:07,800 --> 00:42:10,530
I am more of an AWS native developer.

1099
00:42:10,530 --> 00:42:14,370
So I use AgentCore Runtime,
which is serverless.

1100
00:42:14,370 --> 00:42:16,470
We're using AgentCore Gateway,

1101
00:42:16,470 --> 00:42:17,940
AgentCore Identity.

1102
00:42:17,940 --> 00:42:21,300
But the UI, I actually built
it with ECS and Fargate

1103
00:42:21,300 --> 00:42:22,170
because you know,

1104
00:42:22,170 --> 00:42:24,060
he's a Kubernetes guy, I'm not.

1105
00:42:24,060 --> 00:42:25,800
I'm just an agent developer.

1106
00:42:25,800 --> 00:42:28,020
And so, but we have a lot of our core

1107
00:42:28,020 --> 00:42:31,260
highly scalable business
logic on the EKS cluster.

1108
00:42:31,260 --> 00:42:34,080
So we're gonna over here in the code.

1109
00:42:34,080 --> 00:42:36,870
We're inside my project now.

1110
00:42:36,870 --> 00:42:39,690
For convenience, we put
it all in Carlos's laptop,

1111
00:42:39,690 --> 00:42:40,740
but we did this separately.

1112
00:42:40,740 --> 00:42:43,710
We have home insurance is my agent.

1113
00:42:43,710 --> 00:42:45,870
So the first thing we did is

1114
00:42:45,870 --> 00:42:49,050
Carlos showed talking about
loading the SSM parameters,

1115
00:42:49,050 --> 00:42:50,370
he already showed them.

1116
00:42:50,370 --> 00:42:52,650
So this is basically the code

1117
00:42:52,650 --> 00:42:54,930
to actually go and
retrieve the SSM parameters

1118
00:42:54,930 --> 00:42:58,023
to get the information I need around,

1119
00:42:58,920 --> 00:43:01,500
which is basically the
gateway provider name,

1120
00:43:01,500 --> 00:43:03,360
the gateway resource server

1121
00:43:03,360 --> 00:43:05,460
and the MCP URL that he showed.

1122
00:43:05,460 --> 00:43:08,340
So this is just basic
code that we use in AWS

1123
00:43:08,340 --> 00:43:10,800
to kind of go and get my parameters

1124
00:43:10,800 --> 00:43:14,127
from the SSM store using the APIs in AWS.

1125
00:43:14,127 --> 00:43:15,440
And so we do that.

1126
00:43:15,440 --> 00:43:17,150
So the next thing we wanna do

1127
00:43:17,150 --> 00:43:18,990
is we wanna show the code

1128
00:43:18,990 --> 00:43:21,420
around getting the MCP client

1129
00:43:21,420 --> 00:43:23,730
and getting the authorization token.

1130
00:43:23,730 --> 00:43:26,760
Now, you know, we don't
wanna store credentials,

1131
00:43:26,760 --> 00:43:27,593
make the state full.

1132
00:43:27,593 --> 00:43:30,270
So we're gonna use a decorator in Python

1133
00:43:30,270 --> 00:43:34,350
so that every time we go and
we create the gateway client

1134
00:43:34,350 --> 00:43:36,000
or we access the gateway client,

1135
00:43:36,000 --> 00:43:39,000
we wanna be able to get a refresh token.

1136
00:43:39,000 --> 00:43:42,000
So this is a good pattern to
do using a decorator pattern.

1137
00:43:42,000 --> 00:43:46,590
So it's gonna call the SDK
APIs to get the access token.

1138
00:43:46,590 --> 00:43:48,210
So each time it calls this function,

1139
00:43:48,210 --> 00:43:50,430
you're gonna get and get a refresh token,

1140
00:43:50,430 --> 00:43:52,650
which is a security best practice.

1141
00:43:52,650 --> 00:43:55,470
And so here you see
we're gonna get the URL

1142
00:43:55,470 --> 00:43:59,760
and then we're gonna use
the standard MCP client SDK

1143
00:43:59,760 --> 00:44:02,070
to actually create an MCP client

1144
00:44:02,070 --> 00:44:05,370
using a Python Lambda function.

1145
00:44:05,370 --> 00:44:08,400
And we are creating that
using streamable HETP client

1146
00:44:08,400 --> 00:44:11,010
'cause it's a remote MCP server

1147
00:44:11,010 --> 00:44:12,660
that's hosted by the gateway.

1148
00:44:12,660 --> 00:44:14,040
Get the authorization header,

1149
00:44:14,040 --> 00:44:16,440
which is refreshed with
the decorator each time,

1150
00:44:16,440 --> 00:44:18,450
some time out parameters, et cetera.

1151
00:44:18,450 --> 00:44:21,450
So that's the next step
that I do in my code

1152
00:44:21,450 --> 00:44:23,010
as an agent developer.

1153
00:44:23,010 --> 00:44:26,340
We have, of course, access to the model.

1154
00:44:26,340 --> 00:44:29,970
I believe we're using
Haiku 4.5 from Anthropic

1155
00:44:29,970 --> 00:44:33,240
and then this is some cleanup code around

1156
00:44:33,240 --> 00:44:35,760
stopping the gateway, et cetera.

1157
00:44:35,760 --> 00:44:37,440
So here we have part C, right?

1158
00:44:37,440 --> 00:44:40,020
We're gonna create the AI agent

1159
00:44:40,020 --> 00:44:41,970
and we're gonna make it an A2A server.

1160
00:44:41,970 --> 00:44:46,260
So we're gonna get kind of
the headers that we need

1161
00:44:46,260 --> 00:44:47,640
because we want our agent to be able

1162
00:44:47,640 --> 00:44:51,060
to access AWS resources like
the Gateway and Identity.

1163
00:44:51,060 --> 00:44:54,900
And we're gonna get your
AgentCore SDK token as well.

1164
00:44:54,900 --> 00:44:56,760
We're gonna get our session ID as well.

1165
00:44:56,760 --> 00:44:58,590
So we're gonna have a session

1166
00:44:58,590 --> 00:45:01,350
and we're gonna use a little
helper called Agent Context

1167
00:45:01,350 --> 00:45:03,960
to kinda store the session ID as well

1168
00:45:03,960 --> 00:45:05,790
if it's not found so.

1169
00:45:05,790 --> 00:45:08,370
And we're gonna check if we've
already gotten the agent,

1170
00:45:08,370 --> 00:45:10,440
since we're using AgentCore Runtime.

1171
00:45:10,440 --> 00:45:11,419
If a request comes in
and the runtime is still

1172
00:45:11,419 --> 00:45:13,830
up and running,

1173
00:45:13,830 --> 00:45:15,180
it'll just get the agent again,

1174
00:45:15,180 --> 00:45:16,530
we won't have to refresh.

1175
00:45:16,530 --> 00:45:19,260
It goes away, it'll lazily
create the agent again.

1176
00:45:19,260 --> 00:45:22,230
So over here we go,

1177
00:45:22,230 --> 00:45:26,760
we use the the agent context get agent.

1178
00:45:26,760 --> 00:45:29,250
If it's not there, we actually
go ahead and create it.

1179
00:45:29,250 --> 00:45:31,710
We start the client gateway,

1180
00:45:31,710 --> 00:45:33,870
we set the client gateway,

1181
00:45:33,870 --> 00:45:37,140
we get the list of tools and
here we have our Strands agent.

1182
00:45:37,140 --> 00:45:39,060
So we use the Strands SDK,

1183
00:45:39,060 --> 00:45:40,890
we give it the list of gateway tools

1184
00:45:40,890 --> 00:45:42,540
that we get from the gateway,

1185
00:45:42,540 --> 00:45:43,710
we give it our model,

1186
00:45:43,710 --> 00:45:46,290
we give it some of our system
prompts and a description

1187
00:45:46,290 --> 00:45:49,080
and we go ahead and
create the Strands agent

1188
00:45:49,080 --> 00:45:53,130
and then we wrap the strands
agent as an A2A server.

1189
00:45:53,130 --> 00:45:54,660
That way in the future,

1190
00:45:54,660 --> 00:45:57,436
if another agent wants
to invoke this agent,

1191
00:45:57,436 --> 00:45:58,680
that's set up

1192
00:45:58,680 --> 00:46:01,500
and we run that inside
of AgentCore Runtime.

1193
00:46:01,500 --> 00:46:05,480
So let me show you some of...

1194
00:46:06,450 --> 00:46:09,150
This is the first time I do
this on Carlos's machine.

1195
00:46:09,150 --> 00:46:11,790
And so we're gonna go and
look at AgentCore runtime.

1196
00:46:11,790 --> 00:46:13,260
So we've deployed this,

1197
00:46:13,260 --> 00:46:16,020
the code to deploy that is there as well

1198
00:46:16,020 --> 00:46:17,140
where we have this

1199
00:46:18,390 --> 00:46:19,530
home insurance agent,

1200
00:46:19,530 --> 00:46:22,350
which was deployed, version 41.

1201
00:46:22,350 --> 00:46:25,680
So we deployed this a few times.

1202
00:46:25,680 --> 00:46:27,450
So we have an existing
running one already.

1203
00:46:27,450 --> 00:46:29,220
You can see we had a two week gap.

1204
00:46:29,220 --> 00:46:32,580
I was traveling that week
for a customer visit.

1205
00:46:32,580 --> 00:46:34,530
So we have this running in our runtime,

1206
00:46:34,530 --> 00:46:36,030
it's a serverless runtime,

1207
00:46:36,030 --> 00:46:38,940
it does all the things
around observability as well

1208
00:46:38,940 --> 00:46:39,930
pre-built in.

1209
00:46:39,930 --> 00:46:42,000
So really excited about that.

1210
00:46:42,000 --> 00:46:44,460
We also have the UI
running in ECS Fargate,

1211
00:46:44,460 --> 00:46:46,260
but I'm gonna run it locally

1212
00:46:46,260 --> 00:46:47,447
for the demo here.

1213
00:46:47,447 --> 00:46:49,263
So I'm gonna go back,

1214
00:46:50,100 --> 00:46:53,400
move this back up here,

1215
00:46:53,400 --> 00:46:54,690
gonna go here,

1216
00:46:54,690 --> 00:46:57,363
I'm gonna, did I lose it? There we go.

1217
00:46:58,589 --> 00:47:00,033
I would just hopefully,

1218
00:47:01,920 --> 00:47:04,830
sorry, I got all of
Carlos's history there.

1219
00:47:04,830 --> 00:47:06,060
All right.

1220
00:47:06,060 --> 00:47:06,893
- [Carlos] UV run.

1221
00:47:06,893 --> 00:47:08,309
- [Roland] Yep. UV run.

1222
00:47:08,309 --> 00:47:09,783
Yep. UV run UI.

1223
00:47:11,670 --> 00:47:15,693
So let's go and run the UI application.

1224
00:47:17,310 --> 00:47:18,143
Okay.

1225
00:47:19,440 --> 00:47:20,273
We're good?

1226
00:47:20,273 --> 00:47:23,610
- [Carlos] Yeah. Local holes,
8,000, I think I have it open.

1227
00:47:23,610 --> 00:47:25,061
- [Roland] Yeah.

1228
00:47:25,061 --> 00:47:26,460
- [Carlos] Gradio, I think the Gradio one.

1229
00:47:26,460 --> 00:47:27,660
- [Roland] Yep. Cool.

1230
00:47:27,660 --> 00:47:29,520
- [Carlos] Refresh it to
see if it's connected.

1231
00:47:29,520 --> 00:47:30,750
Demi-Gods are inside.

1232
00:47:30,750 --> 00:47:32,280
Yeah, wifi Demi-gods. Whoo! (claps)

1233
00:47:32,280 --> 00:47:33,113
- [Roland] All right, cool.

1234
00:47:33,113 --> 00:47:34,050
- [Carlos] Clap everybody clap.

1235
00:47:34,050 --> 00:47:35,501
- [Roland] All right, there we go.

1236
00:47:35,501 --> 00:47:36,334
(audience clapping)

1237
00:47:36,334 --> 00:47:37,923
So I'm gonna say,

1238
00:47:38,850 --> 00:47:39,683
let's see.

1239
00:47:41,280 --> 00:47:42,930
What,

1240
00:47:42,930 --> 00:47:43,920
get your cap locks off.

1241
00:47:43,920 --> 00:47:45,750
I don't want... What-

1242
00:47:45,750 --> 00:47:46,830
- [Carlos] Yeah, like we did a-

1243
00:47:46,830 --> 00:47:48,780
- [Roland] Tools do you have, let's see.

1244
00:47:48,780 --> 00:47:49,740
- [Carlos] Yep.

1245
00:47:49,740 --> 00:47:51,570
So this is the video that
you saw at the beginning,

1246
00:47:51,570 --> 00:47:54,000
like asking like do you
have access to the tools

1247
00:47:54,000 --> 00:47:56,130
and they should come back with
something about appointments,

1248
00:47:56,130 --> 00:47:57,390
customer, right?

1249
00:47:57,390 --> 00:47:58,620
The three microservices.
- [Roland] Let's see.

1250
00:47:58,620 --> 00:48:00,060
Yep. So there you go.

1251
00:48:00,060 --> 00:48:01,230
Or is it the three tools,

1252
00:48:01,230 --> 00:48:02,730
the three different microservices,

1253
00:48:02,730 --> 00:48:05,070
appointment, scheduling,
technician services.

1254
00:48:05,070 --> 00:48:06,990
And so I'm gonna say

1255
00:48:06,990 --> 00:48:09,600
Carlos was

1256
00:48:09,600 --> 00:48:10,990
dancing

1257
00:48:12,270 --> 00:48:13,350
salsa.

1258
00:48:13,350 --> 00:48:14,850
- [Carlos] You have to be specific.

1259
00:48:14,850 --> 00:48:15,970
- [Roland] And

1260
00:48:16,980 --> 00:48:19,890
crashed into

1261
00:48:19,890 --> 00:48:21,303
the fridge.

1262
00:48:22,350 --> 00:48:23,280
- [Carlos] There's water everywhere.

1263
00:48:23,280 --> 00:48:24,942
There's still water
going under the fridge.

1264
00:48:24,942 --> 00:48:26,642
- [Roland] The water is everywhere

1265
00:48:28,110 --> 00:48:30,510
and buttons don't work, right?

1266
00:48:30,510 --> 00:48:31,963
- [Carlos] Yeah. Yeah, the buttons.

1267
00:48:31,963 --> 00:48:33,360
- [Roland] All right,
so this is what happens

1268
00:48:33,360 --> 00:48:37,170
when Carlos does salsa dancing.

1269
00:48:37,170 --> 00:48:38,703
Let's see what we can get.

1270
00:48:41,580 --> 00:48:44,070
- [Carlos] And you are
user Emily, I think.

1271
00:48:44,070 --> 00:48:45,840
I think she has a valid policy.

1272
00:48:45,840 --> 00:48:46,673
We'll see.

1273
00:48:46,673 --> 00:48:47,506
- [Roland] Yes.

1274
00:48:47,506 --> 00:48:50,190
So notice we logged in as it knew it was,

1275
00:48:50,190 --> 00:48:51,420
I was like perfectly,

1276
00:48:51,420 --> 00:48:53,460
I successfully created your claim with-

1277
00:48:53,460 --> 00:48:54,460
- [Carlos] Already. Okay.

1278
00:48:54,460 --> 00:48:55,650
- [Roland] 019.

1279
00:48:55,650 --> 00:48:56,670
Claim has been submitted

1280
00:48:56,670 --> 00:48:58,290
marked as high urgency.

1281
00:48:58,290 --> 00:48:59,640
Given water is everywhere,

1282
00:48:59,640 --> 00:49:01,680
this is definitely a high-priority issue.

1283
00:49:01,680 --> 00:49:03,030
Would you like me to schedule

1284
00:49:03,030 --> 00:49:04,710
an emergency service appointment?

1285
00:49:04,710 --> 00:49:07,170
- [Carlos] Yes.
- [Roland] Repair? Yes.

1286
00:49:07,170 --> 00:49:09,940
Please schedule that

1287
00:49:11,460 --> 00:49:13,140
quickly

1288
00:49:13,140 --> 00:49:15,010
before Carlos's

1289
00:49:15,900 --> 00:49:18,573
wife finds out.

1290
00:49:20,760 --> 00:49:22,083
See what we can get here.

1291
00:49:25,020 --> 00:49:27,330
- [Carlos] So it's going
from the UI to the agent,

1292
00:49:27,330 --> 00:49:30,057
to the MCP gateway to the EKS cluster

1293
00:49:30,057 --> 00:49:31,260
and back.

1294
00:49:31,260 --> 00:49:32,093
- [Roland] All right.

1295
00:49:32,093 --> 00:49:34,290
- [Carlos] And the LLM in
this in the middle, right?

1296
00:49:34,290 --> 00:49:35,520
The LLM this information.

1297
00:49:35,520 --> 00:49:38,310
- [Roland] Yeah. My agent
is sending that to the LLM.

1298
00:49:38,310 --> 00:49:40,620
- [Carlos] And these agents
have reasoning, right?

1299
00:49:40,620 --> 00:49:42,990
So it can go multiple times to the LLM

1300
00:49:42,990 --> 00:49:44,340
to reason about it

1301
00:49:44,340 --> 00:49:45,360
with multiple calls,

1302
00:49:45,360 --> 00:49:46,800
not just one MCP call.

1303
00:49:46,800 --> 00:49:48,870
- [Roland] Mm. Still processing.

1304
00:49:48,870 --> 00:49:49,980
Here we go.

1305
00:49:49,980 --> 00:49:50,923
All right, so...

1306
00:49:50,923 --> 00:49:51,756
- [Carlos] Have an appointment?

1307
00:49:51,756 --> 00:49:52,650
- [Roland] Yeah, so it says perfect,

1308
00:49:52,650 --> 00:49:55,170
I've got you set up
appointment time, et cetera.

1309
00:49:55,170 --> 00:49:56,010
- [Carlos] When?

1310
00:49:56,010 --> 00:49:56,843
- [Roland] David Chang.

1311
00:49:56,843 --> 00:49:59,790
So in two hours, December 2nd at 9:00 PM.

1312
00:49:59,790 --> 00:50:01,722
Pretty late technician visit.

1313
00:50:01,722 --> 00:50:02,670
(Carlos laughing)

1314
00:50:02,670 --> 00:50:03,503
Let me see

1315
00:50:03,503 --> 00:50:04,350
what

1316
00:50:04,350 --> 00:50:06,630
can I do about

1317
00:50:06,630 --> 00:50:08,282
Carlos'-
- [Carlos] What?

1318
00:50:08,282 --> 00:50:09,410
- [Roland] And saying-

1319
00:50:09,410 --> 00:50:10,539
- [Carlos] Why do you ask
him what to do about Carlos?

1320
00:50:10,539 --> 00:50:11,372
(laughs)

1321
00:50:11,372 --> 00:50:13,560
- [Roland] Yeah. Like, you
know, it's bad. You know?

1322
00:50:13,560 --> 00:50:14,820
- [Carlos] Fire him?

1323
00:50:14,820 --> 00:50:16,350
- [Roland] You know. I don't know.

1324
00:50:16,350 --> 00:50:17,183
Let's see, let's-

1325
00:50:17,183 --> 00:50:18,750
- [Carlos] Don't let him do salsa?

1326
00:50:18,750 --> 00:50:21,210
- [Roland] Yeah, don't let
him do salsa. Let's see.

1327
00:50:21,210 --> 00:50:23,430
- [Roland] Oh, it's, of
course I'm Emily in here.

1328
00:50:23,430 --> 00:50:25,710
I can hear the concerns in your question.

1329
00:50:25,710 --> 00:50:27,210
While I'm quite skilled at handling

1330
00:50:27,210 --> 00:50:28,860
refrigerator emergencies,

1331
00:50:28,860 --> 00:50:31,170
insurance claims, and
scheduling repair performance,

1332
00:50:31,170 --> 00:50:33,000
I'm afraid my expertise doesn't extend

1333
00:50:33,000 --> 00:50:35,910
to managing Carlos's salsa dancing habits.

1334
00:50:35,910 --> 00:50:37,470
It tells me repairs.

1335
00:50:37,470 --> 00:50:39,510
That gives me some
suggestions from the LMM.

1336
00:50:39,510 --> 00:50:40,500
A dance instructor.

1337
00:50:40,500 --> 00:50:41,333
You need one.

1338
00:50:41,333 --> 00:50:42,166
- [Carlos] Oh!

1339
00:50:42,166 --> 00:50:43,740
- [Roland] You should get a Cuban like me.

1340
00:50:43,740 --> 00:50:44,573
- [Carlos] Okay.

1341
00:50:45,990 --> 00:50:49,890
- [Roland] And then, you can
maybe get clear more space.

1342
00:50:49,890 --> 00:50:52,110
Maybe don't dance by your refrigerator.

1343
00:50:52,110 --> 00:50:54,450
Maybe some dance lessons
for you and your wife

1344
00:50:54,450 --> 00:50:56,850
and maybe some protective
padding around your appliances.

1345
00:50:56,850 --> 00:50:59,280
So some good recommendations
for you as well.

1346
00:50:59,280 --> 00:51:00,690
- [Carlos] That's smart, smart model.

1347
00:51:00,690 --> 00:51:01,710
- [Roland] So awesome.

1348
00:51:01,710 --> 00:51:05,430
And so I think that's kind
of the demo that we have.

1349
00:51:05,430 --> 00:51:06,360
We showed some of the code,

1350
00:51:06,360 --> 00:51:09,210
we will be putting this
in samples very shortly.

1351
00:51:09,210 --> 00:51:10,680
- [Carlos] Yeah, we have a slide

1352
00:51:10,680 --> 00:51:12,629
with the QR code that has all the things.

1353
00:51:12,629 --> 00:51:15,840
- [Roland] Right? So switch
back to PowerPoint and go

1354
00:51:15,840 --> 00:51:17,040
and so you should be back.

1355
00:51:17,040 --> 00:51:20,070
- [Carlos] Yeah, this is the
demo that Ron already played.

1356
00:51:20,070 --> 00:51:22,563
So this was our backup
if wifi didn't work.

1357
00:51:24,210 --> 00:51:25,240
Let me go to the next one.

1358
00:51:25,240 --> 00:51:28,590
- [Roland] Yeah, we didn't need the video,

1359
00:51:28,590 --> 00:51:29,423
which is some pretty useful.

1360
00:51:29,423 --> 00:51:30,600
- [Carlos] So what we
learned and resources

1361
00:51:30,600 --> 00:51:33,690
want to wrap it up?
- [Roland] Yeah. So, you know,

1362
00:51:33,690 --> 00:51:36,480
we definitely have like the ability

1363
00:51:36,480 --> 00:51:38,640
to expose your existing systems,

1364
00:51:38,640 --> 00:51:41,250
your deterministic logic,
all that great stuff.

1365
00:51:41,250 --> 00:51:43,860
Use MCP gateway to expose that logic.

1366
00:51:43,860 --> 00:51:45,030
Make sure you have security,

1367
00:51:45,030 --> 00:51:48,450
make sure your agents are the
only ones that can secure it

1368
00:51:48,450 --> 00:51:50,490
and act on behalf of the right users.

1369
00:51:50,490 --> 00:51:51,510
And you know,

1370
00:51:51,510 --> 00:51:54,753
Agentic can unlock a bunch
of modernization for you.

1371
00:51:55,620 --> 00:51:58,200
We do have some samples and stuff.

1372
00:51:58,200 --> 00:52:02,160
We'll be doing both on the EKS
side and AgentCore examples

1373
00:52:02,160 --> 00:52:03,660
and we'll be posting them

1374
00:52:03,660 --> 00:52:06,510
and we have some resources here
if you wanna take a picture.

1375
00:52:06,510 --> 00:52:08,130
- [Carlos] Yeah. This is
where you're going to see the,

1376
00:52:08,130 --> 00:52:10,800
access the resources that we mentioned

1377
00:52:10,800 --> 00:52:12,840
and some also useful links

1378
00:52:12,840 --> 00:52:15,960
and the code is there.

1379
00:52:15,960 --> 00:52:17,543
Yeah. Check it out it's there.

1380
00:52:17,543 --> 00:52:18,376
- [Roland] Yep.

1381
00:52:18,376 --> 00:52:19,860
And some sessions, tell your friends,

1382
00:52:19,860 --> 00:52:22,170
we're repeating this tomorrow
if they wanna see the code,

1383
00:52:22,170 --> 00:52:25,500
but also ARC314,

1384
00:52:25,500 --> 00:52:28,560
I'm doing that session at 5:30 tomorrow

1385
00:52:28,560 --> 00:52:29,910
over at the Wynn.

1386
00:52:29,910 --> 00:52:31,500
That session is gonna be

1387
00:52:31,500 --> 00:52:34,380
with another colleague
of mine named Ridula.

1388
00:52:34,380 --> 00:52:37,920
And she and I will talk a lot about more

1389
00:52:37,920 --> 00:52:40,473
the architecture
considerations and things.

1390
00:52:41,490 --> 00:52:45,090
You know, if you can find us in the expo,

1391
00:52:45,090 --> 00:52:47,370
if you wanna ask questions
since this is recorded,

1392
00:52:47,370 --> 00:52:50,013
we'll take questions
after we stop recording.

1393
00:52:50,910 --> 00:52:52,950
And then some of the
other sessions that the-

1394
00:52:52,950 --> 00:52:54,120
- [Carlos] The other
sessions are actually mine,

1395
00:52:54,120 --> 00:52:58,110
the 317 is here in
Mandalay Bay at 4:00 PM.

1396
00:52:58,110 --> 00:52:59,700
You can meet me again.

1397
00:52:59,700 --> 00:53:03,090
We're doing a hands-on
workshop on EKS MCP.

1398
00:53:03,090 --> 00:53:05,100
So if you're like learning about MCP,

1399
00:53:05,100 --> 00:53:07,290
how to use MCP EKS

1400
00:53:07,290 --> 00:53:08,940
to troubleshoot your EKS cluster

1401
00:53:08,940 --> 00:53:10,700
or analyze it, or manage it,

1402
00:53:10,700 --> 00:53:12,930
do DevOps with that.

1403
00:53:12,930 --> 00:53:16,770
- [Roland] Yep. And I'm hosting an event

1404
00:53:16,770 --> 00:53:18,450
for our technical field community

1405
00:53:18,450 --> 00:53:20,790
and some customers at the Rockhouse,

1406
00:53:20,790 --> 00:53:22,080
I think later at 5 or-

1407
00:53:22,080 --> 00:53:23,230
- [Carlos] Venetian Rockhouse, yeah.

1408
00:53:23,230 --> 00:53:24,930
- [Roland] Yeah. So if you wanna pass by

1409
00:53:24,930 --> 00:53:26,280
and ask questions and chat.

1410
00:53:26,280 --> 00:53:28,380
- [Carlos] Yeah, we'll
have drinks and snacks.

1411
00:53:28,380 --> 00:53:30,030
- [Roland] You'll find us there as well.

1412
00:53:30,030 --> 00:53:31,053
So thank you for coming.

1413
00:53:31,053 --> 00:53:32,303
- [Carlos] Thank you for-

