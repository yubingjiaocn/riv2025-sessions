# AWS re:Invent 2025 会议总结：混合架构满足生成式AI监管需求

## 会议概述

本次会议由哈萨克斯坦Bank Center Credit（BCC）银行的研发主管Maxim Yang和AWS解决方案架构师Alex Bernazki共同主讲，主题为"混合架构满足生成式AI监管需求"。Bank Center Credit是哈萨克斯坦领先的银行之一，拥有20个分行和150多个办事处，服务超过300万客户，并于2024年第一季度订购了两个AWS Outpost机架。

会议重点介绍了BCC银行如何在严格的监管要求下，通过AWS Outpost构建混合云架构，实现数据加密、密钥本地存储等合规要求。银行成功实施了多云战略，在保证灵活性、可扩展性、可靠性和经济效益的同时，满足了金融行业的监管需求。基于这一架构，银行开发了两个重要的生成式AI应用案例：自动语音识别（ASR）模型的微调和内部HR聊天机器人，均取得了显著成效。

会议展示了如何利用AWS KMS的外部密钥存储（XKS）功能实现双重加密，以及如何通过混合RAG（检索增强生成）技术在不让敏感数据离开本地安全边界的前提下，充分利用云端的AI服务能力。这为其他受监管行业提供了宝贵的技术实践参考。

## 详细时间线

00:00 - 开场介绍
- Maxim Yang介绍自己是Bank Center Credit的DevOps技术和云解决方案研发主管
- 介绍会议主题：混合架构满足生成式AI监管需求

00:30 - Bank Center Credit银行背景
- 银行是哈萨克斯坦银行系统的领导者之一
- 拥有20个分行和150多个办事处
- 服务超过300万客户
- 2024年第一季度订购了两个AWS Outpost机架

01:15 - 云战略的动机和目标
- 所有IT基础设施最初托管在本地数据中心
- 由于业务增长需求和本地解决方案的局限性，决定使用云扩展资源
- 选择多云战略以利用不同提供商的优势
- 四大目标：灵活性和可扩展性、创新和竞争力、可靠性和容错性、经济效益

02:30 - 监管合规要求
- 第一项要求：数据传输和存储必须加密，加密密钥必须存储在银行本地
- 第二项要求：在收集和处理过程中确保客户数据匿名化

03:00 - AWS Outpost解决方案
- AWS Outpost是存储在客户数据中心的本地私有AWS云
- BCC是哈萨克斯坦首批部署此解决方案的机构之一
- 将Outpost放置在银行数据中心以满足所有必要的监管要求

03:45 - 基础AWS服务部署
- 开始探索和部署基础托管AWS服务
- 包括托管虚拟机、Kubernetes集群和S3存储

04:30 - Kubernetes多云架构
- 银行应用架构核心层由基于Kubernetes的微服务组成
- 现有工作负载已经相当大，超过20个集群
- 在Outpost上部署托管Kubernetes并与内部银行服务集成
- 后续在AWS和其他云上实现相同部署
- 形成多云Kubernetes集群架构，包含集中化的部署管理、日志记录和负载均衡工具

06:00 - 加密实现机制
- 使用AWS KMS加密服务
- 利用外部密钥存储（XKS）功能
- 允许在云中使用本地密钥进行加密
- XKS代理部署在Outpost上，用于将本地密钥传输到云加密服务

07:15 - 双重加密原理
- 基于双重加密原则
- 云端KMS使用数据密钥加密AWS服务中的数据
- 额外使用根密钥进行加密，该根密钥存储在本地
- 外部密钥提供更高的安全性

08:30 - AI模型训练架构
- 银行对AWS的AI/ML托管服务和GPU工作负载感兴趣
- 基于加密实现构建AI模型训练架构
- 展示ASR模型训练架构

09:00 - 数据同步和训练流程
- 步骤1：S3 Outpost与S3云之间的数据同步
- 步骤2：在云端EC2 GPU或SageMaker上进行数据训练
- 步骤3：处理后的数据从S3云传输回S3 Outpost
- 步骤4：内部服务和EKS中的服务直接与处理后的数据交互
- 所有阶段都使用本地密钥进行数据处理、传输和存储的加密

10:30 - AWS Bedrock集成
- 继续与机器学习服务AWS Bedrock集成
- 本地服务和EKS Outpost中的服务通过私有端点安全连接直接与Bedrock API代理交互
- 实时使用，可以使用Bedrock中的所有AI模型
- 解决方案允许工作负载扩展到任意规模
- 在数据传输、准备和存储的所有阶段都使用本地密钥加密

12:00 - 技术基础总结
- 通过实施架构集成和加密机制，为使用AWS云服务的项目创建了技术基础
- Maxim Yang部分结束，转交给Alexander介绍数据匿名化和实际案例

12:30 - Alex Bernazki介绍
- Alex Bernazki是AWS解决方案架构师
- 将介绍两个基于混合架构构建的生成式AI用例
- 强调大部分工作由银行数据科学团队完成

13:15 - 第一个案例：ASR模型微调
- ASR代表自动语音识别
- 将介绍微调原因、流程和结果

13:45 - ASR模型定制的原因（原因一）
- 哈萨克斯坦大部分人口说哈萨克语
- 也有相当一部分人口说俄语
- 存在第三种选择：混合语言（同时说哈萨克语和俄语）
- 市场上没有能处理混合语言的ASR模型
- 银行的首要目标是为混合语言创建定制模型

15:00 - ASR模型定制的原因（原因二）
- BCC以8 kHz频率存储呼叫中心录音
- 市场上大多数ASR模型使用16 kHz训练数据集训练
- 用16 kHz训练的模型在8 kHz数据集上表现不佳
- 哈萨克语是所谓的低资源语言
- 网上只能找到两个哈萨克语ASR训练数据集，都是16 kHz
- 这些数据集在词汇和特征方面不够丰富
- 银行决定基于真实呼叫中心录音创建8 kHz的定制数据集

16:30 - 数据处理流程详解
- 初始：所有呼叫中心录音存储在本地数据中心的Hadoop集群中
- 每个录音文件分割为两个通道：客服和客户
- 通过语音活动检测处理每个通道，去除噪音和静音
- 将语音片段分割成块，每块持续时间2-20秒不等
- 使用之前版本的语音转文本模型处理每个块
- 生成音频文件的文本表示

18:00 - 为什么不在Outpost上完成整个流程
- BCC的Outpost配置没有GPU
- 语音转文本模型需要GPU
- 银行有一定数量的GPU，足够进行中等规模模型的推理
- 但不足以进行微调
- 因此使用GPU运行上一代语音转文本模型生成文本

19:00 - 数据传输到Outpost
- 音频和文本数据都传输到Outpost
- 使用命名实体识别模型处理文本文件
- 识别文本中的所有个人信息、敏感数据和机密数据
- 内部安全部门的硬性要求：这些数据不得离开银行的安全边界
- 识别出这些数据的所有块都从训练数据集中删除（包括文本和音频）

20:30 - Mel频谱图转换
- 现在银行拥有加密的音频和文本文件，已清除所有个人和敏感数据
- 转换为特殊格式：Mel频谱图
- Mel频谱图是音频的图像表示
- 通过对音频文件应用傅里叶变换，然后应用Mel刻度获得
- 提供音频的三维表示：X轴是时间，Y轴是频率，颜色是振幅
- 这是为ASR模型准备数据集的最佳实践

22:00 - 云端微调
- Mel频谱图从Outpost的S3传输到区域的S3
- 使用外部密钥加密，不含敏感数据，完全符合所有法规
- Mel频谱图作为SageMaker AI微调作业的训练数据集
- 微调作业生成模型工件
- 工件返回到本地并使用本地GPU进行推理托管
- 银行使用云GPU进行微调，然后在本地托管模型进行推理

23:30 - ASR模型微调结果
- 所有三种语言的准确性都有显著提高
- 俄语提高9%
- 哈萨克语提高15%
- 混合语言提高23%（最重要的目标）
- 该模型比之前的商业ASR解决方案更具成本效益
- 每月节省400万坚戈（哈萨克斯坦本地货币）
- 该模型现在作为呼叫后分析管道的一部分运行
- 项目被认为是成功的，银行计划明年进一步扩展

25:00 - 第二个案例：HR聊天机器人
- 实施HR机器人的原因一：提高HR响应的质量和速度
- 原因二：在公司内激励自助服务文化
- 原因三：让HR员工专注于更具战略性的举措，而不是日常事务
- 聊天机器人必须符合内部和外部法规
- 银行机密数据不得离开本地安全边界

26:00 - 混合RAG技术
- 使用混合RAG技术（检索增强生成）
- RAG为模型提供额外的上下文
- 提供模型开箱即用不具备的知识
- 这些知识是银行的内部HR政策

26:45 - HR机器人工作流程
- 初始：使用本地GPU的嵌入模型处理HR知识库
- 生成的向量存储在Outpost的PostgreSQL数据库中（PostgreSQL可以作为向量数据库）
- 用户提示词经过相同处理：转换为向量
- 向量在PostgreSQL中进行向量搜索
- 从向量数据库检索额外的上下文（来自知识库）
- 将额外上下文添加到用户的初始提示中
- 提示词加额外内容从Outpost发送到区域的AWS Bedrock
- 使用Claude Sonnet 4.5模型
- 模型处理提示和额外上下文，提供响应
- 响应发送回本地聊天机器人

28:30 - HR机器人结果
- 根据银行评估，约70%的HR请求通过此HR机器人处理
- 显著减少了HR团队的工作负担
- 银行收集了员工反馈，了解他们是否满意聊天机器人
- 反馈大多是积极的

29:15 - 关键要点总结（Maxim）
- 第一：构建了符合法律要求并为银行业务需求量身定制的安全混合多云平台
- 第二：实施了灵活、可扩展且具有成本效益的架构，实现创新方法和高竞争力

29:45 - 关键要点总结（Alex）
- 第一：银行为生成式AI模型（特别是ASR模型）实施了微调流程
- 该流程依赖于混合架构，Amazon Outpost是关键组件
- 流程完全符合内部和外部法规
- 银行考虑对每个其他生成式AI任务重用相同方法
- 利用云GPU进行微调，然后在本地使用实际模型

30:30 - 最终总结
- HR机器人创建了生成式AI可以自动化日常任务的成功示例
- 为相同项目设定了基础
- 银行计划在不同职能领域实施相同项目，如IT支持或采购

31:00 - 会议结束