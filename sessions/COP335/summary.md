# AWS re:Invent 2025 应用可观测性会议总结

## 会议概述

本次会议由 AWS 应用可观测性团队负责人 Eager 主持,重点介绍了 AWS CloudWatch Application Signals 在 AI 时代的最新功能和应用场景。演讲者通过 Jeff Bezos 关于卫生纸的比喻,强调了 AI 技术将成为不可或缺的工具,一旦使用就难以回到没有它的时代。

会议深入探讨了在应用程序中集成 AI 代理后面临的新挑战,包括应用复杂性增加、标准化困难、优先级判断和工具分散等问题。Application Signals 通过自动化服务发现、标准化运维实践、服务等级目标(SLO)管理以及统一的指标、日志和追踪关联体验来解决这些挑战。会议还展示了如何使用 OpenTelemetry 收集遥测数据,支持 Lambda、EKS 等托管服务,以及如何通过 MCP(Model Context Protocol)服务器将可观测性工具与 AI 生产力工具集成。

## 详细时间线与关键要点

### 开场与背景介绍
[00:00 - 02:30] - 会议开场,介绍演讲嘉宾团队
- Eager(AWS 应用可观测性负责人)、Shiva(高级解决方案架构师)和 Mutu(CCC 智能解决方案高级总监)
- 引用 Jeff Bezos 2005 年关于卫生纸的比喻,说明 AI 将带来类似的变革性影响

[02:30 - 05:00] - 当前面临的常见挑战
- 应用复杂性不断增加,微服务和 AI 代理可能创建意想不到的 SQL 查询
- 缺乏标准化导致团队间协作困难
- 难以区分哪些异常真正影响最终用户
- 工具分散(日志、追踪、指标各自独立)导致故障排查效率低下

### Application Signals 核心功能
[05:00 - 08:00] - Application Signals 解决方案介绍
- 自动发现服务、应用程序和依赖关系
- 标准化运维实践,提供每日审计
- 支持服务等级目标(SLO)定义关键业务流程
- 统一关联指标、日志和追踪数据

[08:00 - 10:30] - 技术架构说明
- 使用 OpenTelemetry 收集遥测数据
- 支持 Lambda、EKS 等托管服务的自动埋点
- 通过 CloudWatch Agent 或直接发送到 OpenTelemetry 端点
- 数据在 CloudWatch 和 X-Ray 中处理,生成拓扑和指标

### 2025 年新功能发布
[10:30 - 13:00] - AI 代理支持
- 使用 OpenTelemetry 对 AI 代理进行埋点
- 可视化代理交互、使用的数据库和响应的用户
- 自动应用发现,按业务单元或团队组织视图

[13:00 - 15:30] - 未埋点服务支持
- 支持 EKS、Lambda、API Gateway 等服务的自动发现
- 无需任何埋点即可绘制依赖关系图
- 提供运维健康审计和变更影响分析
- 支持跨账户应用程序映射

[15:30 - 17:00] - 成本优化功能
- EKS 集群自动发现和埋点,无需手动安装
- 自适应采样:异常时自动增加采样率
- 支持示例器(Exemplars),保留重要样本供后续检查

[17:00 - 19:00] - AI 运维(AIOps)功能
- 发布 MCP 服务器,让 AI 代理能够使用可观测性工具
- GitHub Action 集成,利用生产遥测数据改进代码
- 真实用户监控(RUM)扩展到 iOS 和 Android 移动端
- 支持 Source Maps,精确定位压缩后的 JavaScript 代码行

[19:00 - 20:30] - 合成监控(Synthetics)增强
- 支持多浏览器测试
- 新增 Java 支持(之前支持 Playwright、Selenium、Puppeteer)
- 支持 Canary 测试的预演(Dry Run)
- 高效的小型 API 和 Ping 检查
- 所有商业区域和 GovCloud 支持

### 实际演示部分
[20:30 - 25:00] - Demo 1: AI 代理故障排查
- 演示 Pet Clinic 应用中的 AI 代理异常
- 通过 SLI 违规快速定位到依赖可用性问题
- 使用运维审计功能自动识别故障率增加
- 查看 X-Ray 追踪,发现异常详细信息和代码行号
- 展示 LLM Events 标签页,捕获发送给代理的所有上下文和用户问题

[25:00 - 30:00] - Demo 2: 移动应用监控
- Pet Clinic 推出 iOS 和 Android 移动应用
- 通过 RUM 发现 Android 应用有 300+ 次崩溃
- 定位到 "Owner Details" 屏幕导致崩溃
- 查看会话详情,获取异常和代码行信息
- 影响分析显示 3 小时内 240+ 用户受影响
- 在 Android Studio 中修复问题(属性数量不匹配)

[30:00 - 35:00] - Demo 3: 未埋点服务可视化
- 展示 Ticketing Light 应用(未埋点)以虚线显示
- 即使未埋点也能创建 SLI 并检测违规
- 发现多个可用性问题和故障
- 一键启用 Application Signals 埋点
- 启用后立即看到完整的服务调用链和数据库操作
- 运维审计自动识别 SQS 消息大小超限问题

[35:00 - 40:00] - Demo 4: 变更影响分析
- Audit Service 出现 SLO 违规
- 检测到 25 分钟前的部署
- 查看 CloudTrail 了解部署详情(谁部署、何时部署、配置变更)
- RED 指标显示部署后立即出现可用性和故障问题
- 回滚部署后,SLO 恢复正常
- 验证回滚后可用性达到 100%,500 错误降为零

[40:00 - 45:00] - Demo 5: 跨账户应用映射
- 展示 Appointment Service Gateway 跨两个账户运行
- 按账户 ID 分组查看服务
- 账户 2341 和账户 4084 的服务分别显示
- 通过 DynamoDB 作为连接组织识别跨账户依赖
- 所有运维审计和变更指标在跨账户场景下均可用

[45:00 - 52:00] - Demo 6: MCP 集成的 AI 辅助故障排查
- Pet Clinic 推出 PetPal AI 聊天机器人
- 用户尝试订购宠物营养品但反复失败
- 用户提交反馈投诉聊天机器人推荐产品但无法下单
- 支持工程师使用集成 MCP 的 Kiro IDE
- AI 自动调用多个 MCP 工具进行分析
- 生成假设,提供关键发现和后续步骤建议
- 通过 Slack 通知开发团队修复问题

[52:00 - 58:00] - Demo 7: GitHub Action 自动修复
- 开发人员使用 AWS GitHub Action 处理聊天机器人问题
- 命令: "AWS APM this is my scenario fix it"
- GitHub Action 获取代码并关联生产遥测数据
- 提供文件级和代码行级的详细建议
- 开发人员指定修复范围(系统提示和验证层)
- 设置防护栏(禁止数据库修改)
- 自动创建 Pull Request 包含所有变更
- 开发人员审查变更并批准合并

### 总结
[58:00 - 结束] - 会议总结
- Application Signals 提供端到端的应用可观测性
- 支持传统应用和 AI 代理应用
- 通过自动化减少手动工作
- MCP 和 GitHub Action 集成提升开发和运维效率