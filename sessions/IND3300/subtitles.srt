1
00:00:00,605 --> 00:00:02,449
- Hello, everyone.

2
00:00:02,449 --> 00:00:04,743
Thanks for joining today's session.

3
00:00:05,679 --> 00:00:08,215
For enterprises that operate

4
00:00:08,215 --> 00:00:12,960
in regulated industries
like financial services,

5
00:00:12,960 --> 00:00:15,570
compliance is not just important.

6
00:00:15,570 --> 00:00:16,743
It's existential.

7
00:00:17,580 --> 00:00:19,020
My name is Hassan Tariq.

8
00:00:19,020 --> 00:00:21,603
I'm a principal solutions
architect with AWS,

9
00:00:22,760 --> 00:00:26,279
and I work closely with
customers like Stripe

10
00:00:26,279 --> 00:00:29,580
on their AIML initiatives,

11
00:00:29,580 --> 00:00:34,580
and joining me today is Chrissy
and Christopher from Stripe

12
00:00:34,740 --> 00:00:37,590
who led the development of this solution.

13
00:00:37,590 --> 00:00:40,863
I'll let them introduce themselves
when they take the stage.

14
00:00:43,920 --> 00:00:47,113
So here is the agenda for today.

15
00:00:47,113 --> 00:00:51,340
We'll start with covering
some background context

16
00:00:52,318 --> 00:00:57,000
of why agents can be a good
fit for compliance use cases,

17
00:00:57,000 --> 00:01:00,810
and then go over some
background and challenges

18
00:01:00,810 --> 00:01:05,810
of the actual use case that
compliance teams faced at Stripe

19
00:01:06,543 --> 00:01:11,543
and then what solutions they
implemented, and, you know,

20
00:01:12,540 --> 00:01:14,940
the benefits they achieved from it,

21
00:01:14,940 --> 00:01:18,748
and ultimately we'll end up
by discussing what's next

22
00:01:18,748 --> 00:01:21,693
and some lessons learned along the way.

23
00:01:23,089 --> 00:01:26,850
So before I go into the
details or, you know,

24
00:01:26,850 --> 00:01:31,212
we start talking about how
agents can be beneficial here,

25
00:01:31,212 --> 00:01:35,010
let's take a look at what's at stake here.

26
00:01:35,010 --> 00:01:40,010
So according to a research
study conducted by Forrester,

27
00:01:40,083 --> 00:01:45,083
enterprises spend around $206
billion per year globally

28
00:01:46,418 --> 00:01:49,773
on operations related to financial crimes.

29
00:01:50,700 --> 00:01:52,879
With North America alone

30
00:01:52,879 --> 00:01:56,853
spending around $61 billion to this total.

31
00:01:58,440 --> 00:02:00,930
Now this is a very massive spend,

32
00:02:00,930 --> 00:02:05,520
but it reflects the complexity
and resource intensity

33
00:02:05,520 --> 00:02:08,864
of meeting regulatory requirements,

34
00:02:08,864 --> 00:02:12,924
and this is not just a static number.

35
00:02:12,924 --> 00:02:14,373
It's growing.

36
00:02:15,357 --> 00:02:19,714
According to some compliance
teams based out of Europe,

37
00:02:19,714 --> 00:02:24,270
they shared that the
compliance regulations

38
00:02:24,270 --> 00:02:27,570
and the demands that they're
getting from the authorities

39
00:02:27,570 --> 00:02:32,570
is increasing by up to 35% year over year.

40
00:02:33,510 --> 00:02:38,510
So this means they are working
through these different cases

41
00:02:39,420 --> 00:02:41,760
and have to produce a lot of documentation

42
00:02:41,760 --> 00:02:44,433
and spend a lot of extra time doing that,

43
00:02:45,419 --> 00:02:49,960
and that's where when
Experian conducted a survey

44
00:02:49,960 --> 00:02:53,070
with these compliance
teams trying to figure out

45
00:02:53,070 --> 00:02:55,285
what type of tasks they perform,

46
00:02:55,285 --> 00:02:58,648
what type of documentations
they need to do,

47
00:02:58,648 --> 00:03:02,690
they discovered that almost one third,

48
00:03:02,690 --> 00:03:06,737
up to one third of these
tasks can be automated.

49
00:03:06,737 --> 00:03:11,737
So just imagine giving back
eight to 12 hours per week

50
00:03:12,780 --> 00:03:16,410
to these compliance analysts
so they can focus more

51
00:03:16,410 --> 00:03:20,311
on strategic analysis and decision making,

52
00:03:20,311 --> 00:03:23,173
and that's exactly where the agents

53
00:03:23,173 --> 00:03:25,503
can play a big role here.

54
00:03:26,348 --> 00:03:31,348
Think about the best compliance
analyst that you work with.

55
00:03:31,920 --> 00:03:36,060
They are really good at
asking follow up questions

56
00:03:36,060 --> 00:03:38,640
and connecting the dots among different,

57
00:03:38,640 --> 00:03:41,490
various different data sources.

58
00:03:41,490 --> 00:03:42,960
So if agents can do

59
00:03:42,960 --> 00:03:47,040
the initial investigation
and data analysis,

60
00:03:47,040 --> 00:03:49,600
these analysts can focus more

61
00:03:50,583 --> 00:03:52,260
on the complex decision making,

62
00:03:52,260 --> 00:03:55,683
and, you know, nuanced judgment calls.

63
00:03:57,258 --> 00:04:02,258
When these agents can do the
heavy lifting of the analysis,

64
00:04:02,910 --> 00:04:06,870
initial research, it frees up
a lot of the analysts' time,

65
00:04:06,870 --> 00:04:08,790
and they can scale up.

66
00:04:08,790 --> 00:04:11,730
They can perhaps review a lot more cases

67
00:04:11,730 --> 00:04:14,283
than they are regularly doing.

68
00:04:14,283 --> 00:04:16,628
It's like giving each analyst

69
00:04:16,628 --> 00:04:20,973
a dedicated and tireless
research assistant.

70
00:04:23,462 --> 00:04:28,462
This whole process brings
consistency to this analysis also,

71
00:04:29,580 --> 00:04:31,860
which means you're insured

72
00:04:31,860 --> 00:04:36,558
that every case will go through
this rigorous step process

73
00:04:36,558 --> 00:04:39,663
and none of the data
sources will get missed.

74
00:04:40,500 --> 00:04:44,493
And while doing all of this
whole process through agents,

75
00:04:45,334 --> 00:04:50,334
when the analyst is focusing
on making the decisions,

76
00:04:50,482 --> 00:04:53,730
the agents are doing the documentation

77
00:04:53,730 --> 00:04:57,990
and preparing the audit
trail for those decisions.

78
00:04:57,990 --> 00:05:01,800
So in short, analysts focus on the why,

79
00:05:01,800 --> 00:05:05,610
whereas the agents focus
on the what and how.

80
00:05:05,610 --> 00:05:10,230
So this is all great, but you
need a very solid foundation

81
00:05:10,230 --> 00:05:12,318
for these agents to operate,

82
00:05:12,318 --> 00:05:16,260
and we will hear shortly from Stripe team

83
00:05:16,260 --> 00:05:19,050
how Bedrock provides this foundation.

84
00:05:19,050 --> 00:05:23,820
So now I will pass on to Chrissy
to go over some background

85
00:05:23,820 --> 00:05:26,270
and discuss about the
challenges that they faced.

86
00:05:29,400 --> 00:05:30,960
- Thank you, Hassan.

87
00:05:30,960 --> 00:05:31,833
How you doing?

88
00:05:32,670 --> 00:05:35,750
Happy holidays and happy Cyber Monday

89
00:05:35,750 --> 00:05:40,260
if you care about shopping or payments.

90
00:05:40,260 --> 00:05:44,850
So before I dive into our AI use cases,

91
00:05:44,850 --> 00:05:46,664
let's take a step back

92
00:05:46,664 --> 00:05:50,073
and talk about Stripe as a company.

93
00:05:51,120 --> 00:05:56,103
So, many people known Stripe
as a payment processor.

94
00:05:56,940 --> 00:06:01,940
Last year alone, we processed
1.4 trillion in volume,

95
00:06:02,430 --> 00:06:07,430
with a big letter T, and that
is 38% up year over year.

96
00:06:09,000 --> 00:06:12,870
And take a guess, so
that number constitute

97
00:06:12,870 --> 00:06:17,190
1.38% of the global GDP.

98
00:06:17,190 --> 00:06:18,270
Wow.

99
00:06:18,270 --> 00:06:21,898
So we are great in payment processing

100
00:06:21,898 --> 00:06:26,340
and we bring good vibes to our developers.

101
00:06:26,340 --> 00:06:27,750
These are all great.

102
00:06:27,750 --> 00:06:30,870
Over the years, we are also evolving

103
00:06:30,870 --> 00:06:35,870
into this comprehensive financial
infrastructure platform.

104
00:06:36,360 --> 00:06:41,360
So our internet, which was
invented in the early '90s,

105
00:06:42,479 --> 00:06:47,479
and it wasn't designed with a
native protocol for payments.

106
00:06:47,820 --> 00:06:52,820
So Stripe build the financial
infrastructure on top of that,

107
00:06:53,527 --> 00:06:58,527
and that is what's enabling
the emerging protocols

108
00:06:59,040 --> 00:07:02,340
such as Agentic Commerce Protocol, ACP,

109
00:07:02,340 --> 00:07:07,340
if you follow us closely
on Twitter now called X.

110
00:07:09,511 --> 00:07:14,511
So our platform is very modular

111
00:07:16,560 --> 00:07:19,923
and you can choose exactly what you need.

112
00:07:20,820 --> 00:07:24,980
May it be global payments, moving money,

113
00:07:24,980 --> 00:07:29,841
or platformization of your
money via Stripe Connect,

114
00:07:29,841 --> 00:07:34,676
or automating back office
tasks like tax and billing,

115
00:07:34,676 --> 00:07:38,640
we handle the heavy lifting by
integrating with local banks

116
00:07:38,640 --> 00:07:43,640
across 135 plus local currencies,
and while doing all these,

117
00:07:44,479 --> 00:07:49,410
we're maintaining 59s
uptime, and on average,

118
00:07:49,410 --> 00:07:54,060
we're processing over 500
million requests per day

119
00:07:54,060 --> 00:07:56,495
and that number might
just slightly went higher

120
00:07:56,495 --> 00:07:58,491
during this BFCM.

121
00:07:58,491 --> 00:08:03,491
If you are interested,
please go to bfcm.stripe.com

122
00:08:04,210 --> 00:08:07,650
to look into further information.

123
00:08:07,650 --> 00:08:10,020
So definitely we're solving

124
00:08:10,020 --> 00:08:13,710
very interesting engineering challenges.

125
00:08:13,710 --> 00:08:17,130
That is just a means to a bigger end.

126
00:08:17,130 --> 00:08:19,890
So you ask what is a bigger end?

127
00:08:19,890 --> 00:08:20,723
Ta-dah!

128
00:08:21,660 --> 00:08:24,150
The bigger end is our north star.

129
00:08:24,150 --> 00:08:26,850
Growing the GDP of the internet.

130
00:08:26,850 --> 00:08:28,590
Sounds amazing, right?

131
00:08:28,590 --> 00:08:33,270
So to realize this macroeconomic impact,

132
00:08:33,270 --> 00:08:37,470
we realized as a company very early on

133
00:08:37,470 --> 00:08:40,599
that we need the solutions to scale

134
00:08:40,599 --> 00:08:42,319
with our explosive growth

135
00:08:42,319 --> 00:08:45,855
without sacrificing safety and compliance,

136
00:08:45,855 --> 00:08:50,155
and that, my friends, bring us
to the heart of our challenge

137
00:08:50,155 --> 00:08:51,993
that we're discussing today.

138
00:08:54,295 --> 00:08:59,295
So when you ask people
what is FinTech compliance,

139
00:08:59,600 --> 00:09:03,990
most people will say, well,
just following the laws.

140
00:09:03,990 --> 00:09:08,990
But at Stripe, our answer is
it is a foundation of trust.

141
00:09:09,540 --> 00:09:14,270
It is a mechanism that
ensures that our platform...

142
00:09:17,985 --> 00:09:21,380
To ensure that our platform...

143
00:09:29,880 --> 00:09:31,980
Ensures our innovative technologies

144
00:09:31,980 --> 00:09:34,233
follow the rules of global finance.

145
00:09:37,560 --> 00:09:40,500
We view trust as a
unified responsibilities

146
00:09:40,500 --> 00:09:42,210
with two critical dimensions.

147
00:09:42,210 --> 00:09:45,390
One is ecosystem integrity.

148
00:09:45,390 --> 00:09:48,840
We enforce this know your
customer, know your business

149
00:09:48,840 --> 00:09:51,450
and the money and anti-money laundering.

150
00:09:51,450 --> 00:09:54,930
This is to ensure our
platform will never become

151
00:09:54,930 --> 00:09:57,270
a haven for crime.

152
00:09:57,270 --> 00:10:01,110
So think about this,
if a sanctioned entity

153
00:10:01,110 --> 00:10:04,530
tries to use a fake identity
to onboard to Stripe,

154
00:10:04,530 --> 00:10:09,530
our compliance engine would be
able to block that instantly.

155
00:10:09,840 --> 00:10:11,220
You might think it's easy,

156
00:10:11,220 --> 00:10:13,530
but it is actually pretty hard in reality

157
00:10:13,530 --> 00:10:16,140
because, you know, these
bad actors are smart.

158
00:10:16,140 --> 00:10:18,960
They're constantly evolving as well.

159
00:10:18,960 --> 00:10:23,960
And an equally important
dimension is to protect our users.

160
00:10:24,930 --> 00:10:25,950
At Stripe,

161
00:10:25,950 --> 00:10:30,300
users first is one of our
leading operating principles,

162
00:10:30,300 --> 00:10:32,250
and that's one thing I
really love about Stripe.

163
00:10:32,250 --> 00:10:33,840
I've been with Stripe
for almost five years.

164
00:10:33,840 --> 00:10:37,140
So I think we really care about our users.

165
00:10:37,140 --> 00:10:40,590
May it be adhering to GDPR for privacy

166
00:10:40,590 --> 00:10:44,010
or UDAAP for fairness,

167
00:10:44,010 --> 00:10:48,183
we ensure our users are never
exploited or compromised.

168
00:10:50,910 --> 00:10:53,820
We realize that if we
don't protect the people

169
00:10:53,820 --> 00:10:56,549
that rely on the system,
building a perfect system

170
00:10:56,549 --> 00:10:58,713
does not have a lot of meanings.

171
00:11:00,455 --> 00:11:05,455
So, to build up this
very effective defense,

172
00:11:05,550 --> 00:11:09,420
there are four factors
that shaped our approach.

173
00:11:09,420 --> 00:11:11,220
One, growth.

174
00:11:11,220 --> 00:11:15,139
We're constantly growing into
new industries and markets.

175
00:11:15,139 --> 00:11:20,139
That means onboarding
new users fast and safe

176
00:11:21,330 --> 00:11:26,330
is paramount for us, and second
thing is the scale required

177
00:11:26,494 --> 00:11:28,683
from a compliance perspective.

178
00:11:30,668 --> 00:11:34,230
So we need to do enhanced due
diligence reviews at scale.

179
00:11:34,230 --> 00:11:36,826
So short form is EDD,

180
00:11:36,826 --> 00:11:41,826
and we do this so we can
manage users risk effectively.

181
00:11:42,744 --> 00:11:47,744
Third, we are always
striving to reduce the time

182
00:11:47,760 --> 00:11:49,559
to do these reviews to raise the bar

183
00:11:49,559 --> 00:11:52,113
for our operational excellence.

184
00:11:53,250 --> 00:11:56,430
The last, technology innovation.

185
00:11:56,430 --> 00:12:00,210
So this is where Agentic comes in.

186
00:12:00,210 --> 00:12:02,490
We want to completely transform

187
00:12:02,490 --> 00:12:07,490
the manual compliance review
process and to build a solution

188
00:12:09,030 --> 00:12:11,719
to make it faster, more consistent,

189
00:12:11,719 --> 00:12:13,983
and infinitely more scalable.

190
00:12:16,886 --> 00:12:21,886
So what is the core of
our business challenge?

191
00:12:22,290 --> 00:12:25,620
Due to regulatory compliance requirement,

192
00:12:25,620 --> 00:12:29,040
we need to do extensive
reviews for high risk users.

193
00:12:29,040 --> 00:12:31,260
So think about this almost
as a detective, right?

194
00:12:31,260 --> 00:12:32,193
So they're looking into

195
00:12:32,193 --> 00:12:36,210
some suspicious, you
know, like, individuals.

196
00:12:36,210 --> 00:12:39,240
They're trying to figure out
are they actually suspicious?

197
00:12:39,240 --> 00:12:40,530
So as you can imagine,

198
00:12:40,530 --> 00:12:43,920
this requires a lot of
the investigation time.

199
00:12:43,920 --> 00:12:46,140
However, we're doing this every day.

200
00:12:46,140 --> 00:12:48,420
We cannot take a long time.

201
00:12:48,420 --> 00:12:51,723
So doing this in a timely
fashion is critical for us.

202
00:12:52,624 --> 00:12:56,880
So to help you visualize
the manual review process

203
00:12:56,880 --> 00:13:00,690
by completely done by
human a little bit better.

204
00:13:00,690 --> 00:13:04,770
So I summarize there
are mainly two blockers.

205
00:13:04,770 --> 00:13:08,310
One is from the manual process.

206
00:13:08,310 --> 00:13:12,690
We realized a lot of
times, our expert reviewers

207
00:13:12,690 --> 00:13:14,970
are acting as navigators.

208
00:13:14,970 --> 00:13:17,940
They're just like going through
all these different systems

209
00:13:17,940 --> 00:13:21,210
trying to gather and locate information,

210
00:13:21,210 --> 00:13:24,150
instead of the analysts
that they're supposed to be.

211
00:13:24,150 --> 00:13:26,040
So they're not really using their time

212
00:13:26,040 --> 00:13:28,484
to making high value decisions,

213
00:13:28,484 --> 00:13:33,484
and the second thing is scalability

214
00:13:33,990 --> 00:13:36,810
and the jurisdiction hurdle.

215
00:13:36,810 --> 00:13:40,380
So the biggest bottleneck
is the cognitive overload

216
00:13:40,380 --> 00:13:43,500
when switching between
different jurisdictions.

217
00:13:43,500 --> 00:13:48,060
So let me give you an example
of this contact switching.

218
00:13:48,060 --> 00:13:50,790
Say, an expert analyst can move

219
00:13:50,790 --> 00:13:54,900
from assessing an entity in California

220
00:13:54,900 --> 00:13:59,400
where the retrieval process
is rather straightforward,

221
00:13:59,400 --> 00:14:04,110
to evaluating a complex corporate entity

222
00:14:04,110 --> 00:14:06,390
in UAE or Singapore.

223
00:14:06,390 --> 00:14:08,970
So for each jurisdiction region,

224
00:14:08,970 --> 00:14:11,910
it requires a completely different mindset

225
00:14:11,910 --> 00:14:16,910
to decide what constitute as
a risk making it more fun.

226
00:14:17,460 --> 00:14:20,820
So the threshold of risk is a variable.

227
00:14:20,820 --> 00:14:25,080
The definition of a safe
business is not static.

228
00:14:25,080 --> 00:14:28,950
One example for that is
regulatory compliance.

229
00:14:28,950 --> 00:14:32,610
So for like, say for example,
ownership transparency

230
00:14:32,610 --> 00:14:37,610
varies widely between high risk
and low risk jurisdictions.

231
00:14:38,670 --> 00:14:40,320
So thinking about this, right?

232
00:14:40,320 --> 00:14:43,560
So your expert analyst
is basically applying

233
00:14:43,560 --> 00:14:46,728
this ever shifting rule sets constantly,

234
00:14:46,728 --> 00:14:51,330
and this is a very
demanding and complex task.

235
00:14:51,330 --> 00:14:53,910
Sometimes can even be error prone.

236
00:14:53,910 --> 00:14:56,760
Just maybe a little bit like more analogy

237
00:14:56,760 --> 00:14:58,350
to help you visualize this, right?

238
00:14:58,350 --> 00:15:02,615
So every year I go through this
pain once during tax season.

239
00:15:02,615 --> 00:15:05,850
Like, you need to go
through a lot of rules

240
00:15:05,850 --> 00:15:09,720
and I am only doing it for
the federal in California.

241
00:15:09,720 --> 00:15:12,670
So imagine how much pain these
reviewers are going through.

242
00:15:13,650 --> 00:15:18,650
So bottom up, we are trying to maintain

243
00:15:19,470 --> 00:15:23,130
the operational excellence
for regulatory compliance

244
00:15:23,130 --> 00:15:27,063
by navigating through this
fragmented jurisdiction map.

245
00:15:27,900 --> 00:15:31,740
Just linearly scaling up our
workforces with the complexity

246
00:15:31,740 --> 00:15:33,513
is simply just not the solution.

247
00:15:34,380 --> 00:15:36,690
So you might ask, what is a solution?

248
00:15:36,690 --> 00:15:38,250
If this is a quiz in college,

249
00:15:38,250 --> 00:15:40,470
I think you guys will
all get perfect scores

250
00:15:40,470 --> 00:15:44,460
because Hassan kind of gave
the answers away already.

251
00:15:44,460 --> 00:15:45,840
So to solve this,

252
00:15:45,840 --> 00:15:50,735
our solution is to build an
LLM-powered AI research agent

253
00:15:50,735 --> 00:15:53,643
to do autonomous investigations.

254
00:15:54,840 --> 00:15:59,493
Here the agent does the
heavy lifting in three ways.

255
00:16:00,690 --> 00:16:04,623
So number one, async
workflow orchestration.

256
00:16:05,850 --> 00:16:07,983
This enables parallel processing

257
00:16:07,983 --> 00:16:12,540
so the agent can look into
different aspect of the business

258
00:16:12,540 --> 00:16:16,413
in parallel instead of
sequentially like a human would do.

259
00:16:17,400 --> 00:16:19,830
Second, because we build this,

260
00:16:19,830 --> 00:16:24,690
this plugs directly into the
existing compliance tooling.

261
00:16:24,690 --> 00:16:26,220
So it works nicely,

262
00:16:26,220 --> 00:16:29,280
fits naturally into
the compliance workflow

263
00:16:29,280 --> 00:16:31,470
that our reviewers are used to.

264
00:16:31,470 --> 00:16:33,863
You don't need to train
them to the new thing.

265
00:16:33,863 --> 00:16:38,863
And the last bit, very exciting,
agents they never sleep,

266
00:16:39,060 --> 00:16:40,842
they don't need to rest.

267
00:16:40,842 --> 00:16:42,090
Think about this feeling, right?

268
00:16:42,090 --> 00:16:45,120
If you have Roomba at
home, you turn a Roomba on

269
00:16:45,120 --> 00:16:46,710
and you go out and hang
out with your friends

270
00:16:46,710 --> 00:16:49,410
and then you would come home,
the home is already clean.

271
00:16:49,410 --> 00:16:51,180
That's an amazing feeling, right?

272
00:16:51,180 --> 00:16:55,007
So having an AI agent to do these analysis

273
00:16:55,007 --> 00:16:58,560
before you even open the ticket
is exactly the same thing.

274
00:16:58,560 --> 00:17:01,890
It'll do the investigation
and summarize the insights

275
00:17:01,890 --> 00:17:04,080
before you even open the tickets.

276
00:17:04,080 --> 00:17:06,150
So this is a game changer,

277
00:17:06,150 --> 00:17:09,390
and now we have the AI agent to assist

278
00:17:09,390 --> 00:17:12,003
and the humans to maintain
the final authority.

279
00:17:13,530 --> 00:17:17,820
So before I hand over to Christopher

280
00:17:17,820 --> 00:17:20,250
to do the deep dive into our solution,

281
00:17:20,250 --> 00:17:22,660
I want all of you to leave this room

282
00:17:22,660 --> 00:17:25,410
with at least three takeaways,

283
00:17:25,410 --> 00:17:27,210
and obviously if you have more takeaways,

284
00:17:27,210 --> 00:17:28,290
that's a bonus for you.

285
00:17:28,290 --> 00:17:29,163
Kudos to you.

286
00:17:30,000 --> 00:17:33,270
So the number one is oversight.

287
00:17:33,270 --> 00:17:36,427
We use a human-centric validation.

288
00:17:36,427 --> 00:17:39,300
Here, we're not trying to use AI agent

289
00:17:39,300 --> 00:17:41,370
to replace the decision making.

290
00:17:41,370 --> 00:17:44,719
Instead, we're using
agents to empower that

291
00:17:44,719 --> 00:17:47,010
and all the expert reviewers

292
00:17:47,010 --> 00:17:50,160
have configurable approval workflows.

293
00:17:50,160 --> 00:17:51,949
So the agents are there to assist

294
00:17:51,949 --> 00:17:55,200
and the humans makes the final call.

295
00:17:55,200 --> 00:17:59,400
And the second thing is
we, like Hassan mentioned,

296
00:17:59,400 --> 00:18:02,199
we keep a complete audit trail

297
00:18:02,199 --> 00:18:05,430
and we record every single decision

298
00:18:05,430 --> 00:18:07,980
and then rationale behind it.

299
00:18:07,980 --> 00:18:12,589
This makes sure that we
will have enough data

300
00:18:12,589 --> 00:18:15,573
to serve as a compliance grade evidence.

301
00:18:16,786 --> 00:18:21,510
The last bit, so with all these
Agentic stuff we're doing,

302
00:18:21,510 --> 00:18:25,830
we supercharge our reviews
to enable our expert analysts

303
00:18:25,830 --> 00:18:30,830
to go deeper, faster with all
these pre-fetched analyses.

304
00:18:32,370 --> 00:18:35,910
So with all these things, this is ensuring

305
00:18:35,910 --> 00:18:37,839
that we're not just building for speed,

306
00:18:37,839 --> 00:18:39,879
but we're building trustworthy,

307
00:18:39,879 --> 00:18:44,520
auditable Agentic-compliant
solutions at scale.

308
00:18:44,520 --> 00:18:45,720
So now with no further ado,

309
00:18:45,720 --> 00:18:48,090
let me welcome Christopher to the stage

310
00:18:48,090 --> 00:18:51,485
to dive deep into our solutions.

311
00:18:51,485 --> 00:18:54,735
(attendees applauding)

312
00:18:58,725 --> 00:19:00,481
- Thanks Chrissy.

313
00:19:00,481 --> 00:19:01,830
Hey everybody, my name's Chris.

314
00:19:01,830 --> 00:19:03,897
I'm a data scientist at Stripe.

315
00:19:03,897 --> 00:19:05,790
I'm gonna walk you through

316
00:19:05,790 --> 00:19:08,370
a little bit of the
technical implementation

317
00:19:08,370 --> 00:19:11,790
and let's just kinda roll through

318
00:19:11,790 --> 00:19:12,780
with what we're gonna go through.

319
00:19:12,780 --> 00:19:16,650
So we'll start with kind of
back to the problem setup

320
00:19:16,650 --> 00:19:19,530
of exactly what we're
kinda trying to solve,

321
00:19:19,530 --> 00:19:22,102
why we're using agents, that kinda thing.

322
00:19:22,102 --> 00:19:24,660
We'll jump into the agent mechanics,

323
00:19:24,660 --> 00:19:26,577
kinda how it works under the hood,

324
00:19:26,577 --> 00:19:30,600
we'll talk about how we
actually plug into the LM,

325
00:19:30,600 --> 00:19:32,800
kind of the brain of
the agent in this case.

326
00:19:33,862 --> 00:19:36,780
Next we'll talk about kind
of an interesting service

327
00:19:36,780 --> 00:19:39,430
that we discovered we needed
as part of this journey.

328
00:19:40,530 --> 00:19:41,458
We'll finally zoom out,

329
00:19:41,458 --> 00:19:45,404
talk about the kind of
Stripe ecosystem of agents,

330
00:19:45,404 --> 00:19:48,360
and then we'll get into the
business side of the journey,

331
00:19:48,360 --> 00:19:49,620
the results, that kind of thing.

332
00:19:49,620 --> 00:19:51,903
So, let's jump in.

333
00:19:54,093 --> 00:19:56,430
So let's start with the problem.

334
00:19:56,430 --> 00:20:01,173
We had this basically very,
very long manual review,

335
00:20:02,130 --> 00:20:06,870
and I think the first thing
we wanted to think about doing

336
00:20:06,870 --> 00:20:09,570
was just, boy, what if we
just threw an agent at it

337
00:20:09,570 --> 00:20:12,150
and effectively just
automated the whole thing?

338
00:20:12,150 --> 00:20:15,780
And that's kind of a nice
fairytale, but in our case,

339
00:20:15,780 --> 00:20:17,253
it wasn't really gonna work.

340
00:20:18,626 --> 00:20:20,850
The problem is this.

341
00:20:20,850 --> 00:20:24,010
If you just took an agent and
you threw it at this workflow,

342
00:20:24,010 --> 00:20:27,600
it'll probably spend a
lot of time on things

343
00:20:27,600 --> 00:20:29,160
you really don't even need it to spend on.

344
00:20:29,160 --> 00:20:30,362
It'll kinda rabbit hole,

345
00:20:30,362 --> 00:20:33,240
and then it won't spend really any time

346
00:20:33,240 --> 00:20:35,220
on things that you needed to look at.

347
00:20:35,220 --> 00:20:39,390
I mean, this has regulatory
reasons for existing.

348
00:20:39,390 --> 00:20:43,020
So we have things we need
to look at in many cases,

349
00:20:43,020 --> 00:20:46,710
and so we realized early
on, it kinda made sense

350
00:20:46,710 --> 00:20:49,920
to have rails for the agents.

351
00:20:49,920 --> 00:20:53,186
And so there's a little
diagram on the slide there.

352
00:20:53,186 --> 00:20:55,664
It's kinda meant to show you

353
00:20:55,664 --> 00:20:57,750
that we effectively were able to decompose

354
00:20:57,750 --> 00:21:01,680
this really complicated
workflow into effectively a DAG,

355
00:21:01,680 --> 00:21:04,140
and the DAG is effectively these rails

356
00:21:04,140 --> 00:21:06,611
that we can use for these agents.

357
00:21:06,611 --> 00:21:09,231
Now we happen to use react agents.

358
00:21:09,231 --> 00:21:12,480
One nice thing about this
kind of DAG deconstruction

359
00:21:12,480 --> 00:21:16,020
is the tasks become
effectively bite-sized enough

360
00:21:16,020 --> 00:21:18,480
to actually fit in the agent's
kind of working memory.

361
00:21:18,480 --> 00:21:21,240
They do have kind of a
limited amount of, you know,

362
00:21:21,240 --> 00:21:22,860
thought processing just the way we do.

363
00:21:22,860 --> 00:21:24,760
I can't keep everything in in my head,

364
00:21:25,710 --> 00:21:28,617
and the reason we're even using
agents in the first place,

365
00:21:28,617 --> 00:21:31,020
and I think this is
important, is, you know,

366
00:21:31,020 --> 00:21:33,513
why not just use like LMs
or something like that?

367
00:21:34,590 --> 00:21:36,960
Well, I think the reason agents work well

368
00:21:36,960 --> 00:21:38,400
is 'cause they can call tools,

369
00:21:38,400 --> 00:21:41,220
and I actually think
that's the main value.

370
00:21:41,220 --> 00:21:43,290
I have a very biased
perspective maybe on agents,

371
00:21:43,290 --> 00:21:44,580
which I'll share a little bit later,

372
00:21:44,580 --> 00:21:48,210
but I think that's why agents
are even practical here,

373
00:21:48,210 --> 00:21:50,871
and we'll talk about
that a little bit more.

374
00:21:50,871 --> 00:21:52,140
One interesting thing,

375
00:21:52,140 --> 00:21:54,960
and this goes back to the fact that yeah,

376
00:21:54,960 --> 00:21:56,490
it would've been nice to
just throw an agent at it

377
00:21:56,490 --> 00:21:59,610
and have it be done, but
we actually keep humans

378
00:21:59,610 --> 00:22:01,200
in the driver's seat in this case.

379
00:22:01,200 --> 00:22:03,150
They're making all the decisions.

380
00:22:03,150 --> 00:22:06,431
Agents are just there to
effectively inform our reviewers

381
00:22:06,431 --> 00:22:09,020
to make the best possible decision.

382
00:22:09,020 --> 00:22:11,130
They can use it or not.

383
00:22:11,130 --> 00:22:13,440
That's up to them, but this is very much

384
00:22:13,440 --> 00:22:14,700
still a human-driven workflow,

385
00:22:14,700 --> 00:22:18,453
and we still found a good
way to make that work.

386
00:22:19,860 --> 00:22:21,360
So who wants to see the agent?

387
00:22:23,550 --> 00:22:28,550
Actually, I think I'm
getting a call right now.

388
00:22:29,520 --> 00:22:31,443
What in the world?

389
00:22:33,971 --> 00:22:36,273
I think he just finished a case.

390
00:22:39,270 --> 00:22:40,620
What's that?

391
00:22:40,620 --> 00:22:43,323
You want me to tell 'em
about Amazon Bedrock?

392
00:22:44,550 --> 00:22:45,383
You know what?

393
00:22:45,383 --> 00:22:47,946
I'm doing the presentation
here, all right?

394
00:22:47,946 --> 00:22:49,413
All right, we'll get to it.

395
00:22:50,700 --> 00:22:51,533
Agents.

396
00:22:52,410 --> 00:22:55,020
All right, so we're using a react agent.

397
00:22:55,020 --> 00:22:58,038
Let's talk a little
bit about what that is.

398
00:22:58,038 --> 00:23:03,038
I kinda think agents think
a little bit like I might

399
00:23:03,541 --> 00:23:05,703
if I have a complicated problem.

400
00:23:06,630 --> 00:23:08,160
Someone might gimme a question,

401
00:23:08,160 --> 00:23:10,260
we'll call it a query in this case, okay:?

402
00:23:11,160 --> 00:23:15,480
Let's say it's like 10
divided by pi, okay?

403
00:23:15,480 --> 00:23:17,670
I'm not gonna know that offhand.

404
00:23:17,670 --> 00:23:20,532
Some of you might actually
know that, but I don't.

405
00:23:20,532 --> 00:23:23,790
So I'm gonna call an
action to use a calculator

406
00:23:23,790 --> 00:23:26,071
and I'm gonna wait for that calculator

407
00:23:26,071 --> 00:23:29,160
to come back as my
observation, and at that point,

408
00:23:29,160 --> 00:23:31,650
I'm gonna think if I now have the answer.

409
00:23:31,650 --> 00:23:34,470
Yes I do, so therefore I'm gonna progress

410
00:23:34,470 --> 00:23:35,943
to this final answer stage.

411
00:23:37,373 --> 00:23:39,300
So really what we care about in our review

412
00:23:39,300 --> 00:23:41,250
is ultimately this final answer.

413
00:23:41,250 --> 00:23:42,720
That's really all we care about.

414
00:23:42,720 --> 00:23:44,370
What it does in the meantime

415
00:23:44,370 --> 00:23:47,232
is kind of an implementation
detail to our project,

416
00:23:47,232 --> 00:23:49,740
I guess you could say.

417
00:23:49,740 --> 00:23:51,750
Now, in reality, and the reason

418
00:23:51,750 --> 00:23:54,420
we even use agents in this problem

419
00:23:54,420 --> 00:23:57,210
is we have much more complicated queries

420
00:23:57,210 --> 00:23:58,110
than something like that.

421
00:23:58,110 --> 00:24:01,620
And so, look, I'm a data
scientist, so, you know,

422
00:24:01,620 --> 00:24:05,313
maybe I get like analytics
ask or something like that.

423
00:24:06,630 --> 00:24:08,340
I might need a few queries.

424
00:24:08,340 --> 00:24:10,919
I have an idea of an
initial query I'm gonna do

425
00:24:10,919 --> 00:24:13,260
that might be close to what I needed,

426
00:24:13,260 --> 00:24:14,640
but maybe I see some issues,

427
00:24:14,640 --> 00:24:16,470
maybe I'm gonna rerun
that query a few times,

428
00:24:16,470 --> 00:24:18,180
and so you can imagine I'm looping

429
00:24:18,180 --> 00:24:21,981
through this thought
action observation loop

430
00:24:21,981 --> 00:24:24,633
as many times potentially as I need.

431
00:24:26,584 --> 00:24:28,530
You can imagine, and this diagram

432
00:24:28,530 --> 00:24:29,820
doesn't depict it all that well,

433
00:24:29,820 --> 00:24:32,100
but you can imagine this could
actually loop around forever

434
00:24:32,100 --> 00:24:34,830
and then it would maybe be true
AI, whatever you wanna say.

435
00:24:34,830 --> 00:24:36,378
But at the end of the day,

436
00:24:37,243 --> 00:24:39,150
LLMs have a finite context window

437
00:24:39,150 --> 00:24:43,083
and so this effectively becomes
a bit of a challenge for us.

438
00:24:44,391 --> 00:24:47,610
So in our investigation,

439
00:24:47,610 --> 00:24:48,930
really the reason we're using agents

440
00:24:48,930 --> 00:24:50,820
is because we need it to
rabbit hole sometimes.

441
00:24:50,820 --> 00:24:51,840
Sometimes we don't.

442
00:24:51,840 --> 00:24:54,300
We always need it to cover all the bases.

443
00:24:54,300 --> 00:24:58,080
And so when we're
basically going deep down

444
00:24:58,080 --> 00:24:59,354
in some of these rabbit holes,

445
00:24:59,354 --> 00:25:02,034
these prompts can get very long.

446
00:25:02,034 --> 00:25:06,421
So one thing I like about
this slide is it kinda depicts

447
00:25:06,421 --> 00:25:10,976
this kind of one plus two plus three

448
00:25:10,976 --> 00:25:15,540
plus four type of kind of behavior.

449
00:25:15,540 --> 00:25:17,610
So I'm not like a 10-year-old gals,

450
00:25:17,610 --> 00:25:19,380
but that looks kind of quadratic to me.

451
00:25:19,380 --> 00:25:21,720
So effectively what that means

452
00:25:21,720 --> 00:25:24,780
is that as the agent needs to dig

453
00:25:24,780 --> 00:25:29,249
deeper and deeper and
deeper to answer a question,

454
00:25:29,249 --> 00:25:33,090
it's effectively getting
a longer and longer prompt

455
00:25:33,090 --> 00:25:36,000
that you effectively are
paying for every single time,

456
00:25:36,000 --> 00:25:37,830
and it's gonna be
actually a quadratic cost

457
00:25:37,830 --> 00:25:40,233
over those number of turns, I believe.

458
00:25:41,610 --> 00:25:43,140
If you think about the entire cost

459
00:25:43,140 --> 00:25:46,145
of your, you know, agent operation,

460
00:25:46,145 --> 00:25:48,455
you're paying for input tokens,

461
00:25:48,455 --> 00:25:50,520
you're paying for output tokens,

462
00:25:50,520 --> 00:25:51,831
and you can kind of tell here

463
00:25:51,831 --> 00:25:54,090
probably you're gonna be dominated

464
00:25:54,090 --> 00:25:56,753
mostly by the input tokens in this case.

465
00:25:56,753 --> 00:25:59,670
There is a solution, however, to this.

466
00:25:59,670 --> 00:26:04,380
I believe that solution today
is in the form of caching,

467
00:26:04,380 --> 00:26:05,760
and so why is that a solution?

468
00:26:05,760 --> 00:26:08,100
Because if I don't need

469
00:26:08,100 --> 00:26:10,590
to reread that prompt every single time,

470
00:26:10,590 --> 00:26:14,100
it's almost as if I'm paying
for that final prompt once,

471
00:26:14,100 --> 00:26:17,783
which is more of a linear
situation, which is superior,

472
00:26:17,783 --> 00:26:20,703
and that's where we're
gonna get back to bedrock.

473
00:26:21,960 --> 00:26:25,350
So Bedrock is our provider
that we can utilize effectively

474
00:26:25,350 --> 00:26:27,510
for this kind of prompt caching,

475
00:26:27,510 --> 00:26:30,867
but that's not all I'm gonna
talk about on this slide.

476
00:26:30,867 --> 00:26:35,082
We do use Bedrock for our LLM provider.

477
00:26:35,082 --> 00:26:39,540
We also have our own internal
Stripe services as well.

478
00:26:39,540 --> 00:26:44,310
So we use this we'll call
it the LLM proxy service

479
00:26:44,310 --> 00:26:45,410
for this presentation.

480
00:26:46,613 --> 00:26:50,340
I think one way it really helps out a lot

481
00:26:50,340 --> 00:26:52,230
I think on this project

482
00:26:52,230 --> 00:26:56,613
is that we have a lot of
people using LLMs at Stripe,

483
00:26:57,540 --> 00:27:00,450
and so, you know, what could
happen is, I don't know,

484
00:27:00,450 --> 00:27:02,550
let's say another team's
doing some testing,

485
00:27:02,550 --> 00:27:04,917
or maybe they're scaling up.

486
00:27:04,917 --> 00:27:07,530
That could crowd out my bandwidth

487
00:27:07,530 --> 00:27:09,060
on a potential LLM provider,

488
00:27:09,060 --> 00:27:11,490
and so by centralizing this proxy service,

489
00:27:11,490 --> 00:27:15,120
we can effectively solve
this noisy neighbor problem

490
00:27:15,120 --> 00:27:17,100
to constrain basically those neighbors

491
00:27:17,100 --> 00:27:19,620
from hogging all the
bandwidth I might need,

492
00:27:19,620 --> 00:27:22,380
you know, for this project, let's say.

493
00:27:22,380 --> 00:27:24,000
Now there's other benefits too.

494
00:27:24,000 --> 00:27:26,580
Obviously, we have, you know, guarantees

495
00:27:26,580 --> 00:27:28,623
because we're doing it ourselves

496
00:27:28,623 --> 00:27:31,068
around kind of the availability
of this service, et cetera.

497
00:27:31,068 --> 00:27:32,826
We can do authorization,

498
00:27:32,826 --> 00:27:34,170
we can make sure the
right LLM is being used

499
00:27:34,170 --> 00:27:36,060
for the right use case.

500
00:27:36,060 --> 00:27:41,040
Maybe there's some LLMs we
feel like is too sensitive

501
00:27:41,040 --> 00:27:42,990
to run certain data on, et cetera,

502
00:27:42,990 --> 00:27:45,540
and so this allows us to kind
of funnel those use cases

503
00:27:45,540 --> 00:27:46,490
to the right place.

504
00:27:47,605 --> 00:27:50,760
Potentially, this service allows
us to also configure things

505
00:27:50,760 --> 00:27:53,452
like, you know, model fallbacks as well

506
00:27:53,452 --> 00:27:55,890
if one of the model
providers isn't, you know,

507
00:27:55,890 --> 00:27:57,840
outta bandwidth or something like that.

508
00:28:00,943 --> 00:28:04,713
So why is Stripe using Bedrock and why?

509
00:28:04,713 --> 00:28:07,650
You know, and we're using
AWS in this situation.

510
00:28:07,650 --> 00:28:11,790
I think one of the biggest
benefits I see for this project

511
00:28:11,790 --> 00:28:12,870
is actually probably around

512
00:28:12,870 --> 00:28:17,160
the standardization of the
privacy and the security.

513
00:28:17,160 --> 00:28:20,970
So I don't know if you've like,

514
00:28:20,970 --> 00:28:22,350
worked at a big company before,

515
00:28:22,350 --> 00:28:24,240
maybe you wanna use this like,

516
00:28:24,240 --> 00:28:27,438
new LLM provider for your project,

517
00:28:27,438 --> 00:28:29,850
but then that's not gonna work

518
00:28:29,850 --> 00:28:31,718
because it needs to be vetted by security,

519
00:28:31,718 --> 00:28:35,558
and one really nice
thing about Amazon for us

520
00:28:35,558 --> 00:28:39,644
is that we effectively
do that vetting once

521
00:28:39,644 --> 00:28:41,040
to get on that platform,

522
00:28:41,040 --> 00:28:43,080
and then it's effectively
standardized there.

523
00:28:43,080 --> 00:28:48,080
So Bedrock provides us access
to multiple vendors of models,

524
00:28:48,543 --> 00:28:51,030
and we get that kind of standardization

525
00:28:51,030 --> 00:28:53,308
of that security around that.

526
00:28:53,308 --> 00:28:56,100
The second point I wanna say

527
00:28:56,100 --> 00:28:57,570
is more around kinda
the bells and whistles

528
00:28:57,570 --> 00:28:58,680
that come along with it.

529
00:28:58,680 --> 00:29:00,124
So we've talked a little bit

530
00:29:00,124 --> 00:29:02,932
about the prompt caching already.

531
00:29:02,932 --> 00:29:05,400
That can save you a lot of
money if you're, you know,

532
00:29:05,400 --> 00:29:06,720
doing some sort of Agentic flow

533
00:29:06,720 --> 00:29:11,433
where you're doing multiple
dives deeper into the data.

534
00:29:12,878 --> 00:29:16,320
I also think fine tuning is
a really interesting one too,

535
00:29:16,320 --> 00:29:19,860
and I know like the
vendors have been providing

536
00:29:19,860 --> 00:29:20,820
really good models lately

537
00:29:20,820 --> 00:29:23,010
so maybe it's kind of fell off the radar

538
00:29:23,010 --> 00:29:23,843
for a lot of people,

539
00:29:23,843 --> 00:29:26,943
but I see a big opportunity
for this project

540
00:29:26,943 --> 00:29:30,330
mainly because the vendor model

541
00:29:30,330 --> 00:29:32,160
comes with kind of unforeseen like,

542
00:29:32,160 --> 00:29:33,780
deprecation schedules, let's say.

543
00:29:33,780 --> 00:29:35,730
Like, let's say we wanna be focusing

544
00:29:35,730 --> 00:29:38,520
on adding new questions, but oh boy,

545
00:29:38,520 --> 00:29:40,290
now this new model that we, you know,

546
00:29:40,290 --> 00:29:42,900
we're having great success
with is gonna get deprecated.

547
00:29:42,900 --> 00:29:46,770
Well, I prefer not to have
to focus on old questions.

548
00:29:46,770 --> 00:29:49,663
I wanna focus on new questions,
and so by fine tuning,

549
00:29:49,663 --> 00:29:52,912
maybe I could claw back some performance.

550
00:29:52,912 --> 00:29:54,150
I think the bigger thing

551
00:29:54,150 --> 00:29:57,030
is just that we can now
deprecate on our own schedule,

552
00:29:57,030 --> 00:29:58,890
and that seems amazing.

553
00:29:58,890 --> 00:30:00,720
So I love the bells and whistles

554
00:30:00,720 --> 00:30:03,060
that come along with Bedrock.

555
00:30:03,060 --> 00:30:04,530
That's been very helpful.

556
00:30:04,530 --> 00:30:06,303
I believe there's more as well.

557
00:30:07,710 --> 00:30:11,400
The last point I'll make is
that it's really one API,

558
00:30:11,400 --> 00:30:14,520
but you're getting many models
so this kinda comes back

559
00:30:14,520 --> 00:30:16,500
to the standardized
privacy and security thing

560
00:30:16,500 --> 00:30:18,810
where you plug into it once,

561
00:30:18,810 --> 00:30:21,213
you don't have to have
that overhead of, you know,

562
00:30:21,213 --> 00:30:23,927
basically in this case
setting it up, connecting it,

563
00:30:23,927 --> 00:30:25,923
doing the integrations, et cetera.

564
00:30:29,460 --> 00:30:31,380
Another thing I'm gonna talk about here

565
00:30:31,380 --> 00:30:34,498
is when this project started,

566
00:30:34,498 --> 00:30:38,370
we didn't have this service
called this agent service.

567
00:30:38,370 --> 00:30:39,660
So why do we have it now?

568
00:30:39,660 --> 00:30:43,923
Well, because we didn't
have it first basically.

569
00:30:43,923 --> 00:30:47,250
What happened was we had

570
00:30:47,250 --> 00:30:51,150
this kind of classic ML
inference system across Stripe,

571
00:30:51,150 --> 00:30:54,233
and the original plan
was to basically hack in

572
00:30:54,233 --> 00:30:57,660
this kind of Agentic workflow

573
00:30:57,660 --> 00:30:59,980
into this kind of ML inference system

574
00:31:01,050 --> 00:31:03,630
thinking it's close enough,
it's gonna get us there,

575
00:31:03,630 --> 00:31:07,410
and it was shot down quickly
for very good reasons

576
00:31:07,410 --> 00:31:10,860
and those reasons are mainly
that it really requires

577
00:31:10,860 --> 00:31:15,597
a totally different set of
hardware among other things.

578
00:31:17,040 --> 00:31:21,014
So you can imagine with
really traditional ML,

579
00:31:21,014 --> 00:31:23,400
you're really compute bound.

580
00:31:23,400 --> 00:31:24,428
If you think about it, you know,

581
00:31:24,428 --> 00:31:26,580
let's say you're running an LM,

582
00:31:26,580 --> 00:31:29,750
you're gonna need a GPU
or maybe at least one GPU.

583
00:31:29,750 --> 00:31:32,250
If you're running something like XG Boost,

584
00:31:32,250 --> 00:31:33,930
you might want a lot of CPUs,

585
00:31:33,930 --> 00:31:35,812
but that is what you're waiting on.

586
00:31:35,812 --> 00:31:38,730
You're probably getting a
pretty consistent latency

587
00:31:38,730 --> 00:31:41,253
with whatever that computation is.

588
00:31:42,840 --> 00:31:45,919
So you have very short
timeouts, for example.

589
00:31:45,919 --> 00:31:49,260
You also have very
deterministic control flow,

590
00:31:49,260 --> 00:31:51,609
the model always runs
exactly the same way,

591
00:31:51,609 --> 00:31:54,750
and you're basically paying
a lot for these machines.

592
00:31:54,750 --> 00:31:56,850
They're hard to set up,
you're trying to minimize

593
00:31:56,850 --> 00:31:59,400
the amount of machines
you need, et cetera.

594
00:31:59,400 --> 00:32:02,040
Agents are kind of the
opposite in all those aspects.

595
00:32:02,040 --> 00:32:07,040
So agents, particularly if
you're using a vendor model,

596
00:32:07,170 --> 00:32:09,090
you're just waiting for it to come back.

597
00:32:09,090 --> 00:32:11,550
You're waiting for the
LM to respond to you,

598
00:32:11,550 --> 00:32:14,670
and so you're actually not
doing a lot of compute at all.

599
00:32:14,670 --> 00:32:15,938
You're just like waiting around.

600
00:32:15,938 --> 00:32:19,470
You need a lot of threads,
a lot of lanes basically

601
00:32:19,470 --> 00:32:21,180
to wait around for all
the different agents

602
00:32:21,180 --> 00:32:23,943
that might be running on the same machine.

603
00:32:23,943 --> 00:32:26,940
You can expect very long
timeouts in some case.

604
00:32:26,940 --> 00:32:28,741
You can imagine like what if a tool call

605
00:32:28,741 --> 00:32:31,710
needs to call a database?

606
00:32:31,710 --> 00:32:33,120
Could be minutes.

607
00:32:33,120 --> 00:32:35,250
I remember when we had engineers

608
00:32:35,250 --> 00:32:38,400
like first spinning out this
service and they're asking me,

609
00:32:38,400 --> 00:32:40,110
how long of a timeout do you need?

610
00:32:40,110 --> 00:32:41,370
Like, is 30 seconds okay?

611
00:32:41,370 --> 00:32:43,620
And I was like, I think we're gonna need

612
00:32:43,620 --> 00:32:45,420
like, five, 10 minutes.

613
00:32:45,420 --> 00:32:49,650
So very, very different
profile of compute.

614
00:32:49,650 --> 00:32:51,600
Also very non-deterministic.

615
00:32:51,600 --> 00:32:54,180
I mean, some answers it
might know very quickly,

616
00:32:54,180 --> 00:32:55,751
it only needs one tool call.

617
00:32:55,751 --> 00:32:58,461
Some may need to loop around

618
00:32:58,461 --> 00:33:01,320
in that, you know, thought
action observation loop

619
00:33:01,320 --> 00:33:02,880
for quite a while.

620
00:33:02,880 --> 00:33:06,882
So you don't know exactly
how long it's gonna take.

621
00:33:06,882 --> 00:33:09,570
Tiny machines might be
true and might be false,

622
00:33:09,570 --> 00:33:12,543
but like quite honestly, you
really just need a lot of lanes

623
00:33:12,543 --> 00:33:15,093
to wait for network calls.

624
00:33:17,100 --> 00:33:19,341
So we'll talk a little bit

625
00:33:19,341 --> 00:33:22,353
about the history of this agent service.

626
00:33:23,536 --> 00:33:25,830
We will start with like,

627
00:33:25,830 --> 00:33:28,740
there's almost like beginning
of Q1, which isn't in here,

628
00:33:28,740 --> 00:33:31,200
which is like it didn't even exist, okay?

629
00:33:31,200 --> 00:33:33,780
And we didn't even think
we necessarily needed it.

630
00:33:33,780 --> 00:33:37,350
We tried to hack it into our
kind of traditional ML service.

631
00:33:37,350 --> 00:33:38,853
Again, that got shot down,

632
00:33:40,440 --> 00:33:41,700
but we realized it was gonna be

633
00:33:41,700 --> 00:33:44,070
very impactful for this project,

634
00:33:44,070 --> 00:33:45,870
and we saw that it was gonna be something

635
00:33:45,870 --> 00:33:48,090
that was gonna generalize pretty well.

636
00:33:48,090 --> 00:33:50,640
And so kind of miraculous,

637
00:33:50,640 --> 00:33:53,310
but we got this thing
spun up in about a month

638
00:33:53,310 --> 00:33:56,550
after deciding it was
really gonna be useful

639
00:33:56,550 --> 00:33:59,010
and we spun that up quickly

640
00:33:59,010 --> 00:34:00,861
by just making it a little monolith

641
00:34:00,861 --> 00:34:04,391
with a very kind of,
let's say, primitive API

642
00:34:04,391 --> 00:34:07,770
that kind of reflected
the way we were hacking it

643
00:34:07,770 --> 00:34:09,410
into the ML inference system.

644
00:34:09,410 --> 00:34:12,420
So you can imagine an ML inference system,

645
00:34:12,420 --> 00:34:13,800
you're gonna have some sort of classic

646
00:34:13,800 --> 00:34:15,510
like predict endpoint let's say.

647
00:34:15,510 --> 00:34:20,430
In this case, we had
this kind of synchronous,

648
00:34:20,430 --> 00:34:21,572
you're gonna have to wait for it.

649
00:34:21,572 --> 00:34:23,407
If we go back to the react agent,

650
00:34:23,407 --> 00:34:25,604
let's just say you're giving it the query,

651
00:34:25,604 --> 00:34:27,600
and then the output is
you're just gonna wait

652
00:34:27,600 --> 00:34:29,374
until it provides that final answer,

653
00:34:29,374 --> 00:34:31,807
and that was enough for this project.

654
00:34:31,807 --> 00:34:34,650
It wasn't tremendously
hard I think to get going,

655
00:34:34,650 --> 00:34:37,770
but I think it was amazing
we got it in about a month.

656
00:34:37,770 --> 00:34:39,070
So we started there in Q1.

657
00:34:39,920 --> 00:34:44,100
In Q2, we started
polishing it a little bit.

658
00:34:44,100 --> 00:34:48,180
So we added ways to do
evaluation for agents,

659
00:34:48,180 --> 00:34:50,610
we added in tracing so
that we could, you know,

660
00:34:50,610 --> 00:34:53,366
more easily debug what's
happening behind the scenes

661
00:34:53,366 --> 00:34:55,170
within maybe that thought action

662
00:34:55,170 --> 00:34:57,796
observation block in this case,

663
00:34:57,796 --> 00:35:01,530
and we had a interesting developer

664
00:35:01,530 --> 00:35:03,210
and Stripe decided to actually spin up

665
00:35:03,210 --> 00:35:05,879
this like, no code agents kind of UI

666
00:35:05,879 --> 00:35:07,679
where people could just
build their own agents,

667
00:35:07,679 --> 00:35:11,284
add whatever tools they
wanted, and that enabled

668
00:35:11,284 --> 00:35:13,410
this kind of mass proliferation

669
00:35:13,410 --> 00:35:16,173
that we ended up seeing in Q3.

670
00:35:17,260 --> 00:35:20,460
So Q3, interesting enough,

671
00:35:20,460 --> 00:35:22,380
is where we started really
pushing the boundaries

672
00:35:22,380 --> 00:35:25,143
of this project as well,
and so we started hitting

673
00:35:25,143 --> 00:35:28,530
kind of the capacity limits, let's say,

674
00:35:28,530 --> 00:35:30,300
of this entire project.

675
00:35:30,300 --> 00:35:34,470
And so we ended up taking
what was originally

676
00:35:34,470 --> 00:35:36,090
this kind of monolithic design

677
00:35:36,090 --> 00:35:38,130
and then allowing every single use case

678
00:35:38,130 --> 00:35:40,350
to spin up their own service.

679
00:35:40,350 --> 00:35:42,570
So that solved that kind
of noisy neighbor problem

680
00:35:42,570 --> 00:35:44,223
within the agent service itself.

681
00:35:46,154 --> 00:35:48,750
Q4 has been a kinda
interesting development

682
00:35:48,750 --> 00:35:52,710
on the functionality,
and so you can imagine

683
00:35:52,710 --> 00:35:57,015
maybe this product requires
more of a ML-inspired API,

684
00:35:57,015 --> 00:35:58,983
just kind of that predict on point,

685
00:36:00,411 --> 00:36:02,801
but there's a lot of use
cases around just chat bots.

686
00:36:02,801 --> 00:36:05,637
And chat bots you wanna be
able to interact with 'em,

687
00:36:05,637 --> 00:36:08,220
you wanna be able to see
kinda their thought process,

688
00:36:08,220 --> 00:36:09,600
you wanna be able to see

689
00:36:09,600 --> 00:36:13,350
all the different logs
of the chat, let's say,

690
00:36:13,350 --> 00:36:16,230
and so this new API kind of allows

691
00:36:16,230 --> 00:36:20,970
some of these kind of
stateful streamed updates.

692
00:36:20,970 --> 00:36:22,650
So it really enables that,

693
00:36:22,650 --> 00:36:26,430
and what's interesting is
this may be part of, you know,

694
00:36:26,430 --> 00:36:28,290
kind of the no code agents approach,

695
00:36:28,290 --> 00:36:32,730
but we have I believe like over
a hundred agents at Stripe.

696
00:36:32,730 --> 00:36:33,963
I did a recent change.

697
00:36:35,200 --> 00:36:36,203
They're all over the place.

698
00:36:37,890 --> 00:36:39,120
I might rabbit hole a little bit here,

699
00:36:39,120 --> 00:36:42,570
but I don't know if you actually need

700
00:36:42,570 --> 00:36:44,400
like a hundred agents to be successful.

701
00:36:44,400 --> 00:36:46,410
I'll say, like, from my bias perspective

702
00:36:46,410 --> 00:36:48,240
of working on, you know, this project,

703
00:36:48,240 --> 00:36:51,570
I will say you could probably get by

704
00:36:51,570 --> 00:36:54,151
with like a shallow react agent,

705
00:36:54,151 --> 00:36:57,450
maybe like a deep react
agent in some sense,

706
00:36:57,450 --> 00:37:00,870
maybe like a to-do list
that can spawn sub agents,

707
00:37:00,870 --> 00:37:05,160
but I would say that hundred
agents may be an artifact

708
00:37:05,160 --> 00:37:06,870
of the fact that, you
know, we allow people

709
00:37:06,870 --> 00:37:08,130
to really move quickly at Stripe

710
00:37:08,130 --> 00:37:11,949
and there may be a lot of
prompts baked in, in my opinion,

711
00:37:11,949 --> 00:37:14,100
to the agents to get to
that, to that number.

712
00:37:14,100 --> 00:37:18,120
But I dunno, that's just my opinion.

713
00:37:18,120 --> 00:37:21,252
All right, so let's zoom out a little bit,

714
00:37:21,252 --> 00:37:25,553
talk about kind of the
full ecosystem at Stripe.

715
00:37:25,553 --> 00:37:28,230
We'll start back with the reviewers.

716
00:37:28,230 --> 00:37:32,430
So remember that we
talked a lot about agents,

717
00:37:32,430 --> 00:37:35,910
but actually, the human
reviewer is really, you know,

718
00:37:35,910 --> 00:37:37,810
the star here and they're in the loop.

719
00:37:38,763 --> 00:37:41,520
They effectively interface
with this whole system

720
00:37:41,520 --> 00:37:42,960
through their, you know, web UI,

721
00:37:42,960 --> 00:37:45,360
the review tooling, et cetera,

722
00:37:45,360 --> 00:37:47,490
and we talked about this, you know,

723
00:37:47,490 --> 00:37:48,660
big DAG in the beginning.

724
00:37:48,660 --> 00:37:51,240
Well, that review tooling is effectively

725
00:37:51,240 --> 00:37:54,810
the orchestrator of this entire DAG flow,

726
00:37:54,810 --> 00:37:57,300
and so you can imagine

727
00:37:57,300 --> 00:38:00,510
that maybe before the review even begins,

728
00:38:00,510 --> 00:38:03,260
we know we can kick off
a lot of these agents

729
00:38:03,260 --> 00:38:07,203
to kind of front run research
for some of these questions.

730
00:38:08,100 --> 00:38:11,700
But as the reviewer
progresses through the review,

731
00:38:11,700 --> 00:38:14,404
you can imagine what
context may become available

732
00:38:14,404 --> 00:38:18,361
to actually answer
deeper into that review,

733
00:38:18,361 --> 00:38:21,219
and so you can imagine that this kind of

734
00:38:21,219 --> 00:38:24,660
this review tool and application

735
00:38:24,660 --> 00:38:28,470
is what determines or what
triggers effectively this agent

736
00:38:28,470 --> 00:38:31,203
to begin front running
some of this research.

737
00:38:32,052 --> 00:38:34,650
Now, the rest won't come
as too much of a surprise

738
00:38:34,650 --> 00:38:35,940
'cause we've already kind of gone deep

739
00:38:35,940 --> 00:38:38,388
on all these little
kind of pillars in here.

740
00:38:38,388 --> 00:38:41,130
The react agent basically interacts

741
00:38:41,130 --> 00:38:44,490
with the rest of the
ecosystem through two ways.

742
00:38:44,490 --> 00:38:47,820
The first is this LLM client,
which will hit our LLM proxy

743
00:38:47,820 --> 00:38:49,274
that we've talked about before.

744
00:38:49,274 --> 00:38:52,443
That'll handle things like,
you know, model fallbacks,

745
00:38:54,300 --> 00:38:56,193
potential of token caching,

746
00:38:57,313 --> 00:38:59,730
solving that noisy neighbor problem,

747
00:38:59,730 --> 00:39:01,530
those kinds of things that makes sure

748
00:39:01,530 --> 00:39:03,780
that this system is actually robust.

749
00:39:03,780 --> 00:39:05,978
The third is how does it
actually get the signals

750
00:39:05,978 --> 00:39:08,130
that we use in our investigations?

751
00:39:08,130 --> 00:39:10,557
Well, that's where the
react agent comes in.

752
00:39:10,557 --> 00:39:12,229
It's able to call tools.

753
00:39:12,229 --> 00:39:14,670
That could be an MCP client.

754
00:39:14,670 --> 00:39:15,975
I know that's been a big thing.

755
00:39:15,975 --> 00:39:20,853
Could be Python tools,
whatever works really.

756
00:39:22,710 --> 00:39:25,440
Something that we do not show here

757
00:39:25,440 --> 00:39:28,050
is we do have to QA this as well.

758
00:39:28,050 --> 00:39:31,290
So this is a sensitive space.

759
00:39:31,290 --> 00:39:33,658
Regulators need to know that, you know,

760
00:39:33,658 --> 00:39:38,040
this is working soundly, and
so, you know, part of this

761
00:39:38,040 --> 00:39:41,430
is keeping humans in the
driver's seat in the first place,

762
00:39:41,430 --> 00:39:42,570
but the second part is like,

763
00:39:42,570 --> 00:39:45,570
we have a very rigorous QA process

764
00:39:45,570 --> 00:39:49,380
that's not actually
depicted here, and boy,

765
00:39:49,380 --> 00:39:51,270
there's a lot of craze of having like LLMs

766
00:39:51,270 --> 00:39:54,726
be judges, you know, on
many different use cases.

767
00:39:54,726 --> 00:39:57,753
For this project though,
we really wanna keep,

768
00:39:59,220 --> 00:40:01,500
everything needs to pass
the human quality bar

769
00:40:01,500 --> 00:40:03,510
and that means we need to have humans

770
00:40:03,510 --> 00:40:05,460
basically in the QA phase as well.

771
00:40:05,460 --> 00:40:09,270
So I'd like to see it
become more systematic,

772
00:40:09,270 --> 00:40:11,460
but it's not really
something that fits well

773
00:40:11,460 --> 00:40:13,833
into this diagram here, but it does exist.

774
00:40:15,722 --> 00:40:18,870
All right, so let's talk a little bit

775
00:40:18,870 --> 00:40:21,090
about the whole journey here

776
00:40:21,090 --> 00:40:23,933
now that we're kind of through
all the implementation stuff.

777
00:40:25,714 --> 00:40:29,130
This really started as
kind of a moonshot idea

778
00:40:29,130 --> 00:40:32,460
and interestingly, you
know, we spent all this time

779
00:40:32,460 --> 00:40:34,170
talking about agents,

780
00:40:34,170 --> 00:40:36,330
we knew agents were gonna work for this

781
00:40:36,330 --> 00:40:38,819
probably in about less than a month.

782
00:40:38,819 --> 00:40:42,407
You know, we set up a quick
notebook to kinda demo

783
00:40:42,407 --> 00:40:45,885
how it might look on a
few particular questions.

784
00:40:45,885 --> 00:40:48,990
Very impressive I think right away,

785
00:40:48,990 --> 00:40:52,026
and so we knew that this
was gonna be applicable.

786
00:40:52,026 --> 00:40:54,810
Quite frankly, I think that's
what it really allowed us

787
00:40:54,810 --> 00:40:56,987
to kind of get the push

788
00:40:56,987 --> 00:40:59,754
to actually stand up
this new Agentic service

789
00:40:59,754 --> 00:41:03,363
which was really necessary
to actually make this happen.

790
00:41:04,350 --> 00:41:09,067
So we took, you know, we went
from this small notebook demo,

791
00:41:09,067 --> 00:41:11,421
fail fast if you will, but it succeeded,

792
00:41:11,421 --> 00:41:16,050
and eventually are getting to
this full enterprise system.

793
00:41:16,050 --> 00:41:18,963
Totally, you know, their own
services stood up, et cetera.

794
00:41:20,047 --> 00:41:21,753
Really was miraculous.

795
00:41:23,008 --> 00:41:28,008
We also did this by having
humans completely in the loop,

796
00:41:28,590 --> 00:41:30,990
not just during the review again,

797
00:41:30,990 --> 00:41:34,530
but also during this kind of
really rigorous QA process

798
00:41:34,530 --> 00:41:36,270
to make sure that, you know,

799
00:41:36,270 --> 00:41:37,920
the agent's not hallucinating, let's say,

800
00:41:37,920 --> 00:41:40,652
or is providing sensible answers,

801
00:41:40,652 --> 00:41:43,023
or can be dependent on enough.

802
00:41:44,798 --> 00:41:48,870
And we were able to finally
get our initial questions out

803
00:41:48,870 --> 00:41:50,253
by the end of the half.

804
00:41:52,170 --> 00:41:53,610
Sorry about that.

805
00:41:53,610 --> 00:41:56,403
So let's look at another timeline here.

806
00:41:57,488 --> 00:42:00,689
We started with those
notebook scripts in early Q1.

807
00:42:00,689 --> 00:42:03,240
That allowed us to know that
this would actually work

808
00:42:03,240 --> 00:42:06,273
and was worth really investing
in as a full on product.

809
00:42:07,243 --> 00:42:09,120
We bootstrapped that agent service

810
00:42:09,120 --> 00:42:11,160
very quickly with that monolith.

811
00:42:11,160 --> 00:42:13,110
Just the bare minimum

812
00:42:13,110 --> 00:42:14,550
of kind of what we needed to get going,

813
00:42:14,550 --> 00:42:18,369
and we took it as far as
we could and it did well.

814
00:42:18,369 --> 00:42:22,517
Hooked that up with all the
enterprise LMs, et cetera.

815
00:42:22,517 --> 00:42:26,553
By Q2 we finally got that first
question in, which was huge.

816
00:42:27,400 --> 00:42:30,748
And I wanna say, you know, a lot of it

817
00:42:30,748 --> 00:42:34,332
was really actually
working with the ops team

818
00:42:34,332 --> 00:42:38,610
to understand exactly how
they were really gonna get

819
00:42:38,610 --> 00:42:39,870
the best use of this as well.

820
00:42:39,870 --> 00:42:41,434
So that's a big component of this.

821
00:42:41,434 --> 00:42:43,320
It's not just the agent, unfortunately.

822
00:42:43,320 --> 00:42:44,640
I wish it was that easy,

823
00:42:44,640 --> 00:42:48,949
but really getting in
it to the bar of quality

824
00:42:48,949 --> 00:42:52,288
where you know a human reviewer

825
00:42:52,288 --> 00:42:54,324
is actually gonna depend on it.

826
00:42:54,324 --> 00:42:57,569
Let's say it's like
helpful 20% of the time.

827
00:42:57,569 --> 00:42:59,160
They will never look at it

828
00:42:59,160 --> 00:43:01,200
and then you're just
spending money on LLMs

829
00:43:01,200 --> 00:43:03,090
and getting absolutely nothing out of it.

830
00:43:03,090 --> 00:43:06,510
Maybe even 80% you could
get that kind of reaction,

831
00:43:06,510 --> 00:43:09,900
and so it took a while for
us to kind of work with QA,

832
00:43:09,900 --> 00:43:12,030
make sure this was done on rails.

833
00:43:12,030 --> 00:43:14,040
We didn't want them just, you know,

834
00:43:14,040 --> 00:43:16,740
like going to a deep
research-like interface

835
00:43:16,740 --> 00:43:19,290
asking anything they wanted
because you don't know

836
00:43:19,290 --> 00:43:20,899
what it's even good at answering, right?

837
00:43:20,899 --> 00:43:23,703
So that was actually a big part of Q2.

838
00:43:24,990 --> 00:43:27,779
So we got that first question out.

839
00:43:27,779 --> 00:43:30,930
Q3 we started really
trying to scale it up.

840
00:43:30,930 --> 00:43:33,813
So we started launching
a lot more questions,

841
00:43:35,160 --> 00:43:37,110
looking into things like
caching or, you know,

842
00:43:37,110 --> 00:43:39,150
now we care about costs,

843
00:43:39,150 --> 00:43:44,150
and Q4 is where we've really already got

844
00:43:45,060 --> 00:43:47,340
a lot of the easier questions,

845
00:43:47,340 --> 00:43:48,570
maybe even a lot of the questions

846
00:43:48,570 --> 00:43:51,480
like before the review even
starts that we can get.

847
00:43:51,480 --> 00:43:54,060
But now if we're gonna
continue making gains,

848
00:43:54,060 --> 00:43:57,195
we need to actually be able to
use context within the review

849
00:43:57,195 --> 00:44:00,030
to kind of build upon what we have,

850
00:44:00,030 --> 00:44:01,735
and so that DAG orchestration

851
00:44:01,735 --> 00:44:05,340
makes this a little more
complicated and that's, you know,

852
00:44:05,340 --> 00:44:08,880
something we can really
plug it into in Q4.

853
00:44:08,880 --> 00:44:09,713
So we're really

854
00:44:09,713 --> 00:44:12,094
just scratching the
surface with this honestly.

855
00:44:12,094 --> 00:44:14,610
So what did we get for it?

856
00:44:14,610 --> 00:44:18,570
Well, one nice thing we have is we do have

857
00:44:18,570 --> 00:44:21,060
a little telemetry from the reviewer

858
00:44:21,060 --> 00:44:24,279
so they can tell us if
it's helpful or not,

859
00:44:24,279 --> 00:44:26,310
and what we're seeing
is they're finding it

860
00:44:26,310 --> 00:44:27,870
about 96% helpful.

861
00:44:27,870 --> 00:44:30,240
So remember I talked a little bit before

862
00:44:30,240 --> 00:44:33,660
about people need to trust
this system to use it.

863
00:44:33,660 --> 00:44:36,060
So like, if this thing's
good, I don't know,

864
00:44:36,060 --> 00:44:37,748
30% of the time, 40% of the time,

865
00:44:37,748 --> 00:44:40,334
maybe even up to 80% of
the time in my opinion,

866
00:44:40,334 --> 00:44:43,620
they'll just learn that
they are not gonna get

867
00:44:43,620 --> 00:44:44,453
any use of it.

868
00:44:44,453 --> 00:44:46,650
They'll do all the research themselves

869
00:44:46,650 --> 00:44:48,210
and you're saving no time,

870
00:44:48,210 --> 00:44:51,420
you spun up this very complicated system,

871
00:44:51,420 --> 00:44:54,498
and so like getting
this kind of quality bar

872
00:44:54,498 --> 00:44:57,085
was a challenging process,

873
00:44:57,085 --> 00:45:02,085
and it took a lot of kind of
human reviewer involvement,

874
00:45:02,303 --> 00:45:05,820
talking to the control owners,
getting a sense of like,

875
00:45:05,820 --> 00:45:09,480
what even human reviewers
struggle with, you know,

876
00:45:09,480 --> 00:45:10,770
when they're running these reviews

877
00:45:10,770 --> 00:45:12,690
and trying to build around that.

878
00:45:12,690 --> 00:45:14,040
So there's a lot of prompt iterations

879
00:45:14,040 --> 00:45:15,783
you can imagine to get there.

880
00:45:18,990 --> 00:45:21,903
Another thing is that we, you know,

881
00:45:21,903 --> 00:45:23,550
I've talked about this a few times,

882
00:45:23,550 --> 00:45:26,883
but we managed to keep
human reviewers in the loop.

883
00:45:28,590 --> 00:45:32,880
You know, outcomes of these reviews,

884
00:45:32,880 --> 00:45:35,130
they carry weight and
so you wanna make sure

885
00:45:35,130 --> 00:45:37,756
that it's made in a sound way.

886
00:45:37,756 --> 00:45:40,470
Keeping a human in control
of these at all times

887
00:45:40,470 --> 00:45:44,557
is I think a really good
way to move along here,

888
00:45:44,557 --> 00:45:49,557
and doing this in a way
where we can show a regulator

889
00:45:49,770 --> 00:45:54,120
exactly what the agent has
found, how it found it,

890
00:45:54,120 --> 00:45:56,460
what tool calls it decided to make,

891
00:45:56,460 --> 00:45:58,800
what the result of those tool calls were.

892
00:45:58,800 --> 00:46:01,110
So we have complete auditability

893
00:46:01,110 --> 00:46:04,594
across, you know, anything
the agent touches here,

894
00:46:04,594 --> 00:46:07,080
which is helpful.

895
00:46:07,080 --> 00:46:11,490
But all of this really
comes to this number,

896
00:46:11,490 --> 00:46:15,810
which is that ultimately, we
were able to make this review

897
00:46:15,810 --> 00:46:17,073
wildly more efficient.

898
00:46:17,970 --> 00:46:20,850
So we measure the
performance of the review

899
00:46:20,850 --> 00:46:22,440
is kind of like average handling time.

900
00:46:22,440 --> 00:46:24,240
How long does this thing take?

901
00:46:24,240 --> 00:46:26,760
So with just these initial questions

902
00:46:26,760 --> 00:46:28,543
that we're kind of front
running the research on,

903
00:46:28,543 --> 00:46:33,543
a human reviewer can spend
26% less time on average

904
00:46:33,792 --> 00:46:36,180
on these reviews as a result.

905
00:46:36,180 --> 00:46:39,357
So again, agents are not doing the work,

906
00:46:39,357 --> 00:46:41,640
they're not making the decisions,

907
00:46:41,640 --> 00:46:43,317
they're not automating really anything,

908
00:46:43,317 --> 00:46:46,500
but they're still able to see
these massive efficiencies,

909
00:46:46,500 --> 00:46:50,700
and that is gonna allow Stripe
to keep up with user growth,

910
00:46:50,700 --> 00:46:54,137
maybe changes in
requirements for the review

911
00:46:54,137 --> 00:46:57,060
as regulations change, et cetera.

912
00:46:57,060 --> 00:46:58,443
So that's been massive.

913
00:47:00,014 --> 00:47:02,820
So what are we gonna do next?

914
00:47:02,820 --> 00:47:04,290
Well, we're working right now

915
00:47:04,290 --> 00:47:05,940
on kind of expanding that orchestration.

916
00:47:05,940 --> 00:47:08,640
We wanna get deeper into
this very complicated review.

917
00:47:09,812 --> 00:47:14,130
Another thing is, I don't know

918
00:47:14,130 --> 00:47:15,690
how far we're gonna get with this,

919
00:47:15,690 --> 00:47:18,997
but I would love for like
the kind of evaluations

920
00:47:18,997 --> 00:47:20,640
of how well the system is working

921
00:47:20,640 --> 00:47:22,504
to be a little bit more streamlined.

922
00:47:22,504 --> 00:47:27,480
I definitely think LLM judges
per se could be a good way

923
00:47:27,480 --> 00:47:30,390
to like fail really bad
models really quickly.

924
00:47:30,390 --> 00:47:33,311
I still suspect you wanna have
humans kind of in the loop

925
00:47:33,311 --> 00:47:38,311
in order to determine if it's
really good enough to ship.

926
00:47:39,382 --> 00:47:43,407
The 26% reduction is massive,

927
00:47:43,407 --> 00:47:45,960
but it's just scratching the surface.

928
00:47:45,960 --> 00:47:47,940
Again, as we get deeper into this review,

929
00:47:47,940 --> 00:47:50,430
we can imagine this is
gonna get a lot bigger.

930
00:47:50,430 --> 00:47:53,160
And fine tuning is really exciting.

931
00:47:53,160 --> 00:47:57,420
I don't know if we're
gonna get improved quality

932
00:47:57,420 --> 00:47:58,530
with fine tuning.

933
00:47:58,530 --> 00:48:00,450
I definitely think we're
just gonna have more control

934
00:48:00,450 --> 00:48:02,280
of what we wanna spend our time on

935
00:48:02,280 --> 00:48:05,973
and not be surprised by
deprecation schedules, et cetera.

936
00:48:07,590 --> 00:48:09,587
RL is a fascinating one too

937
00:48:09,587 --> 00:48:13,553
mainly because the answers
here are verifiable

938
00:48:13,553 --> 00:48:16,354
and so you can imagine
like this end-to-end

939
00:48:16,354 --> 00:48:18,900
kind of training loop where
you're actually learning

940
00:48:18,900 --> 00:48:21,608
like a superior brain to the agent

941
00:48:21,608 --> 00:48:25,050
that could maybe have less
tool calls in the future

942
00:48:25,050 --> 00:48:27,899
which saves context, et cetera.

943
00:48:27,899 --> 00:48:30,063
So that's a really interesting area too.

944
00:48:32,988 --> 00:48:36,903
All right, so what did
we learn as part of this?

945
00:48:38,310 --> 00:48:40,170
Probably the first lesson we learned

946
00:48:40,170 --> 00:48:43,680
is really just like splitting
these very complicated reviews

947
00:48:43,680 --> 00:48:45,428
into these more bite-sized tasks

948
00:48:45,428 --> 00:48:47,786
that can really fit well into memory,

949
00:48:47,786 --> 00:48:49,373
that are very easy to judge

950
00:48:49,373 --> 00:48:51,840
if it's consistently good or bad.

951
00:48:51,840 --> 00:48:54,997
Remember, we have humans
doing kind of the evaluations

952
00:48:54,997 --> 00:48:56,160
of if it's good enough.

953
00:48:56,160 --> 00:48:58,565
So keeping the tasks small enough

954
00:48:58,565 --> 00:49:02,956
is kind of part of the
fight to kind of get there.

955
00:49:02,956 --> 00:49:05,820
The bite-sized task
was absolutely critical

956
00:49:05,820 --> 00:49:07,165
to make really any progress here

957
00:49:07,165 --> 00:49:10,341
to be anything more than a demo,

958
00:49:10,341 --> 00:49:13,300
and those bite-sized tasks allow us

959
00:49:13,300 --> 00:49:15,570
to do this kind of orchestration.

960
00:49:15,570 --> 00:49:19,500
So it allows us to actually
start building upon context

961
00:49:19,500 --> 00:49:21,965
that's actually gonna come
up inside of that review

962
00:49:21,965 --> 00:49:25,283
to be able to go deeper and,
you know, to get to a point

963
00:49:25,283 --> 00:49:28,023
where we're getting more
than just 26% reduction.

964
00:49:28,890 --> 00:49:33,877
Another thing was, yeah,
infrastructure has been a big help.

965
00:49:33,877 --> 00:49:37,590
Certainly we could not have done this

966
00:49:37,590 --> 00:49:39,630
probably without the agent service we had.

967
00:49:39,630 --> 00:49:42,270
It just was not gonna be hacked into.

968
00:49:42,270 --> 00:49:43,440
This ML inference system

969
00:49:43,440 --> 00:49:46,346
it would've been a complete
abuse of resources,

970
00:49:46,346 --> 00:49:51,346
and so definitely, you know,
don't be afraid of doing that.

971
00:49:53,770 --> 00:49:57,873
So what do I want you
to take away from this?

972
00:49:59,940 --> 00:50:01,980
I would say don't try to like,

973
00:50:01,980 --> 00:50:03,300
automate everything right away.

974
00:50:03,300 --> 00:50:04,950
I think that's like a natural instinct.

975
00:50:04,950 --> 00:50:06,510
Everyone thinks agents
are just gonna like,

976
00:50:06,510 --> 00:50:09,216
completely replace everything
everywhere tomorrow

977
00:50:09,216 --> 00:50:11,373
and that's just not how it's gonna work.

978
00:50:13,539 --> 00:50:16,380
It's great to keep humans
in the driver's seat.

979
00:50:16,380 --> 00:50:18,243
You should use these things as tools.

980
00:50:19,196 --> 00:50:21,630
They may not be actually even good enough

981
00:50:21,630 --> 00:50:23,490
to completely automate it.

982
00:50:23,490 --> 00:50:24,323
Who knows?

983
00:50:24,323 --> 00:50:25,950
I mean, the only way you're gonna find out

984
00:50:25,950 --> 00:50:28,650
is to have a tractable way
to incrementally attack

985
00:50:28,650 --> 00:50:31,770
some of these very long complex problems

986
00:50:31,770 --> 00:50:34,270
into these kind of bite-sized
tasks in my opinion.

987
00:50:35,129 --> 00:50:38,674
You know, agents are great
and they're really amazing

988
00:50:38,674 --> 00:50:42,134
when you have almost an
infinite amount of like,

989
00:50:42,134 --> 00:50:44,520
signals you could be
baking into your answer

990
00:50:44,520 --> 00:50:47,190
and you don't even know
which ones to be looking at.

991
00:50:47,190 --> 00:50:48,240
Really the tool calling

992
00:50:48,240 --> 00:50:51,990
is I think what makes the
agents useful maybe generally,

993
00:50:51,990 --> 00:50:54,003
but definitely for this project.

994
00:50:54,877 --> 00:50:58,350
You still need rails for
'em though because again,

995
00:50:58,350 --> 00:51:01,508
you don't want an agent that's
just spending all of its time

996
00:51:01,508 --> 00:51:04,298
on something you don't
even care about that much

997
00:51:04,298 --> 00:51:06,510
and not spending any time on the things

998
00:51:06,510 --> 00:51:09,270
you need to care about,
and so that's why I think

999
00:51:09,270 --> 00:51:10,440
those rails are kind of critical

1000
00:51:10,440 --> 00:51:13,210
to this kind of like incremental approach

1001
00:51:13,210 --> 00:51:15,630
to those efficiencies.

1002
00:51:15,630 --> 00:51:17,711
And the last thing is,
yeah, do not be afraid

1003
00:51:17,711 --> 00:51:19,170
to build new infrastructure.

1004
00:51:19,170 --> 00:51:22,320
Particularly for agents,
Stripe's seen a lot of success.

1005
00:51:22,320 --> 00:51:23,700
You know, we have so many agents.

1006
00:51:23,700 --> 00:51:24,750
You can imagine

1007
00:51:24,750 --> 00:51:28,224
just how much we're using
this now across Stripe.

1008
00:51:28,224 --> 00:51:32,550
It doesn't have to take
that long to build either.

1009
00:51:32,550 --> 00:51:33,828
Like, we had something in a month,

1010
00:51:33,828 --> 00:51:36,900
and you could too if
you don't have it yet.

1011
00:51:36,900 --> 00:51:37,733
Maybe you do.

1012
00:51:38,760 --> 00:51:41,269
So that's all I have for you today.

1013
00:51:41,269 --> 00:51:44,519
(attendees applauding)

1014
00:51:48,240 --> 00:51:51,660
- So I hope this was a good
learning session for all of you

1015
00:51:51,660 --> 00:51:53,820
and you'll be able to take
some of these learnings

1016
00:51:53,820 --> 00:51:56,280
and implement in your own organizations.

1017
00:51:56,280 --> 00:51:57,900
So we'll wrap up this session.

1018
00:51:57,900 --> 00:52:00,695
Stripe team will be here to
answer any of your questions

1019
00:52:00,695 --> 00:52:03,415
that have been left unanswered,

1020
00:52:03,415 --> 00:52:07,069
and one final thought is
Chrissy initially mentioned

1021
00:52:07,069 --> 00:52:11,370
about the Stripes Agentic
Commerce Protocol, ACP.

1022
00:52:11,370 --> 00:52:14,158
If anyone of you are interested
in learning more about it,

1023
00:52:14,158 --> 00:52:15,522
there is a session.

1024
00:52:15,522 --> 00:52:18,630
I think it's on Wednesday around 2:30.

1025
00:52:18,630 --> 00:52:21,090
So you can look that up and come there

1026
00:52:21,090 --> 00:52:22,650
and meet some of the other Stripe folks

1027
00:52:22,650 --> 00:52:24,649
who have been working on this protocol,

1028
00:52:24,649 --> 00:52:26,655
and in the end, please make sure

1029
00:52:26,655 --> 00:52:30,030
to give feedback in the app.

1030
00:52:30,030 --> 00:52:31,110
That's how we improve.

1031
00:52:31,110 --> 00:52:32,110
Thank you very much.

