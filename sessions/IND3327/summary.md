# AWS re:Invent 2025 会议总结：iHeart Media 的 AI 运维智能体之旅

## 一、会议概述

本次会议分享了 iHeart Media 如何利用 AWS 的智能体技术（Agentic AI）彻底改变其 IT 事故处理流程的转型故事。iHeart Media 是美国最大的广播媒体公司之一，拥有 850 多个 AM/FM 电台，iHeart Radio 平台每月触达近 2.5 亿用户，占据美国 90% 的人口覆盖率。面对如此庞大的规模和 24/7 不间断服务的要求，传统的人工运维方式已经无法满足需求。

会议由 AWS 高级解决方案架构师 Suda 主持，iHeart Media 的云工程副总裁 Harish Nagraj 和首席工程师 Sakitouch 共同分享了他们的实践经验。他们展示了如何通过多智能体系统（Multi-Agent System）将事故响应时间从数十分钟缩短到 30-60 秒，大幅减少工程师的重复性工作负担，提升运维效率和可靠性。该解决方案基于 AWS Bedrock Agent Core 构建，使用 Strands AI 框架开发，实现了从事故识别、根因分析到自动修复建议的全流程自动化。

## 二、详细时间线与关键要点

### **00:00 - 开场介绍**
- 会议主题：iHeart Media 的智能体运维转型之旅
- 演讲嘉宾介绍：AWS 解决方案架构师 Suda、iHeart Media VP Harish Nagraj 和首席工程师 Sakitouch
- 会议议程预告：挑战分析、解决方案架构、实际案例演示、实施指南和经验教训

### **02:30 - 问题场景描述**
- 描绘典型的凌晨 3 点紧急事故场景：寻呼机响起、多屏幕切换、寻找根因如同"在着火的草堆中找针"
- 现代分布式系统的复杂性：微服务架构下故障定位困难
- 传统运维的"七层地狱"流程：告警风暴 → 登录马拉松 → 信息搜寻 → 部落知识依赖 → 手动诊断 → 解决方案搜寻 → 文档债务

### **05:45 - iHeart Media 业务规模介绍**
- 850+ AM/FM 广播电台，覆盖全美
- iHeart Radio 平台每月触达 2.5 亿用户，占美国人口 90%
- 每月处理 50-70 亿次请求
- 高峰期每秒 6-7 万次点击
- 托管 3000+ 本地电台网站
- 每月 1.5 亿次播客下载，位列前十大播客平台

### **08:20 - 业务影响与挑战**
- 24/7 不间断服务要求：广播不能中断
- 故障影响范围：数百万通勤者、广告商、艺术家
- 经济损失：每分钟可能损失数万美元
- 工程师倦怠、知识孤岛、响应不一致等隐性成本
- 告警疲劳综合症：当一切都紧急时，就没有什么是真正紧急的

### **11:15 - 理想解决方案愿景**
- 工程师只需询问"我的基础设施出了什么问题"
- 智能体系统在 30-60 秒内自动完成：日志分析、事件关联、根因识别、修复建议
- 目标：放大人类生产力，而非仅增加人手

### **13:40 - 技术架构概览**
- 三层架构设计：
  - **触发层**：Slack、PagerDuty 等集成
  - **编排层**：核心大脑，负责意图识别、上下文组装、任务委派、响应生成
  - **数据层**：服务器日志、知识库、历史运维数据

### **16:30 - 多智能体系统设计**
- **编排智能体（SR Agent）**：接收问题、识别专业子智能体、委派任务、综合响应
- **专业子智能体**：
  - 监控智能体：性能异常、延迟问题
  - 日志智能体：快速处理数百万行日志
  - Kubernetes 智能体：Pod 健康状态、服务网格问题
  - 知识库智能体：基于历史运维经验提供建议

### **19:45 - AWS Bedrock Agent Core 的关键作用**
- **Bedrock Runtime**：提供安全的大规模智能体运行环境
- 支持长达 8 小时的运行实例（对多智能体编排至关重要）
- 完整的会话隔离（安全性保障）
- **Bedrock Memory**：保存对话上下文和历史知识
- 无需管理基础设施的托管服务
- 灵活支持多种模型和智能体类型

### **22:10 - 开发框架选择**
- 选用 Strands AI 框架构建智能体
- 选择理由：开源、易于开发、与 AWS 服务无缝集成、支持 MCP（Model Context Protocol）
- Bedrock Agent Core 也支持其他框架如 QAI

### **24:30 - iHeart Media 技术栈详解**
- 完全基于 AWS 的云原生架构
- 使用 70+ AWS 服务
- 主备 DNS 故障转移设置
- 多层缓存：外部 CDN、内部缓存
- 多个 Kubernetes 集群：前端、后端及其他专用集群
- 100+ 微服务架构
- 核心服务：S3、RDS、VPC、EC2、SageMaker、EMR、AWS Transform

### **27:50 - 三大业务垂直领域**
- **广播**：850+ 电台，完全基于无服务器架构，多区域自动故障转移
- **广告与销售技术**：占据音频广告市场 40% 份额，核心收入来源
- **数字平台**：iHeart Radio 应用，支持 iOS、Android、Web、Alexa、Roku、Sonos 等多平台

### **30:20 - 智能体之旅的起点**
- 最初探索：使用智能体优化 AWS 成本报告（170 个 AWS 账户）
- 通过 Slack 机器人查询："11 月某账户的成本是多少？"
- 成功验证后转向更大挑战：事故响应自动化

### **32:45 - 三阶段目标**
1. 洞察与智能分类：识别根因、理解故障传播路径
2. 修复建议：基于分析提供解决方案
3. 生产环境自动修复（进行中）：自动执行修复操作

### **34:30 - 实施效果与收益**
- **响应时间大幅缩短**：从数十分钟降至 30-60 秒
- **运维效率提升**：减少重复性手动工作
- **一致性和可靠性**：机器执行比人类更稳定
- **知识保存**：自动记录和复用历史解决方案
- **减少工程师倦怠**：降低值班压力

### **37:00 - 实际环境复杂性**
- 15 个 EKS 集群，跨多个 AWS 账户和 VPC
- 部分集群团队共享，部分专用
- 数百个微服务，不同技术栈
- 多种可观测性方案：New Relic、Prometheus、Grafana
- 服务间跨集群依赖：集群 1 的服务 A 调用集群 2 的服务 B

### **39:30 - 现场演示 1：服务故障诊断**
- 场景：凌晨 3 点告警触发
- 传统方式：VPN 登录、多次尝试、打开 10+ 标签页、5 个终端窗口
- 智能体方式：在 Slack 中询问"这个服务有什么问题？"
- 智能体自动：访问所有端点、检查日志、分析 Kubernetes 事件、返回根因分析
- **零额外上下文需求**：无需提供服务名、集群名、命名空间

### **43:15 - 现场演示 2：Cron 任务失败自动修复**
- 场景：PagerDuty 告警 - Cron 任务未成功完成
- 传统方式：查看 Runbook、VPN 登录、手动重新运行任务
- 智能体方式：
  - 自动后台分析根因
  - 询问："是否需要我重新运行此任务？"
  - 用户确认后自动执行
- 全程无需提供任何上下文信息

### **46:40 - 系统组件详解**
- **Slack Bot**：基于 Slack Bolt 框架，人机交互界面
- **多智能体编排层**：AWS Strands 框架
- 两种使用方式：
  1. 直接提及：在 Slack 线程中 @机器人
  2. 自动调用：特定告警类型自动触发调查

### **49:20 - 工作流程机制**
- 传递轻量级元数据：Slack 频道 ID、PagerDuty 告警内容、消息内容
- SR Agent 查询系统提示词（指令手册）
- 提取关键细节：集群、环境、命名空间
- 基于应用和错误类型的特殊指令
- 精准调用专业智能体并传递特定上下文
- 无浪费的 Token 使用，无需反复询问

### **52:30 - Bedrock Memory 与 Knowledge Base 集成**
- **Memory 示例**：Cron 任务失败场景
  - 智能体调查后询问是否重新运行
  - 用户确认后执行
  - 后续类似问题，智能体记住用户偏好，直接执行无需再次询问
  - 实现真正的对话式体验

### **55:00 - Knowledge Base 应用**
- 存储历史事故解决方案、Runbook、最佳实践
- 智能体可查询："上次这个问题是如何解决的？"
- 自动应用历史经验到新问题
- 持续学习和改进

### **57:45 - 实施经验与最佳实践**
- 从小规模开始：先解决成本报告问题验证可行性
- 明确目标：分阶段推进（诊断 → 建议 → 自动修复）
- 选择合适的框架和工具
- 重视安全性和会话隔离
- 保持系统提示词的清晰和针对性
- 利用托管服务减少运维负担

### **60:00 - 未来发展方向**
- 完善生产环境自动修复能力
- 扩展更多专业子智能体
- 增强跨系统关联分析能力
- 持续优化响应速度和准确性
- 探索更多 AI 驱动的运维场景

### **62:00 - 关键经验教训**
- 不要构建单一巨型智能体，而是专业化的多智能体协作
- 上下文传递要精准，避免 Token 浪费
- 充分利用 AWS 托管服务的安全性和可扩展性
- 保存和复用运维知识至关重要
- 人机协作而非完全自动化（特别是生产环境修复）
- 持续迭代和改进系统提示词

### **64:30 - 总结与问答预告**
- 成功将事故响应从"七层地狱"简化为一次对话
- 大幅提升工程师工作满意度和运维效率
- 为大规模数字化组织提供可复制的解决方案
- 会后开放问答环节

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


会议核心价值：本次分享展示了如何利用 AWS Bedrock Agent Core 和多智能体架构，将复杂的 IT 运维工作转变为智能化、自动化的流程，为面临类似挑战的大型企业提供了切实可行的参考方案。