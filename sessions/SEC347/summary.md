# AWS 技术会议总结：使用 OCSF 和 AI 构建未来安全运营中心

## 会议概述

本次会议由 AWS 的 Sushon（医疗保健和生命科学高级技术客户经理）、Pratima Singh（金融服务和保险高级解决方案架构师）以及 Merc 公司的 Alan Mandap（公有云平台总监）共同主讲。会议重点介绍了如何通过将安全日志转换为 OCSF（开放网络安全架构框架）格式，结合 AI 技术构建面向未来的安全运营中心。

Merc 公司通过采用 OCSF 和 AWS Security Lake，成功将事件响应时间从一整天缩短至仅 30 分钟，同时实现了 47% 的基础设施成本节省和 48% 的运营效率提升。这一转型不仅解决了多云环境中日志格式不统一、数据孤岛等传统挑战，还为 AI/ML 工作负载提供了标准化、可查询的数据基础。会议通过实际案例和现场演示，展示了 OCSF 如何简化安全分析流程，使安全团队能够将精力从繁重的数据转换工作转移到更具战略意义的威胁检测和响应上。

## 详细时间线

### 开场介绍（0:00-2:30）
- **0:00** - 会议开始，Sushon 介绍演讲主题：如何通过 OCSF 构建面向未来的安全运营中心
- **0:30** - 介绍共同演讲者：Alan Mandap（Merc 公司公有云总监）和 Pratima Singh（AWS 金融服务解决方案架构师）
- **1:15** - 提出核心问题：是否可以将事件响应时间从一整天缩短到 30 分钟？Merc 公司已经实现了这一目标

### 数据挑战分析（2:30-6:45）
- **2:30** - 介绍会议议程：数据挑战、OCSF 解决方案、Merc 案例研究、AI 代理演示
- **3:15** - 阐述核心观点：安全本质上是一个数据问题，挑战不在于缺乏数据，而在于如何理解现有数据
- **3:45** - 描述现代企业安全环境：本地数据中心、多云环境、SaaS 生态系统
- **4:30** - 说明传统问题：安全分析师需要在多个系统间切换，每个系统使用不同的日志格式
- **5:15** - 指出资源浪费：优秀的安全工程师将时间花在编写数据解析器上，而非构建威胁检测算法
- **6:00** - 强调数据海啸问题：日志量不断增加，存储和计算成本持续上升

### OCSF 框架介绍（6:45-10:30）
- **6:45** - 引入 OCSF（开放网络安全架构框架）作为解决方案
- **7:15** - OCSF 特性：开源、专为安全团队设计、保持一致的数据结构
- **7:45** - 可定制性：可根据需求扩展，同时保持核心框架完整
- **8:15** - 源无关性：无论日志来自第三方供应商还是 AWS 平台，都能创建统一的数据格式
- **8:45** - 架构演示：事件生产者 → OCSF 转换 → 事件消费者
- **9:15** - Amazon Security Lake 的作用：自动执行数据转换，无需手动映射
- **9:45** - 成本优势：Parquet 格式存储压缩日志，列式格式提升查询性能

### OCSF 核心优势（10:30-12:00）
- **10:30** - 优势一：创建单一通用数据格式，适用于混合云和多供应商环境
- **10:50** - 优势二：生产者层面一次性映射，消费者层面无需自定义解析器
- **11:15** - 优势三：优化安全人才配置，专注于战略性工作而非数据转换
- **11:40** - 优势四：AI/ML 就绪，代理模型可处理清洁一致的数据

### Merc 公司案例介绍（12:00-16:30）
- **12:00** - Alan Mandap 开始介绍 Merc 公司背景
- **12:30** - Merc 简介：全球医疗保健公司，拥有 130 多年历史，提供药品、疫苗和生物疗法
- **13:00** - 团队使命：为客户提供安全的云环境，支持完整的技术生命周期
- **13:45** - 传统中央日志架构：多账户策略，CloudTrail、VPC Flow Logs、应用日志集中到 S3
- **14:30** - 改进动机：降低成本、减少运营开销、专注于战略平台计划
- **15:15** - 四大业务驱动因素：加速事件检测、改善客户体验、启用 AI/ML 能力、优化成本
- **16:00** - IT 视角：降低存储成本、转向托管服务、减少运营开销、应对数据量增长

### 转型实施过程（16:30-20:00）
- **16:30** - 2024 年第三季度：对中央日志环境进行全面评估，与 AWS 合作伙伴密切合作
- **17:00** - 2025 年第一季度：开始部署规划，制定优化方案
- **17:30** - 2025 年第二季度：实施 AWS Security Lake，自动将数据转换为 OCSF 格式
- **18:00** - 2024 年第四季度：寻找利用现代化日志环境的机会，探索 AI 用例
- **18:45** - 现代化架构展示：Security Lake 自动转换日志为 OCSF 格式，用户可直接访问标准化数据
- **19:30** - 转向托管服务的额外好处：不仅转换为 OCSF，还显著节省基础设施成本

### 运营效率提升（20:00-23:30）
- **20:00** - 核心成果：运营时间减少 48%，近一半的运营成本被削减
- **20:45** - 三大驱动因素之一：快速启用 - 从几周缩短到几小时
- **21:15** - 驱动因素之二：减少运营开销 - Security Lake 处理日志转换，消除自定义代码
- **21:45** - 驱动因素之三：即用型数据 - 用户可立即访问数据进行分析
- **22:30** - 基础设施成本节省 47%，通过 OCSF 标准化和 Parquet 格式存储实现

### 成本节省分析（23:30-26:00）
- **23:30** - 成本节省的四大因素
- **23:50** - 因素一：托管服务 - 受益于规模经济，无需构建和维护自定义基础设施
- **24:15** - 因素二：OCSF 标准化 - 标准架构在存储前消除冗余字段
- **24:45** - 因素三：压缩存储 - Parquet 格式提供卓越的压缩率，减少存储占用
- **25:15** - 因素四：降低计算成本 - 列式数据分区使 Athena 查询更高效
- **25:45** - 总结：47% 的成本节省可用于投资其他创新解决方案

### AI 代理应用案例（26:00-30:30）
- **26:00** - 转向更有趣的应用：部署 Security Lake 后探索 AI 用例
- **26:30** - 与 AWS 专家合作开发代理 AI 原型，用于安全运营
- **27:00** - 目标：测试 AI 是否能更高效地调查安全事件
- **27:30** - 代理 SOC AI 原型：仅需提供 WAF 记录 ID，即可在 5 分钟内生成综合报告
- **28:00** - AI 分析内容：流量和请求模式、源 IP 地址、行为条件、可操作建议
- **28:45** - OCSF 的关键作用：标准化架构使 AI 能够快速关联安全上下文、威胁情报和基础设施信息
- **29:30** - 传统手动调查流程：从历史记录获取上下文、学习不同日志格式、开发复杂查询、转换输出
- **30:00** - AI 代理流程：协调器协调子代理，自动获取上下文、分析 OCSF 格式日志、优化查询、生成可读洞察

### 运营洞察案例（30:30-32:30）
- **30:30** - 除安全洞察外，还可生成运营洞察
- **31:00** - 实际案例：客户报告成本使用激增
- **31:30** - 使用 AWS MCP 服务器查询数据，OCSF 标准化架构适用于多个 AWS 服务
- **32:00** - 快速生成信息：不到 5 分钟确定根本原因是 S3 数据事件启用导致 KMS 解密事件激增
- **32:30** - 总结：现代化中央日志环境和 OCSF 标准化带来基础设施节省、运营效率和 AI 能力

### OCSF 与 AI 的价值（32:30-37:00）
- **32:30** - Pratima Singh 接手演讲，强调 OCSF 在加速事件响应中的关键作用
- **33:00** - AI 代理的上下文窗口重要性：处理不同日志事件和架构时，上下文会增长和收缩
- **33:45** - OCSF 的独特价值：明确且标准化的框架，可作为知识库加载到代理中
- **34:15** - 现场调查：有多少人之前了解 OCSF？少数人举手
- **34:45** - OCSF 快速入门：属性（键值对）→ 对象（相关属性集合）→ 类（单个日志事件）→ 类别（多个类的集合）
- **35:30** - 示例：CloudTrail 发出认证活动、API 活动和审计活动；SSH 活动属于网络活动类别
- **36:15** - OCSF 设计目标：开放标准，适应任何环境、解决方案或应用，同时补充现有安全控制

### 日志对比演示（37:00-40:30）
- **37:00** - 展示两个日志源：WAF 和 VPC Flow Log
- **37:30** - 场景：查找穿越网络堆栈（第 7 层到第 4 层）的 IP 地址
- **38:00** - 传统方法：解析 VPC Flow Log 单行标准输出，添加 JSON 属性，然后关联
- **38:45** - 数据整理挑战：处理原始日志源需要大量手动工作
- **39:15** - OCSF 转换后的优势：一致的日志架构，源 IP 地址在 WAF 和 VPC Flow Log 中位置完全相同
- **39:45** - 数据类型一致性：IP 地址为 IP 地址类型，AWS 账户 ID 为字符串类型，无需数据类型转换
- **40:15** - 可定制性：使用 observables 构造突出常用值，便于关联和提取信息

### 典型安全响应场景（40:30-44:00）
- **40:30** - 现场调查：有多少安全运营人员？凌晨 3 点被叫醒处理安全事件
- **41:00** - 响应步骤一：收到警报后，确定应该做什么（查找运行手册、剧本）
- **41:30** - 响应步骤二：确定为什么应该关心这个警报（生产环境 vs 沙箱环境）
- **42:00** - 响应步骤三：了解谁、做了什么、在哪里、何时、为什么（日志分析核心）
- **42:30** - 响应步骤四：这种情况以前发生过吗？（历史证据、工单系统、备份系统）
- **43:00** - 代理 AI 场景：将这些步骤拆分为不同的代理
- **43:30** - OCSF 的作用：提供可定制、明确、一致的日志操作方式，增强日志分析工作流程

### 代理工作流程（44:00-47:30）
- **44:00** - 协调器（安全运营人员）收到警报
- **44:30** - 代理一：查找运行手册和剧本，搜索各种数据源
- **45:00** - 代理二：检索业务上下文，确定资源的重要性（机密信息权限 vs 沙箱环境）
- **45:45** - 代理三：日志分析 - 最耗费人力的任务，是减少响应时间的关键
- **46:15** - 重复性手动任务是交给代理的理想候选，让安全运营人员有时间创新
- **46:45** - 关联日志信息与业务上下文，人工处理需要大量时间
- **47:15** - 保存调查历史，使信息在下次类似事件发生时随时可用

### Merc POC 演示准备（47:30-50:00）
- **47:30** - 与 Merc 构建概念验证，深入研究 AWS WAF 日志
- **48:00** - 演示设置：部署演示应用，进行分布式负载测试
- **48:30** - 测试规模：1000 万个请求被 WAF 阻止
- **49:00** - 挑战：如果必须查看原始 WAF 日志，逐个检查是否被阻止或允许，需要大量时间
- **49:30** - 演示架构：一个协调器，三个代理（日志分析代理、业务元数据代理、历史证据代理）
- **49:50** - 演示场景：告知 AWS WAF 在特定账户中检测到可疑活动

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


总结：本次会议全面展示了 OCSF 如何通过标准化日志格式解决现代安全运营中的数据挑战，并结合 AI 代理技术实现事件响应的自动化和加速。Merc 公司的实际案例证明了这一方案的可行性和显著效益。