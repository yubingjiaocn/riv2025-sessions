# AWS re:Invent 2025 - 移动端真实用户监控与应用程序映射的全面可观测性

## 会议概述

本次技术分享会由AWS高级专家架构师Siva Guruvareddiar和AWS首席工程师Alex Nazarov主讲，重点介绍了AWS Application Signals的最新功能，包括应用程序映射(Application Map)和移动端真实用户监控(Mobile RUM)。Application Signals是AWS的应用性能监控(APM)解决方案，基于OpenTelemetry开放标准，通过分布式追踪自动发现服务依赖关系，提供基于黄金指标(RED指标：请求、错误、持续时间)的全面监控能力。

会议采用代码演示的形式，展示了从理论概念到实际应用的完整流程。演讲者强调了现代分布式系统的复杂性挑战，以及如何通过Application Signals的新功能来简化系统监控和故障排除。新推出的移动端RUM功能支持iOS和Android平台，能够实现从移动应用到后端服务的端到端事务追踪，为开发者提供完整的用户体验洞察。

## 详细时间线与关键要点

### 00:00-05:00 会议开场与背景介绍
- Siva介绍演讲者和会议主题
- 现场调研：了解参会者对Application Signals的使用情况
- 会议议程概述：理论概念、最新功能、代码演示

### 05:00-10:00 Application Signals核心概念
- **APM解决方案定位**：AWS自有的应用性能监控工具
- **服务清单管理**：自动发现和监控账户中的所有服务
- **黄金指标(RED指标)**：
  - R: 请求(Request)
  - E: 错误和故障(Errors)  
  - D: 持续时间/延迟(Duration)
- **基于OpenTelemetry标准**：使用分布式追踪自动发现服务依赖关系
- **SLO集成**：支持创建服务级别目标，连接技术指标与业务指标

### 10:00-15:00 应用程序映射功能详解
- **演进历程**：从trace map → service map → application map
- **瓦片式界面**：每个瓦片代表一个应用程序，按相关服务分组
- **自定义分组**：支持前端/后端分组或业务单元分组
- **交互式导航**：支持缩放、钻取和递归式详细查看
- **健康状态指标**：右侧抽屉显示服务健康指标、RED指标和SLO状态
- **运营审计功能**：主动识别延迟问题，提供具体的故障追踪信息

### 15:00-20:00 真实用户监控(RUM)扩展
- **Web支持历史**：长期支持浏览器端用户交互监控
- **移动端新增**：最近新增iOS和Android平台支持
- **实时数据收集**：
  - Web端：JavaScript错误监控
  - 移动端：应用崩溃分析
- **平台特定指标**：
  - Android：ANR(应用无响应)分析
  - iOS：崩溃分析
- **设备信息收集**：操作系统版本、设备类型等详细信息

### 20:00-25:00 端到端追踪架构
- **关联ID机制**：基于OpenTelemetry标准的事务追踪
- **架构流程**：移动应用 → CloudWatch RUM → Application Signals → 后端服务
- **自动拓扑发现**：可视化服务依赖关系
- **性能指标叠加**：每个瓦片的甜甜圈图表显示颜色编码的健康状态
- **瓶颈识别**：通过视觉指示器快速定位问题服务

### 25:00-30:00 代码演示开始 - 复杂系统挑战
- Alex展示复杂分布式系统架构图的"意大利面条怪物"问题
- **客户需求分析**：
  - 在单一页面查看所有账户资源
  - 高层次应用健康状态概览
  - 支持深度钻取和缩放功能
- **动态分组功能**：自动发现API网关、负载均衡器、EKS、ECS集群等资源
- **非插桩服务支持**：通过虚线显示未插桩但可监控的应用入口点

### 30:00-35:00 实际案例演示 - Ticketing Lite服务
- **服务发现**：自动识别4个底层服务
- **部署信息**：从CloudTrail获取最新部署记录
- **问题识别**：通过API网关定位到submit ticket Lambda的问题
- **一键插桩**：使用上下文菜单为所有Lambda组件启用Application Signals
- **OpenTelemetry层**：添加SDK而非代理，避免冷启动影响
- **增强可见性**：插桩后发现额外的Lambda和SQS队列依赖关系

### 35:00-40:00 IDE集成与故障排除
- **运营审计功能**：自动发现异常和错误，无需手动日志分析
- **IDE集成演示**：展示Kiro IDE中的CloudWatch Application Signals MCP服务器
- **智能查询**：
  - "哪些服务违反了SLO？"
  - "submit ticket服务有什么问题？"
- **根因分析**：IDE直接连接生产环境遥测数据，定位具体代码行
- **修复建议**：自动提供问题缓解方案

### 40:00-44:00 自定义分组与移动端RUM演示
- **分组策略**：
  - 默认：相关服务分组
  - 环境：使用OTel属性按生产/测试环境分组
  - 自定义：应用程序、服务等级、团队所有权
- **标签支持**：AWS标签和OTEL_RESOURCE_ATTRIBUTES
- **移动端故障排除**：
  - Android应用崩溃分析
  - 会话级别的异常堆栈跟踪
  - Android Studio集成调试
- **RUM配置**：简单的依赖项添加和配置文件设置

### 44:00-44:48 总结与资源分享
- **事务搜索功能**：将追踪数据存储为日志，支持复杂查询操作
- **X-Ray兼容性**：已使用OpenTelemetry的X-Ray用户无需重新插桩
- **学习资源**：
  - 可观测性研讨会QR码
  - Cloud Operation Show双周直播
  - 可观测性最佳实践指南
- 演讲者LinkedIn联系方式分享