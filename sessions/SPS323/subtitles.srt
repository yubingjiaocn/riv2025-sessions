1
00:00:01,018 --> 00:00:01,538
Um,

2
00:00:01,820 --> 00:00:04,198
welcome, uh, good afternoon. Welcome to this talk.

3
00:00:05,089 --> 00:00:05,679
Um,

4
00:00:06,009 --> 00:00:07,908
today we're here to speak about the

5
00:00:08,489 --> 00:00:10,509
event driven architectures and the security,

6
00:00:10,679 --> 00:00:12,500
basically about the event Bridge.

7
00:00:13,108 --> 00:00:15,130
Um, let me make some

8
00:00:15,130 --> 00:00:17,170
questions to start. Uh, how many of you are

9
00:00:17,170 --> 00:00:18,269
you using today

10
00:00:18,929 --> 00:00:20,969
event-driven architectures based on even

11
00:00:20,969 --> 00:00:23,440
Bridge? OK,

12
00:00:23,559 --> 00:00:24,298
not too much.

13
00:00:24,879 --> 00:00:27,079
And the second one is, how many

14
00:00:27,079 --> 00:00:29,239
of you are you thinking in deploying

15
00:00:29,239 --> 00:00:31,399
the new business applications

16
00:00:31,399 --> 00:00:32,539
based on EventBridge

17
00:00:32,798 --> 00:00:33,899
and applying the

18
00:00:34,158 --> 00:00:35,319
event-driven architectures?

19
00:00:36,118 --> 00:00:36,759
OK.

20
00:00:37,228 --> 00:00:38,158
OK, fine. So,

21
00:00:39,090 --> 00:00:41,090
We're here to speak about security related

22
00:00:41,090 --> 00:00:43,200
with event event driven architectures,

23
00:00:43,209 --> 00:00:44,130
basically even bridge.

24
00:00:44,408 --> 00:00:46,609
I'm, uh, Sergio Bilbao. I'm

25
00:00:46,609 --> 00:00:48,649
working AWS professional

26
00:00:48,649 --> 00:00:51,158
services as a senior cloud infrastructure

27
00:00:51,158 --> 00:00:51,750
architect,

28
00:00:52,368 --> 00:00:54,529
and today is with me here my

29
00:00:54,529 --> 00:00:55,310
colleague Igor.

30
00:00:55,969 --> 00:00:58,039
Hi, I'm Igor Rastolfo. I'm a

31
00:00:58,039 --> 00:00:59,310
DOs architect. I'm

32
00:00:59,728 --> 00:01:01,689
in a preserve, uh,

33
00:01:02,658 --> 00:01:04,049
uh, AWS preserve in Italy.

34
00:01:05,709 --> 00:01:06,299
OK,

35
00:01:06,638 --> 00:01:09,079
so we're going to speak about

36
00:01:09,079 --> 00:01:09,620
different

37
00:01:10,159 --> 00:01:11,120
things. Uh,

38
00:01:11,519 --> 00:01:14,099
the first one is an a short introduction

39
00:01:14,099 --> 00:01:16,588
about what are the benefits of,

40
00:01:16,599 --> 00:01:17,120
uh,

41
00:01:17,480 --> 00:01:19,859
event driven architectures as synchronous architectures.

42
00:01:20,519 --> 00:01:22,349
Then we're going to use an, uh,

43
00:01:22,918 --> 00:01:24,659
history of a specific, uh,

44
00:01:25,198 --> 00:01:27,319
company, fictional company called Nobel

45
00:01:27,319 --> 00:01:27,838
and Mer.

46
00:01:28,680 --> 00:01:29,980
To to show you

47
00:01:30,278 --> 00:01:32,319
their journey from synchronous to

48
00:01:32,319 --> 00:01:34,278
asynchronous and some security issues

49
00:01:34,879 --> 00:01:37,000
and at the end we are going to say or to

50
00:01:37,000 --> 00:01:39,480
share with you some takeaways and some recommendations

51
00:01:39,480 --> 00:01:41,278
in terms of security for even Bridge.

52
00:01:43,319 --> 00:01:44,439
OK, so

53
00:01:44,969 --> 00:01:46,269
why are synchronous?

54
00:01:47,329 --> 00:01:49,489
So a few years ago, I think too,

55
00:01:50,010 --> 00:01:52,138
uh, Bernard Bogas during his, uh, key

56
00:01:52,138 --> 00:01:52,668
talk

57
00:01:53,129 --> 00:01:55,019
was speaking about asynchronous,

58
00:01:55,290 --> 00:01:57,808
and he said something that is, uh, absolutely

59
00:01:57,808 --> 00:01:59,168
true, and this is that, uh,

60
00:01:59,609 --> 00:02:01,769
asynchronous is more similar to

61
00:02:01,769 --> 00:02:04,290
how human beings are working in 90%

62
00:02:04,290 --> 00:02:06,409
of our cases we are making something

63
00:02:06,409 --> 00:02:08,490
if we don't have the response immediately.

64
00:02:08,879 --> 00:02:10,919
We want to make something different and

65
00:02:10,919 --> 00:02:11,919
we return. So

66
00:02:12,240 --> 00:02:14,639
why not move or apply the same pattern

67
00:02:14,919 --> 00:02:16,189
to our systems

68
00:02:16,558 --> 00:02:18,639
to, to improve the systems. This is the

69
00:02:18,639 --> 00:02:19,250
first one.

70
00:02:20,000 --> 00:02:22,000
what are the benefits that we can have with a

71
00:02:22,000 --> 00:02:24,058
synchronous? The first one is the

72
00:02:24,229 --> 00:02:26,439
loss coupling when you are using an, uh,

73
00:02:26,528 --> 00:02:27,500
a synchronous

74
00:02:27,868 --> 00:02:30,000
or event driven architectures, uh,

75
00:02:30,118 --> 00:02:32,338
you are the coupling the, the system,

76
00:02:32,879 --> 00:02:35,038
the different models that you are using. So it

77
00:02:35,038 --> 00:02:37,118
is going to provide you in the future some

78
00:02:37,118 --> 00:02:37,819
benefits.

79
00:02:38,528 --> 00:02:40,149
The second one is scalability,

80
00:02:40,649 --> 00:02:43,020
uh, in terms of scalability using even bridge

81
00:02:43,020 --> 00:02:44,949
or event driven architectures,

82
00:02:45,330 --> 00:02:47,368
you don't need to take care about servers or

83
00:02:47,368 --> 00:02:49,649
scaling groups or this kind of uh.

84
00:02:50,399 --> 00:02:52,490
Uh, configuration. So if tomorrow

85
00:02:52,490 --> 00:02:54,588
you have a peak in your business

86
00:02:54,929 --> 00:02:56,960
that goes from 100 to 200,

87
00:02:57,210 --> 00:02:58,149
you have it covered.

88
00:03:00,389 --> 00:03:02,788
The first one is a synchronous processing.

89
00:03:03,088 --> 00:03:04,868
Basically this is related with the

90
00:03:06,710 --> 00:03:09,179
performance and with the

91
00:03:09,179 --> 00:03:11,439
user experience. Using the synchronous

92
00:03:11,439 --> 00:03:13,508
processing, the user experience is much better than

93
00:03:13,508 --> 00:03:14,330
when you are using

94
00:03:14,699 --> 00:03:16,990
synchronous in which, uh, if the user

95
00:03:16,990 --> 00:03:17,599
is, for example,

96
00:03:17,868 --> 00:03:19,929
requesting, uh, to create a report.

97
00:03:20,830 --> 00:03:23,110
Um, and to make the report, you need

98
00:03:23,110 --> 00:03:25,110
5 minutes. The user needs to be in front

99
00:03:25,110 --> 00:03:25,669
of

100
00:03:25,979 --> 00:03:27,990
the monitor for 5 minutes. So, using this kind

101
00:03:27,990 --> 00:03:29,139
of, uh, things, uh,

102
00:03:29,439 --> 00:03:31,250
the experience of the user are much better.

103
00:03:32,379 --> 00:03:34,419
The fourth is even sourcing.

104
00:03:34,500 --> 00:03:36,538
Uh, when you are using this, you don't

105
00:03:36,538 --> 00:03:37,129
need to,

106
00:03:37,419 --> 00:03:40,080
to ask, uh, the remote systems

107
00:03:40,419 --> 00:03:41,538
what is the status

108
00:03:42,020 --> 00:03:44,179
in the typical, uh, synchronous system.

109
00:03:45,219 --> 00:03:47,629
To know what is happening on the other side, you

110
00:03:47,629 --> 00:03:49,710
need to ask constantly. For example, with

111
00:03:49,710 --> 00:03:51,460
a demon it's uh one minute,

112
00:03:51,750 --> 00:03:53,750
which is your status, which is your status, and if

113
00:03:53,750 --> 00:03:55,569
you don't have, for example, a response,

114
00:03:55,909 --> 00:03:56,788
you can make something.

115
00:03:57,308 --> 00:03:59,629
Here everything is based on, on events. So

116
00:03:59,629 --> 00:04:01,770
if the other system has a specific problem

117
00:04:02,110 --> 00:04:04,229
and writes an event, you can react in a

118
00:04:04,229 --> 00:04:06,349
specific way or the way that you need to specific

119
00:04:06,349 --> 00:04:09,699
events. And

120
00:04:09,710 --> 00:04:11,288
another one is flexibility.

121
00:04:11,788 --> 00:04:13,830
We're speaking basically that um

122
00:04:13,830 --> 00:04:15,909
here, if tomorrow you need to

123
00:04:15,909 --> 00:04:16,970
update your module.

124
00:04:17,668 --> 00:04:18,699
You can move one,

125
00:04:19,028 --> 00:04:20,028
put the new one,

126
00:04:20,468 --> 00:04:22,608
and we work. You don't need to change

127
00:04:22,608 --> 00:04:24,048
all the application in the typical

128
00:04:24,639 --> 00:04:26,709
synchronous systems. Your problem is that

129
00:04:26,709 --> 00:04:28,709
you have the same version of APIs

130
00:04:28,709 --> 00:04:29,617
on both sides,

131
00:04:30,028 --> 00:04:32,218
and usually when you are changing one of the APIs

132
00:04:32,218 --> 00:04:34,569
on one side, you need also to change the rest of

133
00:04:34,569 --> 00:04:35,228
the applications. So

134
00:04:35,548 --> 00:04:36,968
in terms of, uh,

135
00:04:38,038 --> 00:04:40,148
time to market for the applications or or new versions,

136
00:04:40,187 --> 00:04:42,218
uh, it's it's worse than the

137
00:04:42,218 --> 00:04:43,088
a synchronous.

138
00:04:44,199 --> 00:04:46,319
OK. So, for today, we

139
00:04:46,319 --> 00:04:49,678
have an example of a company called Novalamer.com.

140
00:04:50,399 --> 00:04:52,649
Um, Novellammer.com is a company

141
00:04:53,160 --> 00:04:55,160
that works in, uh, as an e-commerce. They

142
00:04:55,160 --> 00:04:57,350
are selling, uh, luxury items.

143
00:04:58,329 --> 00:05:00,528
They have a a standard system deployed

144
00:05:00,928 --> 00:05:02,829
that uh at this moment is um

145
00:05:03,209 --> 00:05:04,528
covering the requirements,

146
00:05:04,970 --> 00:05:07,009
but the, the business has started to

147
00:05:07,009 --> 00:05:09,048
grow up. They are starting to sell more and

148
00:05:09,048 --> 00:05:09,819
more items

149
00:05:10,250 --> 00:05:12,290
and they cannot uh afford all

150
00:05:12,290 --> 00:05:14,290
the peaks of traffic and and bis

151
00:05:14,290 --> 00:05:15,309
that they have, so

152
00:05:15,889 --> 00:05:17,889
they are affecting their business. They are losing money at

153
00:05:17,889 --> 00:05:19,910
the end. So they took the decision

154
00:05:20,088 --> 00:05:22,088
to go from the current version

155
00:05:22,528 --> 00:05:24,670
to a new version that is based on the

156
00:05:24,809 --> 00:05:26,769
asynchronous using the uh MM bridge.

157
00:05:27,608 --> 00:05:28,160
OK.

158
00:05:28,920 --> 00:05:30,959
The evolution to the synchronous that they are going

159
00:05:30,959 --> 00:05:31,928
to use is, uh,

160
00:05:32,439 --> 00:05:33,220
first of all,

161
00:05:33,480 --> 00:05:35,858
they have this um architecture.

162
00:05:37,379 --> 00:05:39,459
It's clear that this is not a real architecture, OK?

163
00:05:39,579 --> 00:05:41,858
It's for examples. In a real architecture

164
00:05:41,858 --> 00:05:44,069
you have more components and more things, but

165
00:05:44,069 --> 00:05:45,709
this is for example is,

166
00:05:45,980 --> 00:05:46,939
is more than enough.

167
00:05:47,338 --> 00:05:49,619
So the user is using navigator. With the navigator

168
00:05:49,619 --> 00:05:51,879
you, for example, buying a specific item,

169
00:05:52,459 --> 00:05:53,939
and internally you need to,

170
00:05:54,298 --> 00:05:55,988
to call different, uh,

171
00:05:56,259 --> 00:05:56,879
different,

172
00:05:57,540 --> 00:05:59,778
uh, options that needs to be done. Like,

173
00:05:59,819 --> 00:06:00,588
for example,

174
00:06:00,899 --> 00:06:03,000
maybe the payment, uh, maybe

175
00:06:03,579 --> 00:06:04,500
send a notification,

176
00:06:04,809 --> 00:06:06,238
everything that you need in synchronous.

177
00:06:06,769 --> 00:06:07,588
And they will move

178
00:06:08,048 --> 00:06:09,790
to an asynchronous architecture

179
00:06:10,329 --> 00:06:12,910
that is based on even Bridge. So in this architecture

180
00:06:13,048 --> 00:06:15,170
they are going to use an APA gateway in

181
00:06:15,170 --> 00:06:17,209
front for the for the request from the

182
00:06:17,209 --> 00:06:17,720
user.

183
00:06:18,129 --> 00:06:20,488
This APA gateway will create the

184
00:06:20,488 --> 00:06:22,588
events that are required for the different, uh,

185
00:06:22,600 --> 00:06:23,899
possibilities that you have

186
00:06:24,170 --> 00:06:26,170
in the En Bridge. And using Ebn Bridge we

187
00:06:26,170 --> 00:06:28,170
are going to route the, the events

188
00:06:28,170 --> 00:06:30,528
to the different options that you need. For example, to slete

189
00:06:30,528 --> 00:06:32,949
them, to remove from the warehouse

190
00:06:32,949 --> 00:06:33,649
everything that you need,

191
00:06:33,928 --> 00:06:35,980
OK. And now I'm going to

192
00:06:35,988 --> 00:06:38,139
to give the control to to my colleague I

193
00:06:38,149 --> 00:06:38,750
Igor,

194
00:06:39,079 --> 00:06:41,160
uh, Igor that he's going to explain you

195
00:06:41,160 --> 00:06:43,199
a little bit in advance all the code that

196
00:06:43,199 --> 00:06:44,059
we have today,

197
00:06:44,358 --> 00:06:46,480
uh, to execute everything and create the, the

198
00:06:46,480 --> 00:06:47,040
company.

199
00:06:47,319 --> 00:06:49,639
Yeah, so the

200
00:06:49,639 --> 00:06:51,838
fictional project that we are, we are just

201
00:06:51,838 --> 00:06:53,939
seeing, uh, the architecture is.

202
00:06:54,629 --> 00:06:56,869
It's been created with the infrastructure code

203
00:06:56,869 --> 00:06:58,670
and the Python for the lambdas.

204
00:06:59,149 --> 00:07:01,129
So basically the project is,

205
00:07:01,829 --> 00:07:04,079
is split into different modules so

206
00:07:04,079 --> 00:07:05,988
that this release uh

207
00:07:06,269 --> 00:07:08,470
the manageability of the, of the components

208
00:07:08,470 --> 00:07:09,069
and the,

209
00:07:09,509 --> 00:07:10,629
and the evolution.

210
00:07:11,108 --> 00:07:13,209
Uh, so we have, uh, the bridge

211
00:07:13,389 --> 00:07:15,649
that is the core component of the entire,

212
00:07:15,660 --> 00:07:16,939
uh, synchronous application.

213
00:07:17,670 --> 00:07:19,488
We have a producer that is uh

214
00:07:20,069 --> 00:07:22,439
a lambda exposed by API gateway

215
00:07:22,548 --> 00:07:24,399
that will put events

216
00:07:24,838 --> 00:07:26,928
in the, into the even bridge

217
00:07:27,670 --> 00:07:28,629
and uh.

218
00:07:29,689 --> 00:07:31,988
Even bridge has a a rule

219
00:07:32,139 --> 00:07:34,290
that intercepts events and then

220
00:07:34,290 --> 00:07:35,048
send them

221
00:07:35,358 --> 00:07:36,298
to an SQSQ

222
00:07:37,220 --> 00:07:38,750
and the consumer

223
00:07:39,048 --> 00:07:41,230
uh that is the other lambda that is uh

224
00:07:41,738 --> 00:07:43,889
uh triggered every time uh a message

225
00:07:43,889 --> 00:07:45,298
come to the SQSQ

226
00:07:45,959 --> 00:07:47,970
uh so it consumes the messages and do

227
00:07:47,970 --> 00:07:49,980
whatever the,

228
00:07:50,329 --> 00:07:51,928
the lambda needs to do

229
00:07:52,290 --> 00:07:53,910
to work on the order.

230
00:07:54,869 --> 00:07:57,329
We have also a monitoring, monitoring dashboard

231
00:07:57,500 --> 00:07:58,889
that we will see in a moment

232
00:07:59,389 --> 00:08:01,509
that will uh show synthetic data

233
00:08:01,509 --> 00:08:02,790
about uh the system

234
00:08:03,149 --> 00:08:03,670
and

235
00:08:04,149 --> 00:08:06,509
also a confi custom role

236
00:08:06,709 --> 00:08:08,980
that we will see in the last part of the,

237
00:08:09,028 --> 00:08:09,910
of the session.

238
00:08:10,920 --> 00:08:12,959
Uh, the code is basically, as

239
00:08:12,959 --> 00:08:15,238
I said, is basically infrastructure

240
00:08:15,238 --> 00:08:17,500
is code for what concern, uh, the,

241
00:08:17,920 --> 00:08:20,278
all the, the, the all the resources provisioned

242
00:08:21,000 --> 00:08:23,439
and the split in modules

243
00:08:23,540 --> 00:08:25,480
that are usable components

244
00:08:25,759 --> 00:08:28,000
where you put all your configuration

245
00:08:28,000 --> 00:08:28,670
logic

246
00:08:29,088 --> 00:08:31,338
and deployments that they

247
00:08:32,038 --> 00:08:33,739
use these modules to

248
00:08:34,239 --> 00:08:36,279
uh create actual configurations

249
00:08:36,279 --> 00:08:37,058
passing, uh,

250
00:08:37,538 --> 00:08:39,678
uh, relevant information that uh.

251
00:08:40,369 --> 00:08:42,509
Uh, you, you need to,

252
00:08:42,529 --> 00:08:44,849
um, specify the context

253
00:08:44,849 --> 00:08:46,889
uh of the application. So, this can be

254
00:08:46,889 --> 00:08:48,969
used obviously for that

255
00:08:48,969 --> 00:08:51,210
environment, uh, QA and prod.

256
00:08:52,500 --> 00:08:54,500
Uh, the lambdas are in,

257
00:08:54,538 --> 00:08:56,729
uh, in another folder in the source, and they,

258
00:08:56,788 --> 00:08:57,759
uh, they are

259
00:08:58,019 --> 00:09:00,099
checked out every time you publish

260
00:09:00,099 --> 00:09:01,599
it with terraform and, uh,

261
00:09:02,019 --> 00:09:03,519
they are written in Python.

262
00:09:04,058 --> 00:09:04,849
Uh, there are

263
00:09:05,460 --> 00:09:07,460
different versions we will see then what

264
00:09:07,460 --> 00:09:08,168
it means.

265
00:09:08,619 --> 00:09:11,129
And in the source we also have, uh,

266
00:09:11,139 --> 00:09:13,340
some, uh, scripts, uh, AP scripts

267
00:09:13,340 --> 00:09:14,239
that we use

268
00:09:14,658 --> 00:09:16,879
to simulate, uh, traffic. So,

269
00:09:17,158 --> 00:09:19,259
in this moment we have two.

270
00:09:20,058 --> 00:09:22,719
Different, uh, uh, helpers

271
00:09:22,859 --> 00:09:24,210
script that are running.

272
00:09:24,739 --> 00:09:26,739
This one is the legit, uh,

273
00:09:26,750 --> 00:09:28,340
legit, uh, uh,

274
00:09:28,840 --> 00:09:31,048
uh, worker that is, uh,

275
00:09:31,058 --> 00:09:33,399
sending, uh, orders basically

276
00:09:33,619 --> 00:09:35,200
that are compliant with the,

277
00:09:35,820 --> 00:09:38,178
with the structure that we want to use and

278
00:09:38,178 --> 00:09:40,219
there is another helper that, but I don't want

279
00:09:40,219 --> 00:09:42,418
to talk about it now but we

280
00:09:42,418 --> 00:09:43,359
will see in a moment.

281
00:09:45,570 --> 00:09:46,109
OK.

282
00:09:46,440 --> 00:09:47,750
OK. So,

283
00:09:49,500 --> 00:09:50,139
Thank you, Igor.

284
00:09:51,019 --> 00:09:53,038
So, this is our situation

285
00:09:53,038 --> 00:09:54,099
and yeah.

286
00:09:54,500 --> 00:09:56,739
So makes the

287
00:09:56,739 --> 00:09:58,149
first version of the application.

288
00:09:58,869 --> 00:10:00,460
OK? Version 1.0

289
00:10:00,908 --> 00:10:02,450
and they deploy it. And,

290
00:10:02,869 --> 00:10:04,960
yeah. As always, it is the most secure

291
00:10:04,960 --> 00:10:05,950
and incredible

292
00:10:06,590 --> 00:10:08,629
application in the history of the new technologies, but

293
00:10:08,629 --> 00:10:09,889
as you can imagine, no.

294
00:10:11,080 --> 00:10:12,298
Always has problems,

295
00:10:12,960 --> 00:10:15,279
um, so which is the first problem

296
00:10:15,558 --> 00:10:17,599
they are starting to, to operate in

297
00:10:17,599 --> 00:10:18,739
the production environment

298
00:10:19,399 --> 00:10:21,519
and suddenly they see or they

299
00:10:21,519 --> 00:10:24,000
receive a notification

300
00:10:24,000 --> 00:10:26,479
from their internal business core uh

301
00:10:26,479 --> 00:10:27,048
department

302
00:10:27,479 --> 00:10:29,779
that they are seeing something that is

303
00:10:30,000 --> 00:10:31,779
anomalous in a bridge.

304
00:10:32,599 --> 00:10:33,418
OK, so

305
00:10:33,759 --> 00:10:36,158
the first problem, and this is real when you are deploying

306
00:10:36,158 --> 00:10:37,340
this kind of things is,

307
00:10:37,798 --> 00:10:39,960
um. You are not making

308
00:10:39,960 --> 00:10:42,099
things fine and you have problems. It's

309
00:10:42,099 --> 00:10:43,399
the first version, so

310
00:10:44,178 --> 00:10:46,460
sometimes happens when you are starting with a new

311
00:10:46,460 --> 00:10:48,538
technology. So, what we're going to see

312
00:10:48,538 --> 00:10:50,320
is um

313
00:10:50,899 --> 00:10:53,009
how we can analyze it, how we can

314
00:10:53,009 --> 00:10:55,500
follow the differences between the APAA

315
00:10:55,500 --> 00:10:57,798
with what is happening inside the bridge to detect

316
00:10:58,219 --> 00:10:59,190
which is the problem.

317
00:11:00,538 --> 00:11:03,000
Why non-allowing producers can

318
00:11:03,000 --> 00:11:05,119
write messages in the bus, which is the problem.

319
00:11:05,710 --> 00:11:07,779
And finally, once we detect everything,

320
00:11:08,139 --> 00:11:10,139
we're going to see if is the policy

321
00:11:10,139 --> 00:11:12,509
is correct or not and if we need to,

322
00:11:12,940 --> 00:11:15,139
to improve it to deploy something

323
00:11:15,139 --> 00:11:16,219
that is more secure.

324
00:11:16,619 --> 00:11:18,700
So my colleague Egor is going to show

325
00:11:18,700 --> 00:11:19,519
you the code,

326
00:11:20,940 --> 00:11:22,989
and. So,

327
00:11:23,889 --> 00:11:26,029
bear with us if the, maybe the first

328
00:11:26,029 --> 00:11:28,090
example will be very trivial and very,

329
00:11:28,330 --> 00:11:29,729
let's say, stupid, but

330
00:11:30,048 --> 00:11:32,369
it was just to showcase to anyone what, what

331
00:11:32,369 --> 00:11:33,908
can be the problems, because

332
00:11:34,369 --> 00:11:36,369
what we are saying now is

333
00:11:36,369 --> 00:11:38,229
what we saw in some

334
00:11:38,690 --> 00:11:39,769
engagement. So,

335
00:11:40,580 --> 00:11:42,729
Maybe for all of you is

336
00:11:42,729 --> 00:11:43,538
trivial, but

337
00:11:43,928 --> 00:11:45,099
anyway, we'll see.

338
00:11:45,779 --> 00:11:47,849
So now this is the, the,

339
00:11:47,899 --> 00:11:50,019
the clouded console. So the first box

340
00:11:50,019 --> 00:11:52,340
is showing how many messages

341
00:11:52,340 --> 00:11:54,460
are arriving to the even bridge,

342
00:11:55,379 --> 00:11:57,460
and this is, uh, the

343
00:11:57,460 --> 00:11:59,678
number of invocation of the lambda

344
00:11:59,678 --> 00:12:00,349
that will

345
00:12:00,619 --> 00:12:02,668
put events in the even bridge,

346
00:12:03,399 --> 00:12:05,418
uh, or you are already seeing that

347
00:12:05,418 --> 00:12:06,099
there is a.

348
00:12:07,259 --> 00:12:09,418
A great mismatch in the number of invocation

349
00:12:09,418 --> 00:12:11,619
of this lambda and the number of

350
00:12:11,619 --> 00:12:13,859
events coming here. So the problem is that

351
00:12:14,340 --> 00:12:16,418
in our scenario, the only one that

352
00:12:16,418 --> 00:12:17,408
is should

353
00:12:17,940 --> 00:12:20,080
put events in the even bridge would be

354
00:12:20,538 --> 00:12:21,080
the,

355
00:12:21,619 --> 00:12:23,979
the lambda. So why we are seeing

356
00:12:23,979 --> 00:12:24,879
this mismatch.

357
00:12:25,570 --> 00:12:27,710
And you can also see that uh

358
00:12:28,048 --> 00:12:30,158
uh those messages are arriving to,

359
00:12:30,340 --> 00:12:31,279
to the other lambda

360
00:12:31,609 --> 00:12:33,629
that is trying to manage those

361
00:12:33,629 --> 00:12:35,690
events and some

362
00:12:35,690 --> 00:12:38,070
of them are generating errors.

363
00:12:39,129 --> 00:12:41,928
And they are going to the DLQQ.

364
00:12:42,629 --> 00:12:44,729
And you can also see here from

365
00:12:44,729 --> 00:12:46,869
the number of errors that are rising

366
00:12:46,869 --> 00:12:48,928
up. So,

367
00:12:49,048 --> 00:12:49,779
basically,

368
00:12:50,048 --> 00:12:51,899
as I said, it's very trivial

369
00:12:52,369 --> 00:12:53,190
configuration.

370
00:12:53,548 --> 00:12:55,649
Uh, I just want to, mm I forgot

371
00:12:55,649 --> 00:12:57,940
to say that uh the scenario

372
00:12:58,210 --> 00:13:00,250
is supposed to work uh in a

373
00:13:00,250 --> 00:13:01,418
multi-camp strategy.

374
00:13:01,849 --> 00:13:02,548
So, basically,

375
00:13:02,960 --> 00:13:05,048
maybe all of you or many of you

376
00:13:05,048 --> 00:13:07,369
already know what this is a multi-camp strategy.

377
00:13:07,580 --> 00:13:09,769
I just want to, uh, explain

378
00:13:09,769 --> 00:13:11,229
a little. So, basically,

379
00:13:11,759 --> 00:13:13,808
we as a best

380
00:13:13,808 --> 00:13:16,229
practice. We advise to

381
00:13:16,229 --> 00:13:18,269
uh create a different accounts for different

382
00:13:18,269 --> 00:13:18,869
domains.

383
00:13:19,340 --> 00:13:21,500
Uh, because this, uh, improve,

384
00:13:21,538 --> 00:13:24,178
uh, uh, the reliability of, of

385
00:13:24,178 --> 00:13:24,969
all systems.

386
00:13:25,308 --> 00:13:27,399
It, it gives you the ability to,

387
00:13:27,700 --> 00:13:28,359
um,

388
00:13:28,960 --> 00:13:30,519
improve your security posture,

389
00:13:30,940 --> 00:13:33,418
and it gives you also the possibility

390
00:13:33,418 --> 00:13:35,619
to define different operating

391
00:13:35,619 --> 00:13:36,139
model

392
00:13:36,460 --> 00:13:37,779
for, uh, each of the components.

393
00:13:38,219 --> 00:13:40,739
If, uh, for example, you have different

394
00:13:40,739 --> 00:13:42,739
teams working to different components,

395
00:13:42,820 --> 00:13:43,798
you don't want to mix

396
00:13:44,259 --> 00:13:46,158
everything together in a single account and so.

397
00:13:46,668 --> 00:13:48,908
The option is to use different

398
00:13:48,908 --> 00:13:50,288
accounts. In this scenario,

399
00:13:51,029 --> 00:13:53,219
uh, for example, the even bridge will be in a,

400
00:13:53,308 --> 00:13:55,529
a separate account and also

401
00:13:55,529 --> 00:13:57,710
the checkout lambda and the order

402
00:13:57,710 --> 00:14:00,029
lambda are in two different

403
00:14:00,029 --> 00:14:00,908
accounts as well.

404
00:14:01,469 --> 00:14:03,788
And, uh, this is why I'm

405
00:14:03,788 --> 00:14:05,950
saying this because you will see in a moment

406
00:14:05,950 --> 00:14:06,609
what is the.

407
00:14:07,349 --> 00:14:08,538
The very trivial problem.

408
00:14:08,969 --> 00:14:09,519
Many, may,

409
00:14:10,070 --> 00:14:12,109
maybe some of you can uh point out

410
00:14:12,109 --> 00:14:14,609
what, what is the, the issue with this policy.

411
00:14:19,190 --> 00:14:21,349
That this is something that we saw in

412
00:14:21,349 --> 00:14:22,259
an engagement and

413
00:14:25,908 --> 00:14:27,808
Can you say what is the problem?

414
00:14:28,538 --> 00:14:29,808
Raise your voice, please.

415
00:14:31,969 --> 00:14:32,788
Sorry?

416
00:14:35,489 --> 00:14:37,908
Wild card that means that basically

417
00:14:37,908 --> 00:14:39,969
anyone can put events in our even

418
00:14:39,969 --> 00:14:40,729
read. So

419
00:14:41,109 --> 00:14:42,649
as I said, it's very trivial but

420
00:14:43,019 --> 00:14:45,090
anyway. Not, not

421
00:14:45,090 --> 00:14:47,129
everyone is uh taking attention to

422
00:14:47,129 --> 00:14:48,960
this. So, what we will do,

423
00:14:49,330 --> 00:14:51,389
so the, the, the team, the, the,

424
00:14:51,450 --> 00:14:53,308
the fictional team involved in the

425
00:14:53,928 --> 00:14:55,950
checking out what, what was the problem,

426
00:14:56,210 --> 00:14:56,729
uh.

427
00:14:57,658 --> 00:14:59,678
They started making some, uh,

428
00:15:00,330 --> 00:15:02,678
some, uh, checks on the policy,

429
00:15:02,690 --> 00:15:04,969
and uh, OK, they found out that the policy

430
00:15:04,969 --> 00:15:06,190
was totally broken.

431
00:15:06,690 --> 00:15:08,690
And so, they decided to switch

432
00:15:08,690 --> 00:15:09,879
to a new version of the,

433
00:15:10,168 --> 00:15:11,029
of the policy.

434
00:15:12,058 --> 00:15:12,950
And the policy,

435
00:15:13,529 --> 00:15:15,678
uh, it stays with the, the

436
00:15:15,678 --> 00:15:17,690
wild card, but we are adding a, a

437
00:15:17,690 --> 00:15:19,460
very important condition that is

438
00:15:20,090 --> 00:15:20,649
that we

439
00:15:20,940 --> 00:15:23,090
are, uh, we, we want

440
00:15:23,090 --> 00:15:25,210
that the account that connects to

441
00:15:25,210 --> 00:15:27,450
the even bridge and put events is

442
00:15:27,450 --> 00:15:28,649
part of the organization.

443
00:15:28,969 --> 00:15:30,389
So this is the first, uh,

444
00:15:30,690 --> 00:15:32,918
line of descent of defense, I would say,

445
00:15:33,210 --> 00:15:35,250
but we will see that we can improve a

446
00:15:35,250 --> 00:15:36,048
little more. But

447
00:15:36,330 --> 00:15:37,798
for the moment this is the,

448
00:15:38,168 --> 00:15:40,408
the way the team decided to, to fix the

449
00:15:40,408 --> 00:15:43,538
issue. So

450
00:15:43,729 --> 00:15:44,668
we just

451
00:15:44,969 --> 00:15:45,739
change.

452
00:15:50,000 --> 00:15:52,389
So, uh, I don't know if you are, uh,

453
00:15:52,399 --> 00:15:54,519
familiar with terraform. Uh, this is the,

454
00:15:55,080 --> 00:15:57,509
there is uh, the, the, the

455
00:15:57,509 --> 00:15:59,590
resource policy attached to the even bus,

456
00:15:59,599 --> 00:16:00,658
and we are just

457
00:16:01,479 --> 00:16:03,678
including a new version of the, of the

458
00:16:03,678 --> 00:16:04,418
policy

459
00:16:04,759 --> 00:16:05,879
to in order to.

460
00:16:06,798 --> 00:16:07,619
To update it.

461
00:16:12,649 --> 00:16:14,038
OK, so now

462
00:16:14,379 --> 00:16:15,139
we approve it.

463
00:16:21,239 --> 00:16:21,820
OK,

464
00:16:22,080 --> 00:16:24,340
now the policy, the policy

465
00:16:24,340 --> 00:16:25,158
is updated.

466
00:16:26,469 --> 00:16:28,798
And we can take a look at the

467
00:16:31,469 --> 00:16:32,330
This, uh,

468
00:16:32,869 --> 00:16:34,908
task that it was running in the ground

469
00:16:34,908 --> 00:16:37,229
that it was sending random events

470
00:16:37,229 --> 00:16:38,178
to the even Bridge,

471
00:16:38,580 --> 00:16:40,869
at the moment is still able to

472
00:16:40,869 --> 00:16:41,729
send because

473
00:16:42,389 --> 00:16:44,950
the application of the resource policy

474
00:16:44,950 --> 00:16:47,129
is asynchronous. It takes

475
00:16:47,710 --> 00:16:48,349
some moment.

476
00:16:49,058 --> 00:16:50,019
And then in a moment if

477
00:16:51,389 --> 00:16:52,960
the demo time is not.

478
00:16:56,548 --> 00:16:58,668
Is he? It will, it

479
00:16:58,668 --> 00:17:00,229
will appear at the, uh, OK.

480
00:17:01,700 --> 00:17:02,320
So, now,

481
00:17:02,609 --> 00:17:04,979
we see that uh this uh

482
00:17:05,709 --> 00:17:07,920
This worker that was putting

483
00:17:07,920 --> 00:17:10,098
directly events uh with the AWS

484
00:17:10,098 --> 00:17:12,259
uh SDK is not able to

485
00:17:12,259 --> 00:17:13,529
do it anymore because the,

486
00:17:14,078 --> 00:17:16,380
the account is not part of the organization and so

487
00:17:16,380 --> 00:17:17,160
now it's failing.

488
00:17:18,788 --> 00:17:19,409
OK,

489
00:17:19,708 --> 00:17:20,347
OK,

490
00:17:20,909 --> 00:17:23,299
thank you. So

491
00:17:23,920 --> 00:17:24,660
he said

492
00:17:25,259 --> 00:17:27,759
it seems something stupid, but in the 90%

493
00:17:27,759 --> 00:17:30,439
of engagements that we're doing with customers,

494
00:17:31,000 --> 00:17:32,660
the status is a standard pattern

495
00:17:33,000 --> 00:17:34,328
for all configurations

496
00:17:34,838 --> 00:17:35,719
for roles

497
00:17:36,039 --> 00:17:38,239
for even bridge resource policy or whatever.

498
00:17:38,400 --> 00:17:40,400
So this is the first thing that you need

499
00:17:40,400 --> 00:17:41,739
to improve to avoid

500
00:17:42,358 --> 00:17:43,598
external access

501
00:17:43,920 --> 00:17:45,959
is the first line of defense that you

502
00:17:45,959 --> 00:17:47,299
have to.

503
00:17:48,289 --> 00:17:50,299
To avoid external people to write things

504
00:17:50,299 --> 00:17:52,410
in the bus or read the things that

505
00:17:52,410 --> 00:17:54,578
are written in the bus or these kind of things, OK?

506
00:17:55,789 --> 00:17:58,650
So, nice. Now we have the version 2.0.

507
00:17:59,549 --> 00:18:01,289
We are controlling the external axis.

508
00:18:02,318 --> 00:18:03,789
But uh mm,

509
00:18:04,108 --> 00:18:05,130
do you think it's enough?

510
00:18:08,140 --> 00:18:09,618
I suppose that you say that, no.

511
00:18:11,140 --> 00:18:11,699
It's clear.

512
00:18:12,338 --> 00:18:14,368
So, now we are working

513
00:18:14,368 --> 00:18:15,219
with the

514
00:18:15,608 --> 00:18:16,160
application and again.

515
00:18:17,180 --> 00:18:19,219
The business team called us and

516
00:18:19,219 --> 00:18:21,338
said us that we are still

517
00:18:21,338 --> 00:18:23,578
having anomaly messages

518
00:18:23,578 --> 00:18:24,390
in the bus.

519
00:18:24,939 --> 00:18:26,739
OK, so we need to analyze

520
00:18:27,140 --> 00:18:29,380
what is happening now. I suppose that

521
00:18:29,380 --> 00:18:30,799
everything is working as suspected.

522
00:18:31,299 --> 00:18:32,818
We updated the policy.

523
00:18:33,338 --> 00:18:35,140
We blocked the external, uh,

524
00:18:35,578 --> 00:18:36,519
the external

525
00:18:37,170 --> 00:18:38,338
producers, um.

526
00:18:39,130 --> 00:18:40,269
What is happening now?

527
00:18:40,848 --> 00:18:43,529
So let's see how we can secure

528
00:18:43,529 --> 00:18:45,890
from different points, uh, internally.

529
00:18:46,130 --> 00:18:47,828
So the first thing is that

530
00:18:48,608 --> 00:18:50,640
we still have more messages than we have.

531
00:18:50,650 --> 00:18:52,328
How we can analyze it or see it.

532
00:18:52,959 --> 00:18:55,209
The second one is we're going to analyze

533
00:18:55,209 --> 00:18:57,489
again the policy. Are we 100%

534
00:18:57,489 --> 00:18:59,809
sure that the previous policy is

535
00:18:59,809 --> 00:19:01,858
correct? Do you think that the previous policy

536
00:19:01,858 --> 00:19:04,189
is correct? That the

537
00:19:04,358 --> 00:19:06,469
the policy that we deployed in the previous step.

538
00:19:07,979 --> 00:19:09,150
For sure, it's not correct.

539
00:19:10,618 --> 00:19:11,828
Needs to be improved.

540
00:19:13,078 --> 00:19:15,078
And the latest one is how to control

541
00:19:15,078 --> 00:19:16,779
the access to the information. So

542
00:19:17,779 --> 00:19:19,739
it was up to you. Let me change to the

543
00:19:20,279 --> 00:19:21,000
to the demo.

544
00:19:21,390 --> 00:19:22,939
OK. Still we have

545
00:19:23,640 --> 00:19:25,380
more events than than expected.

546
00:19:26,239 --> 00:19:28,640
So as you can imagine, the, the,

547
00:19:28,719 --> 00:19:31,180
the policy that we wrote, uh, before,

548
00:19:31,838 --> 00:19:32,680
yeah, it.

549
00:19:33,650 --> 00:19:36,118
Uh, it, uh, restricted a little, uh,

550
00:19:36,130 --> 00:19:36,699
the,

551
00:19:37,289 --> 00:19:39,328
the, the, the surface attacker,

552
00:19:39,449 --> 00:19:41,930
but basically, the, now we,

553
00:19:42,328 --> 00:19:43,199
we, we just,

554
00:19:43,650 --> 00:19:45,809
uh, trusted all, uh, all,

555
00:19:45,818 --> 00:19:47,920
uh, accounts in our organization.

556
00:19:48,049 --> 00:19:50,410
So what happened is in

557
00:19:50,410 --> 00:19:52,650
this scenario is that, uh, another team,

558
00:19:53,209 --> 00:19:55,289
uh, saw that the, the, the first team

559
00:19:55,289 --> 00:19:57,380
was using the even bridge and so

560
00:19:57,380 --> 00:19:59,410
they said, OK, it's fantastic. So we

561
00:19:59,410 --> 00:20:00,578
want to use it as well.

562
00:20:01,309 --> 00:20:03,430
So, uh, instead of trying to understand

563
00:20:03,430 --> 00:20:04,930
how it works and whatever,

564
00:20:05,269 --> 00:20:06,449
they just copy paste,

565
00:20:07,108 --> 00:20:09,348
uh, the configuration and so it's

566
00:20:09,348 --> 00:20:11,500
fine. We, we are sending events.

567
00:20:11,630 --> 00:20:13,549
But anyway, the problem is that

568
00:20:13,949 --> 00:20:16,029
those events are not for

569
00:20:16,029 --> 00:20:17,410
the same domain and, uh,

570
00:20:17,910 --> 00:20:19,699
again, it's not something that

571
00:20:20,029 --> 00:20:21,689
you want to mix, uh,

572
00:20:21,989 --> 00:20:23,989
different events and different type of

573
00:20:23,989 --> 00:20:26,209
sources in the same even bridge.

574
00:20:26,959 --> 00:20:27,739
So, basically,

575
00:20:28,358 --> 00:20:29,140
we are,

576
00:20:29,559 --> 00:20:31,578
uh, the team uh

577
00:20:31,578 --> 00:20:33,868
was investigating and we, uh,

578
00:20:34,170 --> 00:20:36,479
uh, they find out also another problem

579
00:20:36,479 --> 00:20:38,459
in the configuration of the um bridge

580
00:20:39,039 --> 00:20:41,098
that is basically the, the rule.

581
00:20:41,358 --> 00:20:43,578
So here we have the rule that basically

582
00:20:43,880 --> 00:20:44,439
gets

583
00:20:44,838 --> 00:20:46,380
all the, the events

584
00:20:46,959 --> 00:20:49,019
and forward them to the

585
00:20:49,019 --> 00:20:49,759
SQSQ.

586
00:20:50,380 --> 00:20:52,689
If we go to the event pattern,

587
00:20:52,900 --> 00:20:53,930
OK, this is, again,

588
00:20:54,189 --> 00:20:55,880
this, this is a very bad pattern,

589
00:20:56,140 --> 00:20:58,279
I would say because it's basically sending

590
00:20:59,009 --> 00:20:59,598
everything to.

591
00:21:00,500 --> 00:21:01,660
Uh, to the queue,

592
00:21:01,979 --> 00:21:04,660
so, but it's not

593
00:21:04,660 --> 00:21:07,000
completely useless, this, this kind of pattern.

594
00:21:07,618 --> 00:21:08,449
We, we can talk later.

595
00:21:09,219 --> 00:21:11,479
I, we don't have now the, the demo,

596
00:21:11,529 --> 00:21:13,578
but this is something, for example, that can be

597
00:21:13,578 --> 00:21:15,779
used to store all the events

598
00:21:15,779 --> 00:21:18,459
that pass in the event bridge for further analysis

599
00:21:18,459 --> 00:21:20,838
to auditing purposes. So

600
00:21:21,459 --> 00:21:22,769
it's not something that

601
00:21:23,098 --> 00:21:24,299
is completely useless,

602
00:21:24,578 --> 00:21:25,809
this kind of pattern, but

603
00:21:26,068 --> 00:21:28,689
for our use case for sure, no, it's not the

604
00:21:28,689 --> 00:21:29,279
best choice.

605
00:21:29,769 --> 00:21:30,989
Because basically

606
00:21:32,160 --> 00:21:34,650
external events are going to the to the

607
00:21:35,049 --> 00:21:37,049
to the SQS and the lambda is called

608
00:21:37,049 --> 00:21:39,088
for no reason for for events that

609
00:21:39,088 --> 00:21:39,709
are not

610
00:21:40,368 --> 00:21:41,108
uh

611
00:21:41,650 --> 00:21:43,729
not the right. So what we can do

612
00:21:43,729 --> 00:21:44,469
is to

613
00:21:44,848 --> 00:21:45,640
again to

614
00:21:46,890 --> 00:21:47,759
Improve

615
00:21:49,259 --> 00:21:51,118
The, the policy

616
00:21:51,459 --> 00:21:52,118
like this.

617
00:21:53,098 --> 00:21:54,979
So instead of using uh

618
00:21:55,539 --> 00:21:57,539
the principal wild card.

619
00:21:58,449 --> 00:22:00,920
And uh and the condition on uh the

620
00:22:00,920 --> 00:22:02,989
organization we demand that uh

621
00:22:03,449 --> 00:22:05,568
uh the principal is uh uh a

622
00:22:05,568 --> 00:22:07,689
specific IM role. In this case it will

623
00:22:07,689 --> 00:22:09,910
be an IM role in another account,

624
00:22:10,328 --> 00:22:11,170
but that's fine

625
00:22:11,689 --> 00:22:14,029
for our purposes. And we are also putting

626
00:22:14,029 --> 00:22:16,150
a uh an additional condition

627
00:22:16,608 --> 00:22:19,000
on the content of the events itself. So

628
00:22:19,000 --> 00:22:20,449
there is event source

629
00:22:20,809 --> 00:22:22,809
and we want that, uh, the sources

630
00:22:22,809 --> 00:22:24,328
like this e-commerce orders.

631
00:22:24,920 --> 00:22:27,199
So there are lots of conditions

632
00:22:27,199 --> 00:22:29,618
that are available for resource policy

633
00:22:29,618 --> 00:22:30,439
for the bridge.

634
00:22:31,189 --> 00:22:33,750
I suggest you to take a look at the documentation

635
00:22:33,750 --> 00:22:36,229
if you haven't done before, and

636
00:22:36,670 --> 00:22:38,799
they give you powerful option

637
00:22:38,799 --> 00:22:40,969
to restrict uh the more possible

638
00:22:41,709 --> 00:22:43,299
the, the access to the,

639
00:22:43,789 --> 00:22:44,670
to the Hidden Bridge.

640
00:22:45,459 --> 00:22:47,459
Depending also on the on the

641
00:22:47,459 --> 00:22:48,759
content of the event itself.

642
00:22:49,858 --> 00:22:51,989
And the other thing that we are fixing is

643
00:22:51,989 --> 00:22:54,150
the rule itself because again this

644
00:22:54,150 --> 00:22:55,449
was a very bad rule,

645
00:22:56,029 --> 00:22:56,689
I would say.

646
00:22:57,539 --> 00:22:59,219
And so, the event pattern

647
00:23:00,098 --> 00:23:02,140
becomes something like this. And this, in this

648
00:23:02,140 --> 00:23:04,338
case, we are, again, we are demanding

649
00:23:04,818 --> 00:23:06,838
that the source is e-commerce orders

650
00:23:07,059 --> 00:23:09,180
and that the detail type is

651
00:23:09,180 --> 00:23:11,259
some something

652
00:23:11,259 --> 00:23:13,199
among these three different uh

653
00:23:13,618 --> 00:23:15,680
options. So,

654
00:23:15,729 --> 00:23:17,430
basically, here we are also

655
00:23:18,318 --> 00:23:20,529
enforcing a message

656
00:23:20,529 --> 00:23:22,930
uh integrity, basically.

657
00:23:23,769 --> 00:23:24,348
So now we,

658
00:23:24,608 --> 00:23:25,588
we can apply

659
00:23:25,848 --> 00:23:26,920
again our uh

660
00:23:27,519 --> 00:23:28,949
I forgot to save the file.

661
00:23:31,000 --> 00:23:33,078
It's very important to save the file, I

662
00:23:33,078 --> 00:23:45,068
would say. OK,

663
00:23:45,229 --> 00:23:45,818
now,

664
00:23:46,430 --> 00:23:48,578
again. We should

665
00:23:48,578 --> 00:23:50,068
see in a moment that the

666
00:23:51,390 --> 00:23:53,449
The random event generator

667
00:23:53,449 --> 00:23:55,130
is failing in a moment.

668
00:23:56,380 --> 00:23:58,430
And now we are sure that we

669
00:23:58,430 --> 00:24:00,769
are using the

670
00:24:00,769 --> 00:24:02,088
correct pattern for the rule.

671
00:24:03,199 --> 00:24:05,269
And we are also

672
00:24:06,410 --> 00:24:08,559
Improving the security posture

673
00:24:08,559 --> 00:24:10,930
of the of the even bridge

674
00:24:10,930 --> 00:24:12,269
using a proper.

675
00:24:13,318 --> 00:24:13,969
Permission,

676
00:24:14,250 --> 00:24:16,269
sorry, I lost myself, OK.

677
00:24:20,279 --> 00:24:20,880
OK,

678
00:24:21,160 --> 00:24:23,039
and now you see that there is the.

679
00:24:23,868 --> 00:24:25,229
No, it's not the right one.

680
00:24:28,269 --> 00:24:30,309
Something serious is happening. What's

681
00:24:30,309 --> 00:24:31,588
happening at the moment.

682
00:24:35,568 --> 00:24:37,250
Demo time as always.

683
00:24:38,969 --> 00:24:39,568
I see.

684
00:24:41,608 --> 00:24:42,729
I forgot

685
00:24:43,088 --> 00:24:45,029
to update the the policy, yeah,

686
00:24:45,289 --> 00:24:46,289
the policy version

687
00:24:46,618 --> 00:24:48,309
is still that's why.

688
00:24:50,068 --> 00:24:52,400
I mean, It's in the takeaways

689
00:24:52,400 --> 00:24:54,479
at the end, but uh I will accept it right now.

690
00:24:55,309 --> 00:24:57,338
If you have very

691
00:24:57,799 --> 00:24:59,989
strict uh security

692
00:24:59,989 --> 00:25:02,348
requirements and you need to isolate all the

693
00:25:02,348 --> 00:25:04,400
applications, always custom.

694
00:25:05,880 --> 00:25:08,199
Uh, default bus, we only use it

695
00:25:08,199 --> 00:25:10,279
for specific buses or applications

696
00:25:10,279 --> 00:25:12,439
in which security is not a, let's say a

697
00:25:12,439 --> 00:25:13,019
requirement.

698
00:25:13,559 --> 00:25:15,598
I mean, imagine the typical example in which

699
00:25:15,598 --> 00:25:17,979
you are going to write a specific blog

700
00:25:18,559 --> 00:25:19,479
with no,

701
00:25:20,059 --> 00:25:22,479
uh, sensitive information or with any

702
00:25:22,479 --> 00:25:24,019
kind of information that is important.

703
00:25:24,439 --> 00:25:25,160
You can use it.

704
00:25:25,689 --> 00:25:27,789
But uh for the rest of our recommendation

705
00:25:27,890 --> 00:25:30,049
in terms of security is custom

706
00:25:30,328 --> 00:25:32,449
with very strict security requirements

707
00:25:32,449 --> 00:25:34,838
to isolate all the applications, the buses, producers,

708
00:25:34,848 --> 00:25:35,588
and consumers.

709
00:25:36,049 --> 00:25:38,088
Yeah, let me add instead for

710
00:25:38,088 --> 00:25:39,509
the application standpoint

711
00:25:40,130 --> 00:25:42,430
that having just a bus for

712
00:25:42,689 --> 00:25:44,848
all the messages of all the

713
00:25:44,848 --> 00:25:45,529
application that.

714
00:25:46,559 --> 00:25:48,209
In, uh, requires

715
00:25:48,559 --> 00:25:49,250
more

716
00:25:50,430 --> 00:25:51,989
effort in managing all

717
00:25:52,348 --> 00:25:53,989
the events that, so

718
00:25:54,269 --> 00:25:55,328
in the end, if you have,

719
00:25:55,670 --> 00:25:57,509
I don't know, 10 applications that are

720
00:25:57,828 --> 00:26:00,130
writing to the default bus and then you have

721
00:26:00,348 --> 00:26:01,568
5, 10 rules,

722
00:26:02,229 --> 00:26:02,969
you

723
00:26:03,390 --> 00:26:05,670
must be very careful when you change

724
00:26:05,670 --> 00:26:07,910
something in the rule because you can impact

725
00:26:07,910 --> 00:26:10,029
some other flow. So

726
00:26:10,029 --> 00:26:11,088
the ideal situation

727
00:26:11,549 --> 00:26:13,549
is to have an even bus for

728
00:26:13,549 --> 00:26:14,529
each uh domain.

729
00:26:15,380 --> 00:26:17,489
For each, for each application domain because you,

730
00:26:17,618 --> 00:26:19,559
you can manage uh easily,

731
00:26:19,900 --> 00:26:22,180
uh, all the, all the events

732
00:26:22,180 --> 00:26:24,338
that uh are going to the event bus.

733
00:26:24,739 --> 00:26:26,358
And moreover, uh,

734
00:26:27,059 --> 00:26:29,660
you can, uh, you can scale better

735
00:26:29,660 --> 00:26:31,699
because you can, uh, you, you, when you

736
00:26:31,699 --> 00:26:34,279
are adding new domains or new flows.

737
00:26:35,088 --> 00:26:35,838
You're

738
00:26:36,848 --> 00:26:39,029
Your point of intervention is, is small

739
00:26:39,029 --> 00:26:41,170
and the blast radios if

740
00:26:41,170 --> 00:26:42,430
something goes wrong is

741
00:26:42,848 --> 00:26:43,868
just for that

742
00:26:44,250 --> 00:26:46,289
specific, uh, workflow. Otherwise if you

743
00:26:46,289 --> 00:26:48,289
are messing around with the,

744
00:26:48,328 --> 00:26:50,709
the default even bridge and you do something,

745
00:26:50,719 --> 00:26:52,930
uh, stupid, let's say you

746
00:26:52,930 --> 00:26:54,828
can impact everything. So that's

747
00:26:55,209 --> 00:26:57,368
why we suggest to use custom even

748
00:26:57,368 --> 00:26:57,920
bridge us.

749
00:26:58,930 --> 00:26:59,469
OK,

750
00:27:00,529 --> 00:27:02,250
thank you for your question. It was a good one.

751
00:27:03,410 --> 00:27:05,769
OK, OK, so now

752
00:27:05,769 --> 00:27:08,098
just. To see, OK, the

753
00:27:08,098 --> 00:27:09,559
event is stopped, OK,

754
00:27:10,140 --> 00:27:12,170
so. Uh,

755
00:27:12,250 --> 00:27:13,098
oh, sorry,

756
00:27:13,529 --> 00:27:14,289
the PowerPoint.

757
00:27:15,838 --> 00:27:17,838
OK, so now we are

758
00:27:17,838 --> 00:27:20,078
controlling the external access. We

759
00:27:20,078 --> 00:27:21,799
are controlling the internal access

760
00:27:22,189 --> 00:27:24,279
only to the specific producers and

761
00:27:24,279 --> 00:27:26,279
consumers that we need to allow the access

762
00:27:26,279 --> 00:27:26,920
to the bus.

763
00:27:27,880 --> 00:27:28,809
But the.

764
00:27:29,608 --> 00:27:31,789
Seems that everything is working in the new version,

765
00:27:31,989 --> 00:27:34,189
but do you think that we still

766
00:27:34,509 --> 00:27:36,578
have problems or everything has solved?

767
00:27:36,789 --> 00:27:38,029
Um, what do you think?

768
00:27:39,640 --> 00:27:41,799
That can happens with the the current configuration

769
00:27:41,799 --> 00:27:42,338
in which

770
00:27:42,719 --> 00:27:43,250
we

771
00:27:43,519 --> 00:27:45,559
we improve the policy we improve the

772
00:27:45,559 --> 00:27:47,750
roles uh everything has been solved

773
00:27:48,160 --> 00:27:50,509
there's still some specific uh issues

774
00:27:50,509 --> 00:27:51,219
that can be.

775
00:27:52,189 --> 00:27:54,049
Detected in in Urban Bridge.

776
00:27:56,449 --> 00:27:57,250
OK.

777
00:27:57,650 --> 00:27:58,368
Let me explain.

778
00:27:58,689 --> 00:27:59,890
The next one is that

779
00:28:00,289 --> 00:28:02,328
the problem with the message integrity.

780
00:28:03,219 --> 00:28:04,259
Imagine this,

781
00:28:04,539 --> 00:28:05,479
you have a bus.

782
00:28:06,509 --> 00:28:07,410
I'm writing

783
00:28:08,029 --> 00:28:09,608
events or messages,

784
00:28:10,108 --> 00:28:12,489
but, uh, what happens, uh, maybe

785
00:28:12,750 --> 00:28:14,750
one person is going to write a message in

786
00:28:14,750 --> 00:28:16,309
which is going to use only,

787
00:28:16,630 --> 00:28:18,670
for example, name and surname. Another one is

788
00:28:18,670 --> 00:28:20,328
going to write something that is

789
00:28:20,670 --> 00:28:22,670
import a number of items or these kind of

790
00:28:22,670 --> 00:28:23,430
things. So

791
00:28:23,750 --> 00:28:25,828
this is something that can cause a problem in terms

792
00:28:25,828 --> 00:28:26,689
of security.

793
00:28:27,400 --> 00:28:28,390
OK, so

794
00:28:28,650 --> 00:28:31,368
we need also to manage the message integrity

795
00:28:31,608 --> 00:28:33,608
using some specific, uh, even bridge,

796
00:28:33,650 --> 00:28:35,130
uh, capabilities that we have.

797
00:28:35,489 --> 00:28:37,598
So in this example what we're going to do is,

798
00:28:37,608 --> 00:28:39,509
um, for the message activity,

799
00:28:39,890 --> 00:28:41,959
why we have discarded messages when you

800
00:28:41,959 --> 00:28:44,130
have, uh, problems with the standardization

801
00:28:44,130 --> 00:28:46,130
of the messages, what you see is that

802
00:28:46,130 --> 00:28:47,930
you are discarding a lot of messages.

803
00:28:49,449 --> 00:28:51,500
Um, why are appealing messages

804
00:28:51,500 --> 00:28:52,630
that aren't the standard

805
00:28:53,180 --> 00:28:55,180
and how we can avoid it, which is

806
00:28:55,180 --> 00:28:57,539
the, the most important part of all of this, so

807
00:28:57,539 --> 00:28:59,239
it's all up to you, OK.

808
00:29:00,078 --> 00:29:02,900
So, whenever you have a synchronous

809
00:29:02,900 --> 00:29:05,078
application and you have maybe different teams,

810
00:29:05,229 --> 00:29:07,358
the one that is producing an event, another

811
00:29:07,358 --> 00:29:09,219
one that is consuming that event,

812
00:29:09,640 --> 00:29:11,680
you need to find an agreement between

813
00:29:11,680 --> 00:29:13,160
those two applications

814
00:29:13,640 --> 00:29:14,559
because you want to,

815
00:29:15,068 --> 00:29:17,150
to make sure that the events are in the

816
00:29:17,150 --> 00:29:19,259
format that is expected to, to

817
00:29:19,259 --> 00:29:20,759
be consumed and uh

818
00:29:21,078 --> 00:29:23,239
and you want to make sure that uh

819
00:29:23,239 --> 00:29:24,088
the data.

820
00:29:25,098 --> 00:29:27,140
That is serialized in the event is

821
00:29:27,140 --> 00:29:29,338
done de serialized correctly by by

822
00:29:29,338 --> 00:29:30,199
the consumer.

823
00:29:30,979 --> 00:29:32,979
And so, and you want to make

824
00:29:32,979 --> 00:29:35,019
sure that the the two application

825
00:29:35,529 --> 00:29:38,160
can evolve uh in parallel

826
00:29:38,160 --> 00:29:39,818
uh using the same

827
00:29:40,318 --> 00:29:42,539
schema event for the event, OK.

828
00:29:43,098 --> 00:29:45,759
So, one option that we have is the schema registry

829
00:29:46,259 --> 00:29:47,439
for, for even bridge.

830
00:29:47,739 --> 00:29:48,598
So basically

831
00:29:49,068 --> 00:29:51,309
you will see that there is uh

832
00:29:51,799 --> 00:29:53,868
The AWS event scheme a registry that

833
00:29:53,868 --> 00:29:55,279
uh uh

834
00:29:55,559 --> 00:29:56,979
share all the events

835
00:29:57,400 --> 00:29:58,539
that AWS

836
00:29:58,920 --> 00:30:01,160
uh send to Eden Bridge for

837
00:30:01,160 --> 00:30:03,279
uh for their own uh

838
00:30:03,279 --> 00:30:04,140
services.

839
00:30:04,719 --> 00:30:06,759
So if you want to integrate

840
00:30:06,759 --> 00:30:08,789
to some of that of the services that is

841
00:30:08,789 --> 00:30:09,420
sending

842
00:30:09,759 --> 00:30:11,959
events, you can take advantage of the

843
00:30:12,199 --> 00:30:14,680
of the schema to implement uh the bindings

844
00:30:14,680 --> 00:30:15,809
for your applications.

845
00:30:16,239 --> 00:30:18,779
But not only you can also publish

846
00:30:18,779 --> 00:30:19,920
your own schemas.

847
00:30:20,630 --> 00:30:23,449
So are you familiar with the

848
00:30:23,459 --> 00:30:25,449
the Jason schema notation for

849
00:30:26,029 --> 00:30:28,068
for event schemas

850
00:30:28,068 --> 00:30:30,088
uh any of you is is using it.

851
00:30:31,719 --> 00:30:32,299
OK.

852
00:30:33,189 --> 00:30:35,189
So, basically, this is uh a

853
00:30:35,189 --> 00:30:37,170
format that allows you to

854
00:30:37,588 --> 00:30:39,729
express, to, to describe the

855
00:30:39,729 --> 00:30:42,229
event in terms of uh number of

856
00:30:42,229 --> 00:30:44,180
name of the fields, types. Uh

857
00:30:44,588 --> 00:30:46,588
you can implement also some kind

858
00:30:46,588 --> 00:30:48,750
of validation of the of

859
00:30:48,750 --> 00:30:49,328
the

860
00:30:49,809 --> 00:30:51,549
specific types that you have.

861
00:30:52,049 --> 00:30:54,598
And this allows you to, again, to

862
00:30:55,818 --> 00:30:57,880
Uh, publish an

863
00:30:57,880 --> 00:30:58,828
information that is useful

864
00:30:59,529 --> 00:31:01,559
not only for the for the consumer but

865
00:31:01,559 --> 00:31:03,769
also for the producers. So basically what we do

866
00:31:04,049 --> 00:31:05,630
is that we can, uh,

867
00:31:06,209 --> 00:31:07,539
create those events,

868
00:31:07,848 --> 00:31:10,029
making sure that those events are

869
00:31:10,640 --> 00:31:11,299
completely,

870
00:31:11,729 --> 00:31:12,680
uh,

871
00:31:13,049 --> 00:31:15,209
compliant with the standard that is defined in

872
00:31:15,209 --> 00:31:16,088
the, in the scheme.

873
00:31:16,858 --> 00:31:18,979
Uh, what you are seeing now, this

874
00:31:18,979 --> 00:31:21,019
schema, uh, is not

875
00:31:21,019 --> 00:31:23,180
something that I wrote because I'm not

876
00:31:23,180 --> 00:31:23,979
particularly

877
00:31:24,299 --> 00:31:25,858
expert of those schemas,

878
00:31:26,180 --> 00:31:28,660
but this, this has been, uh, uh, discovered

879
00:31:28,660 --> 00:31:30,588
automatically by even Bridge. So,

880
00:31:31,059 --> 00:31:32,469
uh an important and

881
00:31:32,818 --> 00:31:34,818
I would say powerful option that you have is

882
00:31:34,818 --> 00:31:37,199
that to, uh, start recording

883
00:31:37,578 --> 00:31:39,660
events that flows into

884
00:31:39,660 --> 00:31:40,519
the even Bridge

885
00:31:40,900 --> 00:31:43,009
and then, uh, let, uh, the

886
00:31:43,009 --> 00:31:45,170
system discover the, the.

887
00:31:45,630 --> 00:31:47,670
Um, and the schema for you

888
00:31:47,670 --> 00:31:49,588
based on, on the samples that uh

889
00:31:50,019 --> 00:31:50,930
even Bridge is seeing.

890
00:31:51,979 --> 00:31:53,979
So, basically, what you see, what

891
00:31:53,979 --> 00:31:56,180
you see here, that the, these events are,

892
00:31:56,299 --> 00:31:58,660
have been uh discovered automatically

893
00:31:58,660 --> 00:31:59,209
by,

894
00:31:59,618 --> 00:32:01,900
by the Bridge given the, the

895
00:32:01,900 --> 00:32:03,449
events that I sent to the,

896
00:32:03,779 --> 00:32:04,640
to the Bridge.

897
00:32:06,118 --> 00:32:08,118
And these are the three types that we

898
00:32:08,118 --> 00:32:09,739
saw before during uh

899
00:32:10,199 --> 00:32:12,269
uh in the role, for example, so the

900
00:32:12,269 --> 00:32:14,640
order canceled, the order created and the order

901
00:32:14,640 --> 00:32:15,170
updated.

902
00:32:16,098 --> 00:32:18,279
And the other important thing that that

903
00:32:18,279 --> 00:32:20,890
you can do with this tool is that you can

904
00:32:20,890 --> 00:32:22,400
download the code bindings.

905
00:32:23,098 --> 00:32:23,818
So,

906
00:32:24,180 --> 00:32:26,858
they are available for the major uh scripting

907
00:32:26,858 --> 00:32:28,680
language or coding language.

908
00:32:29,299 --> 00:32:31,578
And once you download them, you have

909
00:32:31,578 --> 00:32:33,400
basically the, the,

910
00:32:34,259 --> 00:32:36,640
the code binding that maps this

911
00:32:36,640 --> 00:32:38,078
schema to

912
00:32:38,578 --> 00:32:40,578
actual objects inside your uh your

913
00:32:40,578 --> 00:32:41,559
uh runtime.

914
00:32:42,289 --> 00:32:43,949
So you can get

915
00:32:44,410 --> 00:32:46,500
uh fields from, from the,

916
00:32:46,588 --> 00:32:48,689
from this object or you can set fields of on

917
00:32:48,689 --> 00:32:49,338
this object

918
00:32:49,729 --> 00:32:50,910
and automatically

919
00:32:51,380 --> 00:32:52,009
um

920
00:32:52,449 --> 00:32:54,449
the code also takes care of

921
00:32:54,449 --> 00:32:56,729
uh uh validating the data

922
00:32:56,729 --> 00:32:58,118
that you are putting in the,

923
00:32:58,489 --> 00:32:59,410
in the field based on,

924
00:32:59,689 --> 00:33:01,848
on the validation uh and

925
00:33:01,848 --> 00:33:03,890
on the type that you that you put

926
00:33:03,890 --> 00:33:05,229
here. So basically,

927
00:33:05,969 --> 00:33:08,088
here we can see that we have uh.

928
00:33:09,328 --> 00:33:11,709
The total amount, here is a number

929
00:33:12,449 --> 00:33:14,269
in format double, so.

930
00:33:15,509 --> 00:33:17,719
When you, when you create when you set uh

931
00:33:17,719 --> 00:33:20,189
the, the total amount in your uh business logic,

932
00:33:20,479 --> 00:33:22,519
you must, uh, the, the code and

933
00:33:22,519 --> 00:33:23,479
then, sorry,

934
00:33:24,078 --> 00:33:26,160
the class will, uh will give an error

935
00:33:26,160 --> 00:33:28,400
if you are sending something that is not

936
00:33:28,400 --> 00:33:30,439
uh uh compliant with

937
00:33:30,439 --> 00:33:31,559
the, with the format.

938
00:33:33,348 --> 00:33:34,039
And

939
00:33:34,380 --> 00:33:36,500
so basically this allow

940
00:33:36,500 --> 00:33:37,449
you to,

941
00:33:37,979 --> 00:33:39,640
again, to have uh

942
00:33:40,180 --> 00:33:42,578
a commonplace where producer and consumer

943
00:33:42,578 --> 00:33:44,299
can share the schemas

944
00:33:44,660 --> 00:33:46,779
and allows you to, to

945
00:33:46,779 --> 00:33:47,779
be more self

946
00:33:48,299 --> 00:33:50,858
uh so more independent in evolving

947
00:33:50,858 --> 00:33:53,199
uh the schemas, for example, because you have versioning.

948
00:33:53,660 --> 00:33:55,729
So, for example, maybe at some point,

949
00:33:55,739 --> 00:33:58,239
uh, the order API will

950
00:33:58,699 --> 00:34:00,779
Upgraded to a new version and they

951
00:34:00,779 --> 00:34:03,009
are adding some field. OK,

952
00:34:03,180 --> 00:34:05,259
so, and they will

953
00:34:05,259 --> 00:34:07,519
maybe expose a new version, but

954
00:34:07,890 --> 00:34:10,128
adding the, the old version still there

955
00:34:10,579 --> 00:34:12,579
and you can, uh, by looking

956
00:34:12,579 --> 00:34:15,010
up at the version of the event,

957
00:34:15,300 --> 00:34:17,360
you can forward the request to

958
00:34:17,500 --> 00:34:19,500
the API, the version 1

959
00:34:19,898 --> 00:34:21,978
or or the API version 2.

960
00:34:22,887 --> 00:34:24,967
And this also grants to

961
00:34:24,967 --> 00:34:26,548
the producer to being

962
00:34:27,369 --> 00:34:29,530
Uh, compatible with the, with the,

963
00:34:29,648 --> 00:34:32,030
with the schema published for the version

964
00:34:32,030 --> 00:34:33,648
that he is currently using.

965
00:34:35,528 --> 00:34:36,599
OK, so,

966
00:34:37,188 --> 00:34:37,768
um,

967
00:34:38,137 --> 00:34:40,298
now we have an application in which uh

968
00:34:40,298 --> 00:34:41,148
we are managing.

969
00:34:42,539 --> 00:34:44,929
Properly external connectivity, internal

970
00:34:44,929 --> 00:34:46,329
connectivity, and also

971
00:34:46,628 --> 00:34:48,728
what are the messages that uh goes to the,

972
00:34:48,909 --> 00:34:49,909
to the Bridge.

973
00:34:50,250 --> 00:34:51,269
OK? But now,

974
00:34:52,030 --> 00:34:54,148
The problem that uh usually we have

975
00:34:54,148 --> 00:34:55,010
or we see

976
00:34:55,289 --> 00:34:57,340
when we are working is that um you

977
00:34:57,340 --> 00:34:58,369
deploy application

978
00:34:58,708 --> 00:35:00,750
you solve the problems that you are finding,

979
00:35:01,228 --> 00:35:03,228
but during the life cycle of application

980
00:35:03,228 --> 00:35:05,429
you are going to make changes. Maybe you are going

981
00:35:05,429 --> 00:35:07,510
to support the new version of R API

982
00:35:07,510 --> 00:35:09,349
change specific module.

983
00:35:09,750 --> 00:35:11,750
Maybe your company is going to deploy

984
00:35:11,750 --> 00:35:14,030
a new, a new feature and you need to add something

985
00:35:14,030 --> 00:35:15,610
new, which is fine.

986
00:35:16,500 --> 00:35:18,199
Uh, and which is the problem.

987
00:35:18,969 --> 00:35:21,000
The problem is that um a lot of

988
00:35:21,000 --> 00:35:22,679
times with the box,

989
00:35:23,188 --> 00:35:25,050
the developers are making changes.

990
00:35:25,550 --> 00:35:27,809
You solve everything that we solved before.

991
00:35:28,619 --> 00:35:30,750
And the developer comes today and

992
00:35:30,750 --> 00:35:32,010
to deploy the new model.

993
00:35:32,489 --> 00:35:34,590
He changes against everything, and you

994
00:35:34,590 --> 00:35:36,829
are against in the first step or in the second

995
00:35:36,829 --> 00:35:38,128
one or in the 3rd. So

996
00:35:38,809 --> 00:35:40,030
for this kind of things is

997
00:35:40,389 --> 00:35:42,519
we want to show you how we can see if we

998
00:35:42,519 --> 00:35:43,728
did a good job

999
00:35:44,188 --> 00:35:46,228
and what are the, the options that we

1000
00:35:46,228 --> 00:35:48,559
have, uh, to control this. For example,

1001
00:35:48,869 --> 00:35:50,239
how we can detect anomalies,

1002
00:35:50,628 --> 00:35:52,829
something that is important you can put it based

1003
00:35:52,829 --> 00:35:55,478
on some specific AWS technologies.

1004
00:35:56,000 --> 00:35:58,079
Specific rules to notify you

1005
00:35:58,079 --> 00:36:00,458
when something strange is happening

1006
00:36:00,458 --> 00:36:01,239
in your bus.

1007
00:36:01,969 --> 00:36:04,010
And the second one is that if someone

1008
00:36:04,010 --> 00:36:06,168
is changing policies or making a change, how

1009
00:36:06,168 --> 00:36:08,369
we can detect it and and

1010
00:36:08,369 --> 00:36:10,199
receive a notification or or see that,

1011
00:36:10,610 --> 00:36:12,610
for example, someone is changing the resource policy

1012
00:36:12,610 --> 00:36:13,530
attached to the.

1013
00:36:14,389 --> 00:36:15,449
To the En Bridge,

1014
00:36:15,820 --> 00:36:16,369
um,

1015
00:36:16,668 --> 00:36:17,228
up to you.

1016
00:36:18,739 --> 00:36:19,369
OK.

1017
00:36:19,780 --> 00:36:21,938
So, basically, what we can do

1018
00:36:21,938 --> 00:36:23,989
to implement this kind of uh

1019
00:36:23,989 --> 00:36:26,010
feature is a config. So, basically,

1020
00:36:26,079 --> 00:36:26,789
a config

1021
00:36:27,219 --> 00:36:29,478
is uh a, a service, very important

1022
00:36:29,478 --> 00:36:31,800
service in AWS that uh records

1023
00:36:32,260 --> 00:36:34,378
any uh resource

1024
00:36:34,378 --> 00:36:36,519
created or updated or deleted.

1025
00:36:37,099 --> 00:36:38,418
So you can track

1026
00:36:38,739 --> 00:36:40,719
the life cycle of the resource.

1027
00:36:41,449 --> 00:36:43,579
He, for example, you can see here

1028
00:36:43,579 --> 00:36:44,599
this resource.

1029
00:36:46,289 --> 00:36:48,449
Here you can see the configuration

1030
00:36:48,449 --> 00:36:49,719
of the, of the bus.

1031
00:36:49,978 --> 00:36:52,289
Uh you can see the configuration item

1032
00:36:52,289 --> 00:36:52,969
for the bus.

1033
00:36:53,369 --> 00:36:55,510
So basically, you are seeing all the

1034
00:36:55,989 --> 00:36:58,250
parameters that have been set to

1035
00:36:58,250 --> 00:36:59,398
create that bus.

1036
00:37:00,929 --> 00:37:03,010
Here you will also see, for example, the

1037
00:37:03,010 --> 00:37:05,010
policy. The

1038
00:37:05,010 --> 00:37:06,800
policy that we set before.

1039
00:37:07,699 --> 00:37:08,780
Now, I,

1040
00:37:09,139 --> 00:37:10,250
let's see if it works.

1041
00:37:10,579 --> 00:37:12,619
I, I restored the, the

1042
00:37:12,619 --> 00:37:14,619
first version, the very secure version of

1043
00:37:14,619 --> 00:37:16,478
the policy because I wanted,

1044
00:37:16,739 --> 00:37:18,280
OK, yeah, it works.

1045
00:37:18,539 --> 00:37:20,659
I wanted to showcase uh the

1046
00:37:20,659 --> 00:37:22,739
check. So, basically what we are doing

1047
00:37:22,739 --> 00:37:25,059
here, we have implemented uh a custom

1048
00:37:25,059 --> 00:37:27,969
rule. So

1049
00:37:27,969 --> 00:37:30,139
we have to, to be honest, two rules.

1050
00:37:30,260 --> 00:37:32,378
One is, uh, uh, an AWS

1051
00:37:32,378 --> 00:37:33,510
manage the rule.

1052
00:37:34,059 --> 00:37:36,260
So that is, uh, provided directly

1053
00:37:36,260 --> 00:37:37,648
by AWS and you can, uh,

1054
00:37:37,938 --> 00:37:39,978
OK, if you add a new rule, you have

1055
00:37:40,219 --> 00:37:42,458
a catalog of, uh, rules related

1056
00:37:42,458 --> 00:37:43,688
to the value services.

1057
00:37:44,219 --> 00:37:46,260
So for example, now if we go to

1058
00:37:46,260 --> 00:37:47,139
even bridge.

1059
00:37:49,699 --> 00:37:51,449
We can see that we have available

1060
00:37:52,030 --> 00:37:52,628
to.

1061
00:37:53,530 --> 00:37:55,619
Uh, two rules. One, that

1062
00:37:55,769 --> 00:37:57,269
detects if the

1063
00:37:57,918 --> 00:38:00,039
The even bridge doesn't have

1064
00:38:00,039 --> 00:38:01,090
a resource policy,

1065
00:38:01,478 --> 00:38:03,840
and the other one is for the schema registry.

1066
00:38:04,110 --> 00:38:06,300
Again, for, for having it with

1067
00:38:06,300 --> 00:38:08,840
a with a resource policy attached.

1068
00:38:09,590 --> 00:38:12,219
And we also created another

1069
00:38:13,039 --> 00:38:14,239
policy, a custom one.

1070
00:38:15,119 --> 00:38:15,829
That is

1071
00:38:16,639 --> 00:38:18,619
using a lambda to check

1072
00:38:19,030 --> 00:38:21,320
specific properties of the

1073
00:38:21,320 --> 00:38:22,300
even bridge. So

1074
00:38:22,639 --> 00:38:23,789
there is

1075
00:38:24,489 --> 00:38:26,139
a rule language

1076
00:38:26,519 --> 00:38:28,800
that you can use to implement

1077
00:38:28,800 --> 00:38:30,800
some checks directly without

1078
00:38:30,800 --> 00:38:31,958
having to code anything.

1079
00:38:32,688 --> 00:38:34,289
But for this specific use case,

1080
00:38:34,550 --> 00:38:36,769
the rule is not powerful enough

1081
00:38:36,769 --> 00:38:38,889
for to check what we want to

1082
00:38:38,889 --> 00:38:40,610
check. And so, we implemented

1083
00:38:41,050 --> 00:38:43,128
a, a custom script uh written

1084
00:38:43,128 --> 00:38:44,099
again in Python.

1085
00:38:44,969 --> 00:38:47,010
And uh what we want to do to

1086
00:38:47,010 --> 00:38:48,389
check is that uh

1087
00:38:48,809 --> 00:38:51,010
as we saw, we want that

1088
00:38:51,010 --> 00:38:53,250
the resource policy attached to the hidden bridge

1089
00:38:53,250 --> 00:38:54,510
as a rule

1090
00:38:55,128 --> 00:38:57,469
attached to it as a principle

1091
00:38:57,688 --> 00:39:00,070
and it must have also

1092
00:39:00,070 --> 00:39:02,369
a condition based on the event

1093
00:39:02,369 --> 00:39:02,938
source

1094
00:39:03,610 --> 00:39:05,648
regardless of the value we we want that

1095
00:39:05,648 --> 00:39:07,550
in any case the policy

1096
00:39:07,889 --> 00:39:09,429
put this kind of uh

1097
00:39:09,969 --> 00:39:12,219
of check in the in the policy.

1098
00:39:13,079 --> 00:39:14,599
And so we can take a look

1099
00:39:15,059 --> 00:39:16,478
briefly to the code.

1100
00:39:17,619 --> 00:39:19,719
So, the most part of this code is,

1101
00:39:19,728 --> 00:39:21,458
uh, let's say

1102
00:39:22,378 --> 00:39:23,159
for uh

1103
00:39:23,699 --> 00:39:26,059
implementing a proper rule uh

1104
00:39:26,059 --> 00:39:28,519
checker. The, what we want to

1105
00:39:28,699 --> 00:39:30,119
take a look at is the

1106
00:39:32,599 --> 00:39:34,139
Is this one,

1107
00:39:34,719 --> 00:39:37,000
OK, so basically we, once

1108
00:39:37,000 --> 00:39:37,579
we,

1109
00:39:38,239 --> 00:39:40,369
the rule is triggered every time the

1110
00:39:40,369 --> 00:39:41,418
resource is changed,

1111
00:39:41,918 --> 00:39:43,918
OK, and so what happens is that

1112
00:39:43,918 --> 00:39:46,090
uh the event of the change

1113
00:39:46,610 --> 00:39:49,079
is sent to the lambda and the lambda

1114
00:39:49,079 --> 00:39:50,780
does its job of, uh,

1115
00:39:51,119 --> 00:39:53,559
uh, getting the event and parsing it

1116
00:39:53,559 --> 00:39:56,378
and at some point it will forward

1117
00:39:56,958 --> 00:39:58,780
uh to this function.

1118
00:39:59,800 --> 00:40:01,969
That validates the policy compliance.

1119
00:40:02,228 --> 00:40:04,289
And so what it happens that uh it,

1120
00:40:04,309 --> 00:40:07,030
it fetches for the AWS

1121
00:40:07,030 --> 00:40:08,769
uh uh.

1122
00:40:09,929 --> 00:40:12,039
For the AWS uh um

1123
00:40:12,039 --> 00:40:14,110
principle and it checks if there is

1124
00:40:14,110 --> 00:40:16,398
a role in it and not and

1125
00:40:16,398 --> 00:40:18,699
not wildcard or something else.

1126
00:40:19,429 --> 00:40:20,050
It's

1127
00:40:20,409 --> 00:40:22,590
mandating that you use the

1128
00:40:22,590 --> 00:40:24,668
roll and then it checks

1129
00:40:24,668 --> 00:40:25,250
for

1130
00:40:25,849 --> 00:40:27,860
for the even sourcing the

1131
00:40:27,860 --> 00:40:28,409
conditions

1132
00:40:28,869 --> 00:40:31,030
in order to make sure that also this

1133
00:40:31,030 --> 00:40:33,250
uh. This requirement

1134
00:40:33,250 --> 00:40:34,708
is, uh, is met.

1135
00:40:35,530 --> 00:40:37,590
If everything is OK, it will

1136
00:40:37,590 --> 00:40:38,449
uh

1137
00:40:38,769 --> 00:40:40,849
give back to, to, to configure the the

1138
00:40:40,849 --> 00:40:41,668
answer that

1139
00:40:42,250 --> 00:40:44,329
the, the resource is compliant. Otherwise, it

1140
00:40:44,329 --> 00:40:46,369
will say, no, it's not compliant.

1141
00:40:46,398 --> 00:40:48,610
As you can see now, it's non-compliant

1142
00:40:48,610 --> 00:40:49,128
because I,

1143
00:40:49,429 --> 00:40:50,369
as I said, I

1144
00:40:51,250 --> 00:40:53,708
I restored the, the, the bad uh

1145
00:40:54,090 --> 00:40:54,909
policy version.

1146
00:40:55,570 --> 00:40:56,429
So now we

1147
00:40:57,889 --> 00:40:58,519
We can

1148
00:40:59,168 --> 00:41:01,208
update, uh, yeah, I don't know if we

1149
00:41:01,208 --> 00:41:01,989
will see

1150
00:41:02,809 --> 00:41:04,918
immediately because it takes a while because, uh,

1151
00:41:04,929 --> 00:41:05,989
basically it has.

1152
00:41:07,918 --> 00:41:10,349
As we always say, the, the word is asynchronous

1153
00:41:10,349 --> 00:41:12,398
and coffee is totally asynchronous,

1154
00:41:12,519 --> 00:41:13,300
so it takes

1155
00:41:13,559 --> 00:41:15,590
some moment, but in the end, you will

1156
00:41:15,590 --> 00:41:16,458
see that, uh,

1157
00:41:16,719 --> 00:41:18,559
the resource will be compliant again,

1158
00:41:19,110 --> 00:41:21,320
uh, upon, uh, these events of

1159
00:41:21,320 --> 00:41:23,260
non-compliance, you can attach obviously,

1160
00:41:24,679 --> 00:41:26,878
uh, SNS uh.

1161
00:41:27,840 --> 00:41:30,148
SMS events you can do

1162
00:41:30,349 --> 00:41:30,938
basically all the,

1163
00:41:31,369 --> 00:41:33,389
all the usual things that you

1164
00:41:33,389 --> 00:41:34,809
can do in these cases.

1165
00:41:35,378 --> 00:41:35,949
Uh,

1166
00:41:36,349 --> 00:41:38,110
OK, let's see if uh.

1167
00:41:38,878 --> 00:41:40,389
He treats us as compliant.

1168
00:41:41,079 --> 00:41:43,168
It it's, it's more

1169
00:41:43,168 --> 00:41:45,478
time. Yeah, it takes a while 22

1170
00:41:45,478 --> 00:41:46,760
or 3 minutes usually,

1171
00:41:47,360 --> 00:41:48,679
yeah, an important thing is that.

1172
00:41:49,510 --> 00:41:51,458
Even if you are not using uh

1173
00:41:51,958 --> 00:41:52,500
a

1174
00:41:52,760 --> 00:41:54,958
multi-count strategy, so everything is in

1175
00:41:54,958 --> 00:41:56,750
account and in that case,

1176
00:41:57,079 --> 00:41:59,000
the resource policy won't be

1177
00:41:59,909 --> 00:42:02,398
necessary to work because resource policy

1178
00:42:02,398 --> 00:42:03,219
is the only way

1179
00:42:04,398 --> 00:42:05,539
that you can use to

1180
00:42:06,079 --> 00:42:08,360
allow an external account to interact with your

1181
00:42:08,360 --> 00:42:08,869
resources.

1182
00:42:09,610 --> 00:42:12,030
But even if you are in a single account, we

1183
00:42:12,250 --> 00:42:14,289
advise to use resource policies.

1184
00:42:14,469 --> 00:42:15,688
This is a best practice.

1185
00:42:16,090 --> 00:42:18,250
So, there is this concept of defense

1186
00:42:18,250 --> 00:42:18,789
in death.

1187
00:42:19,090 --> 00:42:21,309
So, you want to add

1188
00:42:21,570 --> 00:42:23,659
more layer of security, even for the same

1189
00:42:23,659 --> 00:42:24,219
thing.

1190
00:42:24,809 --> 00:42:27,128
Because, I mean, if you have

1191
00:42:27,128 --> 00:42:29,250
extra layer of security, you are sure

1192
00:42:29,250 --> 00:42:31,489
that even uh if uh a layer

1193
00:42:31,489 --> 00:42:32,260
is broke,

1194
00:42:32,530 --> 00:42:34,769
for some reason you have something else that is

1195
00:42:34,769 --> 00:42:35,510
saving you.

1196
00:42:36,708 --> 00:42:39,030
OK, OK, let's see just

1197
00:42:39,030 --> 00:42:41,159
if, uh, it's now compliant.

1198
00:42:41,429 --> 00:42:42,659
No, no,

1199
00:42:43,469 --> 00:42:45,530
maybe at the end of the session 34 or

1200
00:42:45,530 --> 00:42:47,019
5 minutes. It's not, uh,

1201
00:42:48,010 --> 00:42:48,719
absolutely real time,

1202
00:42:49,429 --> 00:42:51,469
real time unfortunately, configure depending on

1203
00:42:51,469 --> 00:42:52,909
the rule, the change, uh,

1204
00:42:53,188 --> 00:42:55,389
sometimes it's 2 minutes, sometimes it's 5, but

1205
00:42:55,389 --> 00:42:57,349
it's more or less the time that he needs.

1206
00:42:58,559 --> 00:43:00,849
So, nice. What we saw,

1207
00:43:01,039 --> 00:43:01,809
it's uh

1208
00:43:02,438 --> 00:43:04,458
the most standard problems that we see

1209
00:43:04,458 --> 00:43:06,869
in terms of security with with all the customers.

1210
00:43:07,929 --> 00:43:10,010
It's true that uh when you start with uh

1211
00:43:10,010 --> 00:43:10,789
something that is new

1212
00:43:11,168 --> 00:43:12,708
you deploy it right click

1213
00:43:13,090 --> 00:43:14,269
it's working that's fine

1214
00:43:14,648 --> 00:43:15,449
no security

1215
00:43:15,958 --> 00:43:18,128
you start to work on top of that you

1216
00:43:18,128 --> 00:43:20,110
will start to to put security and

1217
00:43:20,530 --> 00:43:22,610
finally you will reach a position in which

1218
00:43:22,610 --> 00:43:24,750
you are applying the the proper security

1219
00:43:24,750 --> 00:43:25,648
to a bridge.

1220
00:43:26,389 --> 00:43:28,418
And this part at the end it's uh it's

1221
00:43:28,418 --> 00:43:31,139
important. A lot of time, uh, customers

1222
00:43:31,139 --> 00:43:33,219
are putting a lot of effort on

1223
00:43:33,219 --> 00:43:35,219
security, but they are not putting any

1224
00:43:35,219 --> 00:43:37,378
kind of effort in audit activities

1225
00:43:37,378 --> 00:43:39,619
to detect that the people with proper

1226
00:43:39,619 --> 00:43:41,860
accesses are making changes to the policies

1227
00:43:41,860 --> 00:43:42,500
and so on.

1228
00:43:43,409 --> 00:43:45,429
So, Uh,

1229
00:43:45,530 --> 00:43:47,590
based on our experience

1230
00:43:47,929 --> 00:43:50,128
working with customers and these

1231
00:43:50,128 --> 00:43:52,208
cases that we explained in

1232
00:43:52,208 --> 00:43:54,478
45 minutes, we cannot explain more,

1233
00:43:54,610 --> 00:43:55,929
OK? It's, it's difficult.

1234
00:43:56,639 --> 00:43:59,000
Um, these are the the takeaways

1235
00:43:59,000 --> 00:44:01,000
and recommendations that uh we provide to

1236
00:44:01,000 --> 00:44:02,010
you, OK?

1237
00:44:02,599 --> 00:44:05,438
The first is, uh, related with

1238
00:44:05,449 --> 00:44:06,539
organization level controls.

1239
00:44:07,378 --> 00:44:08,639
Apply SCPs

1240
00:44:09,349 --> 00:44:11,510
You know, SCPs is a very

1241
00:44:11,510 --> 00:44:12,409
powerful

1242
00:44:12,869 --> 00:44:14,969
preventive control to avoid

1243
00:44:15,349 --> 00:44:17,648
non-allowed security changes.

1244
00:44:18,228 --> 00:44:19,889
So for example,

1245
00:44:20,699 --> 00:44:22,978
If you are not using multi-account

1246
00:44:22,978 --> 00:44:25,139
buses with SEPs, you can block

1247
00:44:25,139 --> 00:44:25,769
it, so.

1248
00:44:26,840 --> 00:44:29,139
Take into account the CP is to provide security.

1249
00:44:30,139 --> 00:44:32,539
Then in terms of a general AWS,

1250
00:44:32,699 --> 00:44:34,699
if you are using AWS organizations

1251
00:44:34,699 --> 00:44:36,820
that we recommend, I suppose that you are

1252
00:44:36,820 --> 00:44:38,519
working in big companies and

1253
00:44:39,059 --> 00:44:41,099
you are not deploying standalone accounts, you are

1254
00:44:41,099 --> 00:44:42,199
using organizations.

1255
00:44:42,958 --> 00:44:45,179
It's important because it helps you

1256
00:44:45,639 --> 00:44:47,958
to control all the access

1257
00:44:47,958 --> 00:44:50,039
across accounts and also to standardize all

1258
00:44:50,039 --> 00:44:52,478
the security controls uh at the

1259
00:44:52,478 --> 00:44:53,179
organizational level.

1260
00:44:54,110 --> 00:44:54,628
OK.

1261
00:44:55,148 --> 00:44:57,148
Another one is at the account

1262
00:44:57,148 --> 00:44:59,398
level. I am permissions.

1263
00:44:59,530 --> 00:45:00,829
I know that I am is

1264
00:45:01,289 --> 00:45:03,579
more or less than 99% of the people

1265
00:45:03,579 --> 00:45:04,188
hates it.

1266
00:45:05,309 --> 00:45:07,469
It's I hate it and I'm working in security

1267
00:45:07,469 --> 00:45:09,688
in AWS. But

1268
00:45:09,789 --> 00:45:10,478
it's important,

1269
00:45:10,750 --> 00:45:11,409
especially

1270
00:45:11,750 --> 00:45:14,110
list uh least uh privileged approach.

1271
00:45:14,389 --> 00:45:16,438
I know that sometimes if you prefer to

1272
00:45:16,438 --> 00:45:18,550
put the organization ID and

1273
00:45:18,550 --> 00:45:20,829
everything can access to the resource, but uh if

1274
00:45:20,829 --> 00:45:22,849
you want to put the proper security in place.

1275
00:45:23,949 --> 00:45:26,199
You need to work properly with the with the IM

1276
00:45:26,199 --> 00:45:26,769
policy

1277
00:45:27,070 --> 00:45:29,228
and also the resource policy, not the

1278
00:45:29,228 --> 00:45:30,909
delegate everything in the IM only.

1279
00:45:32,309 --> 00:45:33,579
The second one is uh

1280
00:45:34,110 --> 00:45:34,969
resource policies.

1281
00:45:35,719 --> 00:45:38,000
Um, attached to En Bridge, basically

1282
00:45:38,000 --> 00:45:40,119
with resource policies you can manage

1283
00:45:40,119 --> 00:45:42,378
properly what are the sources that can send

1284
00:45:42,378 --> 00:45:42,918
events

1285
00:45:43,239 --> 00:45:44,300
to your Avon Bridge,

1286
00:45:44,829 --> 00:45:47,208
uh. You cannot

1287
00:45:47,208 --> 00:45:49,329
imagine the number of the times that we see

1288
00:45:49,329 --> 00:45:50,989
even bridges totally open

1289
00:45:51,409 --> 00:45:53,570
with no resource policy that any

1290
00:45:53,570 --> 00:45:55,688
resource of the organization can write

1291
00:45:55,688 --> 00:45:57,728
information or get information on the resource, so it's

1292
00:45:57,728 --> 00:45:59,918
a. I know that you

1293
00:45:59,918 --> 00:46:01,918
sometimes it is difficult and you need to speak with a

1294
00:46:01,918 --> 00:46:03,059
lot of different teams

1295
00:46:03,360 --> 00:46:05,679
to to get the requirements, but uh we strongly

1296
00:46:05,679 --> 00:46:06,219
recommend it.

1297
00:46:07,500 --> 00:46:08,829
Another one that uh.

1298
00:46:09,530 --> 00:46:11,750
With that that didn't speak here

1299
00:46:11,750 --> 00:46:12,530
is like

1300
00:46:12,829 --> 00:46:14,030
just BPC end points.

1301
00:46:15,188 --> 00:46:17,389
BPC endpoints is an AWS

1302
00:46:17,389 --> 00:46:19,708
technology that allows you to manage everything using

1303
00:46:19,909 --> 00:46:21,989
internally our backbone to

1304
00:46:21,989 --> 00:46:23,228
avoid external connectivity.

1305
00:46:24,159 --> 00:46:26,349
But uh the most important point of BPC

1306
00:46:26,349 --> 00:46:28,478
end points is that in BPCM points you

1307
00:46:28,478 --> 00:46:29,478
can also write.

1308
00:46:30,679 --> 00:46:31,889
I am policies.

1309
00:46:32,929 --> 00:46:35,010
That can control what are the clients

1310
00:46:35,010 --> 00:46:37,250
that can use the BPCN points

1311
00:46:37,250 --> 00:46:38,860
to access to the buses. So,

1312
00:46:39,250 --> 00:46:41,289
the recommendation is put BPCN points

1313
00:46:41,289 --> 00:46:42,708
and manage all the connectivity

1314
00:46:43,128 --> 00:46:44,378
through the BPCN points.

1315
00:46:46,059 --> 00:46:48,289
Another one is at service level

1316
00:46:48,289 --> 00:46:48,869
controls,

1317
00:46:49,139 --> 00:46:49,679
um,

1318
00:46:50,099 --> 00:46:51,280
as it will show you

1319
00:46:51,699 --> 00:46:53,398
specify the event patterns.

1320
00:46:53,978 --> 00:46:56,019
If you don't specify the event patterns

1321
00:46:56,019 --> 00:46:57,519
and maybe

1322
00:46:57,898 --> 00:46:59,500
the rule is going to be executed.

1323
00:47:00,918 --> 00:47:03,119
Making this kind of rules you can use it

1324
00:47:03,119 --> 00:47:03,688
to

1325
00:47:04,079 --> 00:47:05,059
to data lake

1326
00:47:05,329 --> 00:47:07,438
or this kind of thing so we don't recommend

1327
00:47:07,438 --> 00:47:09,519
it. I know in some

1328
00:47:09,519 --> 00:47:11,519
specific examples like I said that

1329
00:47:11,519 --> 00:47:13,559
you can need it to make a copy of the

1330
00:47:13,559 --> 00:47:15,139
events but uh we don't recommend it.

1331
00:47:16,228 --> 00:47:17,340
Schema validation.

1332
00:47:18,300 --> 00:47:20,519
It's it's important and this is something

1333
00:47:20,519 --> 00:47:21,228
that.

1334
00:47:23,300 --> 00:47:25,500
I've never seen a customers deployed.

1335
00:47:25,820 --> 00:47:27,958
It's absolutely true. No one is using it,

1336
00:47:28,500 --> 00:47:29,378
but we recommend it.

1337
00:47:30,418 --> 00:47:32,489
And rule auditing is something that is

1338
00:47:32,489 --> 00:47:34,619
a little bit external from

1339
00:47:34,619 --> 00:47:37,090
our technology, but it's good to

1340
00:47:37,090 --> 00:47:37,878
update the rules

1341
00:47:38,179 --> 00:47:40,280
and see if you are still using it or not

1342
00:47:40,500 --> 00:47:42,699
to delete or or maintain and also

1343
00:47:42,699 --> 00:47:43,820
the content of the rule.

1344
00:47:44,378 --> 00:47:46,739
Sometimes you have a rule in which, uh, you are reacting

1345
00:47:46,739 --> 00:47:48,458
to 6 specific

1346
00:47:48,739 --> 00:47:50,079
specific different events

1347
00:47:50,340 --> 00:47:52,340
and you are removing 3 in your new version

1348
00:47:52,340 --> 00:47:53,250
of the application.

1349
00:47:53,739 --> 00:47:56,019
We recommend to make this kind of audit activities

1350
00:47:56,019 --> 00:47:58,019
to, to analyze it.

1351
00:47:58,728 --> 00:48:00,869
Um, the detection strategies

1352
00:48:01,530 --> 00:48:03,530
clockwork metrics in the

1353
00:48:03,530 --> 00:48:04,510
1st and 2nd

1354
00:48:05,110 --> 00:48:05,719
examples,

1355
00:48:06,208 --> 00:48:08,829
uh, I already use clockwise metrics

1356
00:48:09,119 --> 00:48:11,530
to make a, a specific detection

1357
00:48:12,090 --> 00:48:14,090
comparing what are the number of events that

1358
00:48:14,090 --> 00:48:16,289
you are receiving in the APAgateway and

1359
00:48:16,289 --> 00:48:18,570
what are the number of events that you have

1360
00:48:18,570 --> 00:48:19,119
inside the

1361
00:48:19,409 --> 00:48:21,409
Devon Bridge. So it's, uh, it's important.

1362
00:48:22,949 --> 00:48:24,978
Clotrell you can deploy on top of a

1363
00:48:24,978 --> 00:48:26,708
clotrell a specific uh.

1364
00:48:27,429 --> 00:48:28,478
Uh, rules

1365
00:48:28,780 --> 00:48:30,000
that uh can detect

1366
00:48:30,489 --> 00:48:32,539
some specific actions that maybe

1367
00:48:32,539 --> 00:48:33,320
are not uh

1368
00:48:34,019 --> 00:48:36,250
standard that can be uh an initial

1369
00:48:36,250 --> 00:48:38,418
sign that uh you have a security incident.

1370
00:48:40,070 --> 00:48:41,239
Um, of course,

1371
00:48:41,550 --> 00:48:43,909
rules based on content and behavioral

1372
00:48:43,909 --> 00:48:45,110
analytics, uh,

1373
00:48:45,469 --> 00:48:47,510
you know your business, you know how your

1374
00:48:47,510 --> 00:48:48,398
application needs to,

1375
00:48:48,918 --> 00:48:49,510
to work.

1376
00:48:49,949 --> 00:48:50,889
So if you know it

1377
00:48:51,469 --> 00:48:53,469
deploy it on top of the application and we will

1378
00:48:53,469 --> 00:48:55,889
help you to detect the certain situations in advance.

1379
00:48:56,469 --> 00:48:57,398
Maybe it is, um,

1380
00:48:57,750 --> 00:49:00,030
the 90% of the times is not a

1381
00:49:00,030 --> 00:49:02,059
security incident, but, uh, in case of

1382
00:49:02,059 --> 00:49:04,188
a security incident you will, you will detect it

1383
00:49:04,188 --> 00:49:06,579
very fast. And

1384
00:49:07,079 --> 00:49:09,199
right now that's all that we, we are here

1385
00:49:09,199 --> 00:49:11,239
to explain to you. It's in, again in

1386
00:49:11,239 --> 00:49:12,958
45 minutes we cannot

1387
00:49:13,320 --> 00:49:14,019
explain too much.

1388
00:49:15,079 --> 00:49:17,539
Of course this is related with 7 Bridge

1389
00:49:18,199 --> 00:49:20,369
when you are speaking about a synchronous

1390
00:49:20,369 --> 00:49:22,519
architectures, of course you can put also

1391
00:49:22,519 --> 00:49:23,179
security

1392
00:49:23,679 --> 00:49:24,840
on the application.

1393
00:49:25,159 --> 00:49:27,659
For example, you can put digital signature

1394
00:49:27,659 --> 00:49:28,800
for the message,

1395
00:49:29,320 --> 00:49:31,489
um, to, to be digital design,

1396
00:49:31,969 --> 00:49:34,119
um, and other specific things that

1397
00:49:34,119 --> 00:49:34,820
you can use,

1398
00:49:35,708 --> 00:49:37,938
uh, from our side if you can still

1399
00:49:38,438 --> 00:49:40,320
learn and you can use a skills builder,

1400
00:49:40,800 --> 00:49:42,840
you know that in some cases, well, in

1401
00:49:42,840 --> 00:49:43,688
a lot of cases.

1402
00:49:44,219 --> 00:49:45,659
You have a skills builder,

1403
00:49:46,458 --> 00:49:48,539
free trainings and free labs that you can

1404
00:49:48,539 --> 00:49:50,539
use to to test and to learn

1405
00:49:50,539 --> 00:49:51,898
new things, um.

1406
00:49:52,849 --> 00:49:56,648
Hm. Um,

1407
00:49:57,090 --> 00:49:59,269
this is a specific one for security,

1408
00:49:59,329 --> 00:50:00,510
identity, and compliance.

1409
00:50:01,000 --> 00:50:03,409
Uh, we have everything split in different verticals,

1410
00:50:03,489 --> 00:50:05,570
so, and this kind of things like

1411
00:50:05,570 --> 00:50:07,469
even bridge and resource policies

1412
00:50:07,969 --> 00:50:10,050
are inside security identity

1413
00:50:10,050 --> 00:50:10,708
and compliance.

1414
00:50:11,840 --> 00:50:12,369
And

1415
00:50:12,728 --> 00:50:15,389
the latest thing is that uh unfortunately

1416
00:50:15,648 --> 00:50:17,958
we are still uploading the code to the

1417
00:50:17,958 --> 00:50:20,570
report. We cannot share with you the repository

1418
00:50:20,849 --> 00:50:22,260
to allow you to download the code

1419
00:50:22,929 --> 00:50:25,050
but uh you have here our contacts

1420
00:50:25,050 --> 00:50:26,688
uh heigor I'm Sergio.

1421
00:50:26,969 --> 00:50:28,780
This is our LinkedIn contact. So

1422
00:50:29,329 --> 00:50:31,559
if you have any doubt you, you want to

1423
00:50:31,559 --> 00:50:33,570
contact with uh with us, uh, or

1424
00:50:33,570 --> 00:50:35,510
anything that you need, uh, don't hesitate

1425
00:50:36,000 --> 00:50:36,829
to add us and,

1426
00:50:37,449 --> 00:50:39,250
and send us an email or what you want.

1427
00:50:40,260 --> 00:50:40,969
And

1428
00:50:41,378 --> 00:50:43,659
yeah, from our side it's it's all

1429
00:50:43,978 --> 00:50:46,378
so only to give you thanks for

1430
00:50:46,378 --> 00:50:47,280
coming here today.

