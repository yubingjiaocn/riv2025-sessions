# AWS re:Invent 2025 - 企业软件许可与优化会议总结

## 会议概述

本次会议由AWS的Microsoft许可专家Christine Megot、Gian Paulo和Valerie主讲,重点介绍了在AWS上进行企业软件许可和优化的策略,特别聚焦于Microsoft产品的许可管理。会议强调了Microsoft许可的复杂性,并介绍了AWS提供的优化和许可评估(OLA)项目,这是一个完全免费的服务,帮助客户在迁移到云端时优化计算和许可成本。

演讲者们详细讲解了自带许可(BYOL)和许可包含(License Included)两种模式的区别与应用场景。会议的亮点是宣布了几项新功能,包括针对许可包含实例的优化CPU功能,以及SQL Server高可用性配置的新许可优惠。这些新功能可以显著降低客户的许可成本,特别是对于Windows Server和SQL Server工作负载。通过实际案例展示,一家医疗保健客户通过实施这些优化策略,在1650万美元的EC2支出中识别出了500万美元的节省机会。

## 详细时间线与关键要点

### **开场介绍 (00:00-03:00)**
- 演讲者自我介绍:Christine Megot(Microsoft许可专家)、Gian Paulo和Valerie
- 会议主题:企业软件许可和AWS优化,重点关注Microsoft许可
- 强调Microsoft许可的复杂性,这是客户每周都会咨询的问题

### **会议议程概览 (03:00-05:00)**
- Valerie将介绍优化和许可评估(OLA)项目
- Christine将讲解自带许可(BYOL)和许可包含选项
- 介绍许可优化最佳实践和新功能
- Gian Paulo将演示优化CPU功能和AWS Compute Optimizer
- Valerie将讨论如何通过OLA项目开始实现节省

### **优化和许可评估(OLA)项目介绍 (05:00-15:00)**
- **OLA项目目的**:简化迁移和许可管理流程
- **三个核心问题**:
  1. 收集环境清单(了解现有资源及使用情况)
  2. 评估云业务案例或优化现有AWS部署
  3. 帮助规划迁移路径
- **项目影响数据**:
  - 对客户完全免费
  - 实施建议后平均节省36%成本
  - 基于真实数据的迁移速度提高34%

### **Microsoft许可分析的五大关键问题 (15:00-18:00)**
1. Windows和SQL Server部署规模如何?
2. 如何减少SQL核心数量?
3. 能否将许可带到AWS(BYOL)?
4. 即使可以BYOL,是否应该这样做?
5. 如何在迁移时优化Microsoft企业协议(EA)续约?

### **数据收集方法 (18:00-21:00)**
- **两种方式**:
  1. 使用现有本地工具的清单数据
  2. AWS资助的发现工具(Migration Evaluator、Cloudomize、Modelize it)
- **收集信息**:Windows和SQL Server版本、CPU/内存/存储利用率、实例和数据库信息

### **OLA输出案例研究 (21:00-27:00)**
- **客户案例**:医疗保健客户,EC2支出1650万美元
- **优化策略及节省**:
  1. **实例右调整**(Linux工作负载):节省12%(100万美元)
  2. **优化CPU功能**(Windows和SQL):节省13%(200万美元)
  3. **SQL非生产环境降级**:节省2%(30万美元)
- **总节省机会**:500万美元

### **Microsoft EA续约优化建议 (27:00-31:00)**
- 建议在EA续约前6-12个月进行OLA评估
- **标准建议**:
  1. 停止Windows Server软件保障付款(避免双重付费)
  2. 考虑从永久许可转为订阅许可(更灵活)
  3. 评估许可包含vs BYOL的成本效益
  4. 将企业版降级为标准版(如不使用企业功能)

### **自带许可(BYOL)详解 (31:00-38:00)**
- **许可移动性权益**:
  - 需要软件保障
  - 产品必须符合许可移动性资格
  - 可部署在共享或专用租户上
  - 需填写许可移动性验证表(部署后10天内)
- **符合条件的产品**:Azure DevOps、Exchange Server、SharePoint Server、SQL Server、System Center等
- **SQL Server BYOL规则**:
  - 核心模型:1个核心许可=1个vCPU(最少4核)
  - 服务器+CAL模型:每个实例1个服务器许可+用户/设备CAL
  - 被动故障转移权益:1:1配置(需软件保障)

### **非生产环境优化 (38:00-40:00)**
- SQL Server Developer Edition免费用于非生产环境
- SQL Server 2025新增两个开发者版本(企业版和标准版)
- 限制:不能连接生产数据库,不能用于灾难恢复

### **2019年10月1日许可变更 (40:00-43:00)**
- **影响产品**:不符合许可移动性的产品(Windows Server、Visual Studio、Office)
- **BYOL要求**:
  - 必须是2019年10月1日前发布的版本
  - 必须拥有永久许可(非订阅)
  - 许可必须在2019年10月1日前购买
- **Windows Server BYOL**:使用专用主机,按物理核心数许可

### **许可包含选项 (43:00-48:00)**
- **Windows Server许可包含**:
  - 适用于共享EC2
  - 覆盖所有版本
  - 包含无限Windows Server CAL和2个RDS连接
  - 2022和2025版本必须使用许可包含
  - 按vCPU/秒计费
- **SQL Server许可包含**:
  - 仅核心模型(无需CAL)
  - 提供标准版、企业版和Web版(2022为最后的Web版)
  - Web版仅用于公开访问的网站
  - 按vCPU/秒计费

### **许可优化工具和最佳实践 (48:00-52:00)**
- **AWS License Manager**:
  - 免费工具
  - 跟踪BYOL和许可包含实例
  - 支持多种软件供应商
  - 可设置许可限制或警告
- 另有会议MAM 321(12月4日)深入讲解License Manager新功能

### **新功能1:SQL Server高可用性 (52:00-55:00)**
- **重大更新**:许可包含的SQL Server被动节点现在免除SQL许可费用
- **支持配置**:
  - Always On可用性组
  - 故障转移群集实例
  - 每个集群2个EC2实例
- **要求**:
  - 被动实例大小≤主动实例
  - 需安装AWS Systems Manager代理
  - 适用于新建和现有实例

### **新功能2:优化CPU用于许可包含 (55:00-60:00)**
- **功能说明**:
  - 之前仅支持BYOL,现在扩展到许可包含
  - 同时影响SQL Server和Windows Server许可成本
  - 可禁用超线程或指定vCPU数量
- **计费变化**:许可费用将从EC2实例成本中单独列出
- **限制**:SQL Server最少4核(即使设置更低也按4核计费)
- 适用于新建和现有实例

### **优化CPU与SQL Server的重要性 (60:00-65:00)**
- **问题背景**:SQL Server按可见CPU数量许可
- **客户痛点**:为满足IOPS或内存需求需部署大型实例(如512GB RAM需要R6idn.16xlarge)
- **解决方案**:
  - 实例启动后可修改CPU配置
  - 禁用超线程(适合高性能计算和科学计算)
  - 减少CPU核心数(Windows可降至2核,SQL最少4核)

### **优化CPU的关键优势 (65:00-结束)**
- 降低SQL Server许可成本
- 降低Windows Server许可成本
- 提高某些工作负载的性能(禁用超线程)
- 灵活调整资源配置
- 立即反映在AWS账单中

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


总结:本次会议为AWS客户提供了全面的Microsoft许可优化指南,特别是新推出的优化CPU功能和SQL Server高可用性许可优惠,为客户提供了显著的成本节省机会。建议客户利用免费的OLA项目进行评估,并在Microsoft EA续约前进行优化规划。